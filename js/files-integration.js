/*! For license information please see files-integration.js.LICENSE.txt */
!function(){var e={9282:function(e,t,n){"use strict";var i=n(4155),r=n(5108);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var o,s,u=n(2136).codes,l=u.ERR_AMBIGUOUS_ARGUMENT,c=u.ERR_INVALID_ARG_TYPE,d=u.ERR_INVALID_ARG_VALUE,h=u.ERR_INVALID_RETURN_VALUE,p=u.ERR_MISSING_ARGS,f=n(5961),g=n(9539).inspect,m=n(9539).types,v=m.isPromise,y=m.isRegExp,A=Object.assign?Object.assign:n(8091).assign,b=Object.is?Object.is:n(609);new Map;function T(){var e=n(9158);o=e.isDeepEqual,s=e.isDeepStrictEqual}var C=!1,w=e.exports=k,x={};function S(e){if(e.message instanceof Error)throw e.message;throw new f(e)}function E(e,t,n,i){if(!n){var r=!1;if(0===t)r=!0,i="No value argument passed to `assert.ok()`";else if(i instanceof Error)throw i;var a=new f({actual:n,expected:!0,message:i,operator:"==",stackStartFn:e});throw a.generatedMessage=r,a}}function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];E.apply(void 0,[k,t.length].concat(t))}w.fail=function e(t,n,a,o,s){var u,l=arguments.length;if(0===l)u="Failed";else if(1===l)a=t,t=void 0;else{if(!1===C)C=!0,(i.emitWarning?i.emitWarning:r.warn.bind(r))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094");2===l&&(o="!=")}if(a instanceof Error)throw a;var c={actual:t,expected:n,operator:void 0===o?"fail":o,stackStartFn:s||e};void 0!==a&&(c.message=a);var d=new f(c);throw u&&(d.message=u,d.generatedMessage=!0),d},w.AssertionError=f,w.ok=k,w.equal=function e(t,n,i){if(arguments.length<2)throw new p("actual","expected");t!=n&&S({actual:t,expected:n,message:i,operator:"==",stackStartFn:e})},w.notEqual=function e(t,n,i){if(arguments.length<2)throw new p("actual","expected");t==n&&S({actual:t,expected:n,message:i,operator:"!=",stackStartFn:e})},w.deepEqual=function e(t,n,i){if(arguments.length<2)throw new p("actual","expected");void 0===o&&T(),o(t,n)||S({actual:t,expected:n,message:i,operator:"deepEqual",stackStartFn:e})},w.notDeepEqual=function e(t,n,i){if(arguments.length<2)throw new p("actual","expected");void 0===o&&T(),o(t,n)&&S({actual:t,expected:n,message:i,operator:"notDeepEqual",stackStartFn:e})},w.deepStrictEqual=function e(t,n,i){if(arguments.length<2)throw new p("actual","expected");void 0===o&&T(),s(t,n)||S({actual:t,expected:n,message:i,operator:"deepStrictEqual",stackStartFn:e})},w.notDeepStrictEqual=function e(t,n,i){if(arguments.length<2)throw new p("actual","expected");void 0===o&&T();s(t,n)&&S({actual:t,expected:n,message:i,operator:"notDeepStrictEqual",stackStartFn:e})},w.strictEqual=function e(t,n,i){if(arguments.length<2)throw new p("actual","expected");b(t,n)||S({actual:t,expected:n,message:i,operator:"strictEqual",stackStartFn:e})},w.notStrictEqual=function e(t,n,i){if(arguments.length<2)throw new p("actual","expected");b(t,n)&&S({actual:t,expected:n,message:i,operator:"notStrictEqual",stackStartFn:e})};var I=function e(t,n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.forEach(function(e){e in t&&(void 0!==i&&"string"==typeof i[e]&&y(t[e])&&t[e].test(i[e])?r[e]=i[e]:r[e]=t[e])})};function M(e,t,n,i){if("function"!=typeof t){if(y(t))return t.test(e);if(2===arguments.length)throw new c("expected",["Function","RegExp"],t);if("object"!==a(e)||null===e){var r=new f({actual:e,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:i});throw r.operator=i.name,r}var u=Object.keys(t);if(t instanceof Error)u.push("name","message");else if(0===u.length)throw new d("error",t,"may not be an empty object");return void 0===o&&T(),u.forEach(function(r){"string"==typeof e[r]&&y(t[r])&&t[r].test(e[r])||function(e,t,n,i,r,a){if(!(n in e)||!s(e[n],t[n])){if(!i){var o=new I(e,r),u=new I(t,r,e),l=new f({actual:o,expected:u,operator:"deepStrictEqual",stackStartFn:a});throw l.actual=e,l.expected=t,l.operator=a.name,l}S({actual:e,expected:t,message:i,operator:a.name,stackStartFn:a})}}(e,t,r,n,u,i)}),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function L(e){if("function"!=typeof e)throw new c("fn","Function",e);try{e()}catch(e){return e}return x}function R(e){return v(e)||null!==e&&"object"===a(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function P(e){return Promise.resolve().then(function(){var t;if("function"==typeof e){if(!R(t=e()))throw new h("instance of Promise","promiseFn",t)}else{if(!R(e))throw new c("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then(function(){return t}).then(function(){return x}).catch(function(e){return e})})}function D(e,t,n,i){if("string"==typeof n){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],n);if("object"===a(t)&&null!==t){if(t.message===n)throw new l("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===n)throw new l("error/message",'The error "'.concat(t,'" is identical to the message.'));i=n,n=void 0}else if(null!=n&&"object"!==a(n)&&"function"!=typeof n)throw new c("error",["Object","Error","Function","RegExp"],n);if(t===x){var r="";n&&n.name&&(r+=" (".concat(n.name,")")),r+=i?": ".concat(i):".";var o="rejects"===e.name?"rejection":"exception";S({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(o).concat(r),stackStartFn:e})}if(n&&!M(t,n,i,e))throw t}function O(e,t,n,i){if(t!==x){if("string"==typeof n&&(i=n,n=void 0),!n||M(t,n)){var r=i?": ".concat(i):".",a="doesNotReject"===e.name?"rejection":"exception";S({actual:t,expected:n,operator:e.name,message:"Got unwanted ".concat(a).concat(r,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];E.apply(void 0,[N,t.length].concat(t))}w.throws=function e(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];D.apply(void 0,[e,L(t)].concat(i))},w.rejects=function e(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return P(t).then(function(t){return D.apply(void 0,[e,t].concat(i))})},w.doesNotThrow=function e(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];O.apply(void 0,[e,L(t)].concat(i))},w.doesNotReject=function e(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return P(t).then(function(t){return O.apply(void 0,[e,t].concat(i))})},w.ifError=function e(t){if(null!=t){var n="ifError got unwanted exception: ";"object"===a(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?n+=t.constructor.name:n+=t.message:n+=g(t);var i=new f({actual:t,expected:null,operator:"ifError",message:n,stackStartFn:e}),r=t.stack;if("string"==typeof r){var o=r.split("\n");o.shift();for(var s=i.stack.split("\n"),u=0;u<o.length;u++){var l=s.indexOf(o[u]);if(-1!==l){s=s.slice(0,l);break}}i.stack="".concat(s.join("\n"),"\n").concat(o.join("\n"))}throw i}},w.strict=A(N,w,{equal:w.strictEqual,deepEqual:w.deepStrictEqual,notEqual:w.notStrictEqual,notDeepEqual:w.notDeepStrictEqual}),w.strict.strict=w.strict},5961:function(e,t,n){"use strict";var i=n(4155);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return l(e,arguments,d(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),c(i,e)},u(e)}function l(e,t,n){return l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&c(r,n.prototype),r},l.apply(null,arguments)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var p=n(9539).inspect,f=n(2136).codes.ERR_INVALID_ARG_TYPE;function g(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}var m="",v="",y="",A="",b={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function T(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach(function(t){n[t]=e[t]}),Object.defineProperty(n,"message",{value:e.message}),n}function C(e){return p(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function w(e,t,n){var r="",a="",o=0,s="",u=!1,l=C(e),c=l.split("\n"),d=C(t).split("\n"),p=0,f="";if("strictEqual"===n&&"object"===h(e)&&"object"===h(t)&&null!==e&&null!==t&&(n="strictEqualObject"),1===c.length&&1===d.length&&c[0]!==d[0]){var T=c[0].length+d[0].length;if(T<=10){if(!("object"===h(e)&&null!==e||"object"===h(t)&&null!==t||0===e&&0===t))return"".concat(b[n],"\n\n")+"".concat(c[0]," !== ").concat(d[0],"\n")}else if("strictEqualObject"!==n){if(T<(i.stderr&&i.stderr.isTTY?i.stderr.columns:80)){for(;c[0][p]===d[0][p];)p++;p>2&&(f="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,n-e.length)}(" ",p),"^"),p=0)}}}for(var w=c[c.length-1],x=d[d.length-1];w===x&&(p++<2?s="\n  ".concat(w).concat(s):r=w,c.pop(),d.pop(),0!==c.length&&0!==d.length);)w=c[c.length-1],x=d[d.length-1];var S=Math.max(c.length,d.length);if(0===S){var E=l.split("\n");if(E.length>30)for(E[26]="".concat(m,"...").concat(A);E.length>27;)E.pop();return"".concat(b.notIdentical,"\n\n").concat(E.join("\n"),"\n")}p>3&&(s="\n".concat(m,"...").concat(A).concat(s),u=!0),""!==r&&(s="\n  ".concat(r).concat(s),r="");var k=0,I=b[n]+"\n".concat(v,"+ actual").concat(A," ").concat(y,"- expected").concat(A),M=" ".concat(m,"...").concat(A," Lines skipped");for(p=0;p<S;p++){var L=p-o;if(c.length<p+1)L>1&&p>2&&(L>4?(a+="\n".concat(m,"...").concat(A),u=!0):L>3&&(a+="\n  ".concat(d[p-2]),k++),a+="\n  ".concat(d[p-1]),k++),o=p,r+="\n".concat(y,"-").concat(A," ").concat(d[p]),k++;else if(d.length<p+1)L>1&&p>2&&(L>4?(a+="\n".concat(m,"...").concat(A),u=!0):L>3&&(a+="\n  ".concat(c[p-2]),k++),a+="\n  ".concat(c[p-1]),k++),o=p,a+="\n".concat(v,"+").concat(A," ").concat(c[p]),k++;else{var R=d[p],P=c[p],D=P!==R&&(!g(P,",")||P.slice(0,-1)!==R);D&&g(R,",")&&R.slice(0,-1)===P&&(D=!1,P+=","),D?(L>1&&p>2&&(L>4?(a+="\n".concat(m,"...").concat(A),u=!0):L>3&&(a+="\n  ".concat(c[p-2]),k++),a+="\n  ".concat(c[p-1]),k++),o=p,a+="\n".concat(v,"+").concat(A," ").concat(P),r+="\n".concat(y,"-").concat(A," ").concat(R),k+=2):(a+=r,r="",1!==L&&0!==p||(a+="\n  ".concat(P),k++))}if(k>20&&p<S-2)return"".concat(I).concat(M,"\n").concat(a,"\n").concat(m,"...").concat(A).concat(r,"\n")+"".concat(m,"...").concat(A)}return"".concat(I).concat(u?M:"","\n").concat(a).concat(r).concat(s).concat(f)}var x=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==h(e)||null===e)throw new f("options","Object",e);var r=e.message,a=e.operator,u=e.stackStartFn,l=e.actual,c=e.expected,p=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)n=o(this,d(t).call(this,String(r)));else if(i.stderr&&i.stderr.isTTY&&(i.stderr&&i.stderr.getColorDepth&&1!==i.stderr.getColorDepth()?(m="[34m",v="[32m",A="[39m",y="[31m"):(m="",v="",A="",y="")),"object"===h(l)&&null!==l&&"object"===h(c)&&null!==c&&"stack"in l&&l instanceof Error&&"stack"in c&&c instanceof Error&&(l=T(l),c=T(c)),"deepStrictEqual"===a||"strictEqual"===a)n=o(this,d(t).call(this,w(l,c,a)));else if("notDeepStrictEqual"===a||"notStrictEqual"===a){var g=b[a],x=C(l).split("\n");if("notStrictEqual"===a&&"object"===h(l)&&null!==l&&(g=b.notStrictEqualObject),x.length>30)for(x[26]="".concat(m,"...").concat(A);x.length>27;)x.pop();n=1===x.length?o(this,d(t).call(this,"".concat(g," ").concat(x[0]))):o(this,d(t).call(this,"".concat(g,"\n\n").concat(x.join("\n"),"\n")))}else{var S=C(l),E="",k=b[a];"notDeepEqual"===a||"notEqual"===a?(S="".concat(b[a],"\n\n").concat(S)).length>1024&&(S="".concat(S.slice(0,1021),"...")):(E="".concat(C(c)),S.length>512&&(S="".concat(S.slice(0,509),"...")),E.length>512&&(E="".concat(E.slice(0,509),"...")),"deepEqual"===a||"equal"===a?S="".concat(k,"\n\n").concat(S,"\n\nshould equal\n\n"):E=" ".concat(a," ").concat(E)),n=o(this,d(t).call(this,"".concat(S).concat(E)))}return Error.stackTraceLimit=p,n.generatedMessage=!r,Object.defineProperty(s(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=l,n.expected=c,n.operator=a,Error.captureStackTrace&&Error.captureStackTrace(s(n),u),n.stack,n.name="AssertionError",o(n)}var n,u,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,u=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(e,t){return p(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}({},t,{customInspect:!1,depth:0}))}}],u&&a(n.prototype,u),l&&a(n,l),t}(u(Error));e.exports=x},2136:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var s,u,l={};function c(e,t,n){n||(n=Error);var i=function(n){function i(n,o,s){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),u=r(this,a(i).call(this,function(e,n,i){return"string"==typeof t?t:t(e,n,i)}(n,o,s))),u.code=e,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(i,n),i}(n);l[e]=i}function d(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",function(e,t,r){var a,o,u,l;if(void 0===s&&(s=n(9282)),s("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(o="not ",t.substr(!u||u<0?0:+u,o.length)===o)?(a="must not be",t=t.replace(/^not /,"")):a="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))l="The ".concat(e," ").concat(a," ").concat(d(t,"type"));else{var c=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";l='The "'.concat(e,'" ').concat(c," ").concat(a," ").concat(d(t,"type"))}return l+=". Received type ".concat(i(r))},TypeError),c("ERR_INVALID_ARG_VALUE",function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===u&&(u=n(9539));var r=u.inspect(t);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(i,". Received ").concat(r)},TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",function(e,t,n){var r;return r=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(i(n)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(r,".")},TypeError),c("ERR_MISSING_ARGS",function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];void 0===s&&(s=n(9282)),s(t.length>0,"At least one arg needs to be specified");var r="The ",a=t.length;switch(t=t.map(function(e){return'"'.concat(e,'"')}),a){case 1:r+="".concat(t[0]," argument");break;case 2:r+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:r+=t.slice(0,a-1).join(", "),r+=", and ".concat(t[a-1]," arguments")}return"".concat(r," must be specified")},TypeError),e.exports.codes=l},9158:function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var a=void 0!==/a/g.flags,o=function(e){var t=[];return e.forEach(function(e){return t.push(e)}),t},s=function(e){var t=[];return e.forEach(function(e,n){return t.push([n,e])}),t},u=Object.is?Object.is:n(609),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},c=Number.isNaN?Number.isNaN:n(360);function d(e){return e.call.bind(e)}var h=d(Object.prototype.hasOwnProperty),p=d(Object.prototype.propertyIsEnumerable),f=d(Object.prototype.toString),g=n(9539).types,m=g.isAnyArrayBuffer,v=g.isArrayBufferView,y=g.isDate,A=g.isMap,b=g.isRegExp,T=g.isSet,C=g.isNativeError,w=g.isBoxedPrimitive,x=g.isNumberObject,S=g.isStringObject,E=g.isBooleanObject,k=g.isBigIntObject,I=g.isSymbolObject,M=g.isFloat32Array,L=g.isFloat64Array;function R(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function P(e){return Object.keys(e).filter(R).concat(l(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function D(e,t){if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0}function O(e,t,n,i){if(e===t)return 0!==e||(!n||u(e,t));if(n){if("object"!==r(e))return"number"==typeof e&&c(e)&&c(t);if("object"!==r(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==r(e))return(null===t||"object"!==r(t))&&e==t;if(null===t||"object"!==r(t))return!1}var o,s,l,d,h=f(e);if(h!==f(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var p=P(e),g=P(t);return p.length===g.length&&U(e,t,n,i,1,p)}if("[object Object]"===h&&(!A(e)&&A(t)||!T(e)&&T(t)))return!1;if(y(e)){if(!y(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(b(e)){if(!b(t)||(l=e,d=t,!(a?l.source===d.source&&l.flags===d.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(d))))return!1}else if(C(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(v(e)){if(n||!M(e)&&!L(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===D(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}(e,t))return!1;var R=P(e),O=P(t);return R.length===O.length&&U(e,t,n,i,0,R)}if(T(e))return!(!T(t)||e.size!==t.size)&&U(e,t,n,i,2);if(A(e))return!(!A(t)||e.size!==t.size)&&U(e,t,n,i,3);if(m(e)){if(s=t,(o=e).byteLength!==s.byteLength||0!==D(new Uint8Array(o),new Uint8Array(s)))return!1}else if(w(e)&&!function(e,t){return x(e)?x(t)&&u(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):S(e)?S(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):E(e)?E(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):k(e)?k(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):I(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return U(e,t,n,i,0)}function N(e,t){return t.filter(function(t){return p(e,t)})}function U(e,t,n,a,u,c){if(5===arguments.length){c=Object.keys(e);var d=Object.keys(t);if(c.length!==d.length)return!1}for(var f=0;f<c.length;f++)if(!h(t,c[f]))return!1;if(n&&5===arguments.length){var g=l(e);if(0!==g.length){var m=0;for(f=0;f<g.length;f++){var v=g[f];if(p(e,v)){if(!p(t,v))return!1;c.push(v),m++}else if(p(t,v))return!1}var y=l(t);if(g.length!==y.length&&N(t,y).length!==m)return!1}else{var A=l(t);if(0!==A.length&&0!==N(t,A).length)return!1}}if(0===c.length&&(0===u||1===u&&0===e.length||0===e.size))return!0;if(void 0===a)a={val1:new Map,val2:new Map,position:0};else{var b=a.val1.get(e);if(void 0!==b){var T=a.val2.get(t);if(void 0!==T)return b===T}a.position++}a.val1.set(e,a.position),a.val2.set(t,a.position);var C=function(e,t,n,a,u,l){var c=0;if(2===l){if(!function(e,t,n,i){for(var a=null,s=o(e),u=0;u<s.length;u++){var l=s[u];if("object"===r(l)&&null!==l)null===a&&(a=new Set),a.add(l);else if(!t.has(l)){if(n)return!1;if(!j(e,t,l))return!1;null===a&&(a=new Set),a.add(l)}}if(null!==a){for(var c=o(t),d=0;d<c.length;d++){var h=c[d];if("object"===r(h)&&null!==h){if(!B(a,h,n,i))return!1}else if(!n&&!e.has(h)&&!B(a,h,n,i))return!1}return 0===a.size}return!0}(e,t,n,u))return!1}else if(3===l){if(!function(e,t,n,a){for(var o=null,u=s(e),l=0;l<u.length;l++){var c=i(u[l],2),d=c[0],h=c[1];if("object"===r(d)&&null!==d)null===o&&(o=new Set),o.add(d);else{var p=t.get(d);if(void 0===p&&!t.has(d)||!O(h,p,n,a)){if(n)return!1;if(!q(e,t,d,h,a))return!1;null===o&&(o=new Set),o.add(d)}}}if(null!==o){for(var f=s(t),g=0;g<f.length;g++){var m=i(f[g],2),v=(d=m[0],m[1]);if("object"===r(d)&&null!==d){if(!F(o,e,d,v,n,a))return!1}else if(!(n||e.has(d)&&O(e.get(d),v,!1,a)||F(o,e,d,v,!1,a)))return!1}return 0===o.size}return!0}(e,t,n,u))return!1}else if(1===l)for(;c<e.length;c++){if(!h(e,c)){if(h(t,c))return!1;for(var d=Object.keys(e);c<d.length;c++){var p=d[c];if(!h(t,p)||!O(e[p],t[p],n,u))return!1}return d.length===Object.keys(t).length}if(!h(t,c)||!O(e[c],t[c],n,u))return!1}for(c=0;c<a.length;c++){var f=a[c];if(!O(e[f],t[f],n,u))return!1}return!0}(e,t,n,c,a,u);return a.val1.delete(e),a.val2.delete(t),C}function B(e,t,n,i){for(var r=o(e),a=0;a<r.length;a++){var s=r[a];if(O(t,s,n,i))return e.delete(s),!0}return!1}function _(e){switch(r(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(c(e))return!1}return!0}function j(e,t,n){var i=_(n);return null!=i?i:t.has(i)&&!e.has(i)}function q(e,t,n,i,r){var a=_(n);if(null!=a)return a;var o=t.get(a);return!(void 0===o&&!t.has(a)||!O(i,o,!1,r))&&(!e.has(a)&&O(i,o,!1,r))}function F(e,t,n,i,r,a){for(var s=o(e),u=0;u<s.length;u++){var l=s[u];if(O(n,l,r,a)&&O(i,t.get(l),r,a))return e.delete(l),!0}return!1}e.exports={isDeepEqual:function(e,t){return O(e,t,false)},isDeepStrictEqual:function(e,t){return O(e,t,true)}}},6314:function(e,t,n){"use strict";var i=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];e.exports=function(){for(var e=[],t=0;t<i.length;t++)"function"==typeof n.g[i[t]]&&(e[e.length]=i[t]);return e}},5116:function(e,t,n){"use strict";var i=n(8612),r=n(1768),a=n(8928),o=n(9770);e.exports=o||i.call(a,r)},1768:function(e){"use strict";e.exports=Function.prototype.apply},8928:function(e){"use strict";e.exports=Function.prototype.call},319:function(e,t,n){"use strict";var i=n(8612),r=n(4453),a=n(8928),o=n(5116);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new r("a function is required");return o(i,a,e)}},9770:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},1924:function(e,t,n){"use strict";var i=n(210),r=n(5559),a=r(i("String.prototype.indexOf"));e.exports=function(e,t){var n=i(e,!!t);return"function"==typeof n&&a(e,".prototype.")>-1?r(n):n}},5559:function(e,t,n){"use strict";var i=n(8612),r=n(210),a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||i.call(o,a),u=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(e){var t=s(i,o,arguments);u&&l&&(u(t,"length").configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))}));return t};var d=function(){return s(i,a,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d},5108:function(e,t,n){var i=n(9539),r=n(9282);function a(){return(new Date).getTime()}var o,s=Array.prototype.slice,u={};o=void 0!==n.g&&n.g.console?n.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var l=[[function(){},"log"],[function(){o.log.apply(o,arguments)},"info"],[function(){o.log.apply(o,arguments)},"warn"],[function(){o.warn.apply(o,arguments)},"error"],[function(e){u[e]=a()},"time"],[function(e){var t=u[e];if(!t)throw new Error("No such label: "+e);delete u[e];var n=a()-t;o.log(e+": "+n+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=i.format.apply(null,arguments),o.error(e.stack)},"trace"],[function(e){o.log(i.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=s.call(arguments,1);r.ok(!1,i.format.apply(null,t))}},"assert"]],c=0;c<l.length;c++){var d=l[c],h=d[0],p=d[1];o[p]||(o[p]=h)}e.exports=o},3342:function(e,t,n){"use strict";var i=n(3645),r=n.n(i)()(!0);r.push([e.id,'/*! @license\n * Shaka Player\n * Copyright 2016 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n.shaka-hidden{display:none!important}.shaka-video-container{position:relative;top:0;left:0;display:flex;font-family:Roboto,sans-serif,TengwarTelcontar;font-weight:400;-webkit-font-smoothing:antialiased;user-select:none;-webkit-user-select:none}.shaka-video-container .material-svg-icon{font-size:24px}.shaka-video-container:fullscreen{width:100%;height:100%;background-color:#000}.shaka-video-container:fullscreen .shaka-text-container{font-size:4.4vmin}.shaka-video-container:-webkit-full-screen{width:100%;height:100%;background-color:#000}.shaka-video-container:-webkit-full-screen .shaka-text-container{font-size:4.4vmin}.shaka-video-container:-moz-full-screen{width:100%;height:100%;background-color:#000}.shaka-video-container:-moz-full-screen .shaka-text-container{font-size:4.4vmin}.shaka-video-container:-ms-fullscreen{width:100%;height:100%;background-color:#000}.shaka-video-container:-ms-fullscreen .shaka-text-container{font-size:4.4vmin}.shaka-controls-container{position:absolute;top:0;left:0;right:0;bottom:0;margin:0;padding:0;width:100%;height:100%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;z-index:1}.shaka-video-container:not([shaka-controls=true]) .shaka-controls-container{display:none}.shaka-controls-container *{flex-shrink:0}.shaka-controls-container[casting=true] .shaka-fullscreen-button{display:none}.shaka-canvas-container{position:absolute;top:0;left:0;right:0;bottom:0;margin:0;padding:0;width:100%;height:100%;pointer-events:none}.shaka-vr-canvas-container{position:absolute;top:0;left:0;right:0;bottom:0;margin:0;padding:0;width:100%;height:100%;pointer-events:none}.shaka-bottom-controls{width:98%;padding:0;z-index:1}.shaka-controls-button-panel{padding:0;margin:0;display:flex;flex-direction:row;justify-content:flex-end;align-items:center;overflow:hidden;min-width:48px;font-size:12px;font-weight:400;font-style:normal;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s}.shaka-controls-container[casting=true] .shaka-controls-button-panel,.shaka-controls-container[shown=true] .shaka-controls-button-panel{opacity:1}.shaka-controls-button-panel>*{color:#fff;height:48px;width:48px;line-height:.5;padding:0 2px;background:0 0;border:0;cursor:pointer;opacity:.9;transition:opacity cubic-bezier(.4, 0, .6, 1) .1s;text-shadow:0 0 2px rgba(0,0,0,.5)}.shaka-controls-button-panel>.shaka-fast-forward-button .material-svg-icon,.shaka-controls-button-panel>.shaka-rewind-button .material-svg-icon,.shaka-controls-button-panel>.shaka-skip-next-button .material-svg-icon,.shaka-controls-button-panel>.shaka-skip-previous-button .material-svg-icon,.shaka-controls-button-panel>.shaka-small-play-button .material-svg-icon{font-size:32px}.shaka-controls-button-panel>.shaka-fullscreen-button .material-svg-icon{font-size:24px}.shaka-controls-button-panel>.shaka-overflow-menu-button{position:relative}.shaka-controls-button-panel>.shaka-overflow-menu-button .material-svg-icon{font-size:24px}.shaka-controls-button-panel>:hover{opacity:1}.shaka-controls-button-panel .shaka-overflow-menu-only{display:none}.shaka-play-button-container{margin:0;width:100%;height:100%;flex-shrink:1;position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:1}.shaka-statistics-container{overflow-x:hidden;overflow-y:auto;scrollbar-color:white rgba(0,0,0,0.5);scrollbar-width:thin;min-width:300px;color:#fff;background-color:rgba(35,35,35,.9);font-size:14px;padding:5px 10px;border-radius:2px;position:absolute;z-index:2;left:15px;top:15px;max-height:calc(100% - 115px);opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s}.shaka-controls-container[casting=true] .shaka-statistics-container,.shaka-controls-container[shown=true] .shaka-statistics-container{opacity:1}.shaka-statistics-container div{display:flex;justify-content:space-between}.shaka-statistics-container span{color:#969696}.shaka-ad-statistics-container{overflow-x:hidden;overflow-y:auto;scrollbar-color:white rgba(0,0,0,0.5);scrollbar-width:thin;min-width:150px;color:#fff;background-color:rgba(35,35,35,.9);font-size:14px;padding:5px 10px;border-radius:2px;position:absolute;z-index:2;right:15px;top:15px;max-height:calc(100% - 115px);opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s}.shaka-controls-container[casting=true] .shaka-ad-statistics-container,.shaka-controls-container[shown=true] .shaka-ad-statistics-container{opacity:1}.shaka-ad-statistics-container div{display:flex;justify-content:space-between}.shaka-ad-statistics-container span{color:#969696}.shaka-context-menu{overflow-x:hidden;overflow-y:auto;white-space:nowrap;background:rgba(28,28,28,.9);border-radius:2px;min-width:190px;opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s;display:flex;flex-direction:column;align-items:stretch;position:absolute;z-index:3}.shaka-controls-container[casting=true] .shaka-context-menu,.shaka-controls-container[shown=true] .shaka-context-menu{opacity:1}.shaka-context-menu button{font-size:14px;background:0 0;color:#fff;border:none;min-height:30px;padding:10px;display:flex;align-items:center;cursor:pointer}.shaka-context-menu button:hover{background:rgba(255,255,255,.1)}.shaka-context-menu button label{cursor:pointer;margin-left:5px}.shaka-keyboard-navigation .shaka-context-menu button:focus{background:rgba(255,255,255,.1)}.shaka-context-menu button .shaka-current-selection-span{display:none}.shaka-scrim-container{margin:0;width:100%;position:absolute;left:0;right:0;bottom:0;flex-shrink:1;opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s;height:61px;background:linear-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,.5) 100%)}.shaka-controls-container[casting=true] .shaka-scrim-container,.shaka-controls-container[shown=true] .shaka-scrim-container{opacity:1}.shaka-text-container{position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none;bottom:0;width:100%;min-width:48px;transition:bottom cubic-bezier(.4, 0, .6, 1) .1s;transition-delay:0.5s;font-size:20px;line-height:1.4;color:#fff}.shaka-text-container span.shaka-text-wrapper{display:inline;background:0 0}.shaka-controls-container[shown=true]~.shaka-text-container{transition-delay:0s}.shaka-spinner-container{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%;flex-shrink:1;display:flex;justify-content:center;align-items:center}.shaka-video-container:not([shaka-controls=true]) .shaka-spinner-container{display:none}.shaka-hidden-fast-forward-container,.shaka-hidden-rewind-container{height:100%;width:40%;flex-shrink:1}.shaka-hidden-fast-forward-container{position:absolute;left:0;right:0;top:0;bottom:0;left:60%}.shaka-hidden-rewind-container{position:absolute;left:0;right:0;top:0;bottom:0}.shaka-video-container.no-cursor{cursor:none!important}.shaka-video-container.no-cursor *{cursor:none!important}.shaka-play-button{box-sizing:border-box;padding:calc(15% / 2);width:0;height:0;margin:0;border-radius:50%;box-shadow:rgba(0,0,0,.1) 0 0 20px 0;border:none;background-size:50%;background-repeat:no-repeat;background-position:center center;background-color:rgba(255,255,255,.9);opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s}.shaka-controls-container[casting=true] .shaka-play-button,.shaka-controls-container[shown=true] .shaka-play-button{opacity:1}.shaka-play-button[icon=play]{background-image:url("data:image/svg+xml,%3Csvg%20fill%3D%22%23000000%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M8%205v14l11-7z%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%0A%3C%2Fsvg%3E")}.shaka-play-button[icon=pause]{background-image:url("data:image/svg+xml,%3Csvg%20fill%3D%22%23000000%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M6%2019h4V5H6v14zm8-14v14h4V5h-4z%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%0A%3C%2Fsvg%3E")}.shaka-play-button[icon=replay]{background-image:url("data:image/svg+xml,%3Csvg%20fill%3D%22%231f1f1f%22%20height%3D%2224px%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Cpath%20d%3D%22M480-80q-75%200-140.5-28.5t-114-77q-48.5-48.5-77-114T120-440h80q0%20117%2081.5%20198.5T480-160q117%200%20198.5-81.5T760-440q0-117-81.5-198.5T480-720h-6l62%2062-56%2058-160-160%20160-160%2056%2058-62%2062h6q75%200%20140.5%2028.5t114%2077q48.5%2048.5%2077%20114T840-440q0%2075-28.5%20140.5t-77%20114q-48.5%2048.5-114%2077T480-80Z%22%2F%3E%0A%3C%2Fsvg%3E")}.shaka-current-time{font-size:14px;color:#fff;cursor:pointer;width:auto;padding:0 5px}.shaka-current-time[disabled]{background-color:transparent;color:#fff;cursor:default}.shaka-controls-container button:focus,.shaka-controls-container input:focus{outline:1px solid Highlight}.shaka-controls-container button:-moz-focus-inner,.shaka-controls-container input:-moz-focus-outer{outline:0;border:0}.shaka-controls-container:not(.shaka-keyboard-navigation) button:focus,.shaka-controls-container:not(.shaka-keyboard-navigation) input:focus{outline:0}.shaka-fast-forward-container,.shaka-rewind-container{height:100%;width:100%;flex-shrink:1;position:absolute;left:0;right:0;top:0;bottom:0;display:flex;flex-direction:row;justify-content:center;align-items:center;margin:0;border:none;color:#fff;background-color:rgba(0,0,0,.5);cursor:default;font-size:20px;opacity:0;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.shaka-fast-forward-container{border-radius:40% 0 0 40%}.shaka-rewind-container{border-radius:0 40% 40% 0}.shaka-forward-rewind-container-icon{font-size:32px}.shaka-range-container{position:relative;top:0;left:0;margin:calc((12px - 4px)/ 2) 6px;height:4px;border-radius:4px;background:#fff;box-sizing:content-box}.shaka-volume-bar-container{width:100px;padding:0;transition-property:opacity,width;transition-duration:250ms;transition-timing-function:cubic-bezier(0.4,0,0.6,1)}.shaka-volume-bar-container:hover{width:100px!important;opacity:1!important}@media (max-width:474px){.shaka-volume-bar-container{width:50px}.shaka-volume-bar-container:hover{width:50px!important}.shaka-mute-button:hover+.shaka-volume-bar-container-allow-hiding{width:50px;opacity:1}}.shaka-mute-button+.shaka-volume-bar-container-allow-hiding:not(:focus-within){width:0;opacity:0}@media (min-width:475px){.shaka-mute-button:hover+.shaka-volume-bar-container-allow-hiding{width:100px;opacity:1}}.shaka-range-element{-webkit-appearance:none;background:0 0;cursor:pointer;position:absolute;top:0;left:0;right:0;bottom:0;margin:0;padding:0;width:100%;height:100%;height:12px;top:calc((4px - 12px)/ 2);z-index:1}.shaka-range-element::-webkit-slider-runnable-track{width:100%;cursor:pointer;height:12px;background:0 0;color:transparent;border:none}.shaka-range-element::-webkit-slider-thumb{-webkit-appearance:none;border:none;border-radius:12px;height:12px;width:12px;background:#fff}.shaka-range-element::-moz-range-track{width:100%;cursor:pointer;height:12px;background:0 0;color:transparent;border:none}.shaka-range-element::-moz-range-thumb{-webkit-appearance:none;border:none;border-radius:12px;height:12px;width:12px;background:#fff}.shaka-seek-bar-container{opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s;top:5px;height:5px;margin-bottom:0;background-clip:padding-box!important;border-top:4px solid transparent;border-bottom:4px solid transparent}.shaka-controls-container[casting=true] .shaka-seek-bar-container,.shaka-controls-container[shown=true] .shaka-seek-bar-container{opacity:1}.shaka-seek-bar-container .shaka-seek-bar{transition:opacity cubic-bezier(.4, 0, .6, 1) 250ms;opacity:0}.shaka-seek-bar-container:hover .shaka-seek-bar{opacity:1}.shaka-ad-markers{position:absolute;top:0;left:0;right:0;bottom:0;margin:0;padding:0;width:100%;height:100%}.shaka-spacer{cursor:default;flex-shrink:1;flex-grow:1;margin:0}.shaka-overflow-menu,.shaka-settings-menu{overflow-x:hidden;overflow-y:auto;scrollbar-color:white rgba(0,0,0,0.5);scrollbar-width:thin;white-space:nowrap;background:rgba(28,28,28,.9);border-radius:15px;max-height:250px;min-width:190px;padding:5px 0;opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s;display:flex;flex-direction:column;align-items:stretch;position:absolute;z-index:2;right:15px;bottom:62px}.shaka-controls-container[casting=true] .shaka-overflow-menu,.shaka-controls-container[casting=true] .shaka-settings-menu,.shaka-controls-container[shown=true] .shaka-overflow-menu,.shaka-controls-container[shown=true] .shaka-settings-menu{opacity:1}.shaka-overflow-menu button,.shaka-settings-menu button{font-size:14px;background:0 0;color:#fff;border:none;min-height:30px;padding:10px;display:flex;align-items:center;cursor:pointer}.shaka-overflow-menu button:hover,.shaka-settings-menu button:hover{background:rgba(255,255,255,.1)}.shaka-overflow-menu button label,.shaka-settings-menu button label{cursor:pointer}.shaka-keyboard-navigation .shaka-overflow-menu button:focus,.shaka-keyboard-navigation .shaka-settings-menu button:focus{background:rgba(255,255,255,.1)}.shaka-overflow-menu .material-svg-icon,.shaka-settings-menu .material-svg-icon{padding-left:0;padding-right:10px}.shaka-overflow-menu .material-svg-icon.shaka-chosen-item,.shaka-settings-menu .material-svg-icon.shaka-chosen-item{order:-1;line-height:17px;font-size:18px}.shaka-overflow-menu.shaka-low-position,.shaka-settings-menu.shaka-low-position{bottom:48px}.shaka-overflow-menu span{text-align:left}.shaka-overflow-button-label{position:relative;display:flex;flex-direction:column}.shaka-overflow-button-label-inline{box-sizing:border-box;flex-direction:row;justify-content:space-between;width:calc(100% - 34px);padding-right:28px;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iI2VlZWVlZSI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTguNTkgMTYuNTlMMTMuMTcgMTIgOC41OSA3LjQxIDEwIDZsNiA2LTYgNi0xLjQxLTEuNDF6Ii8+PC9zdmc+");background-repeat:no-repeat;background-position:right 5px center;background-size:24px 24px}.shaka-simple-overflow-button-label-inline{box-sizing:border-box;flex-direction:row;justify-content:space-between;width:calc(100% - 50px)}.shaka-current-selection-span{font-size:12px;padding-left:10px}.shaka-current-auto-quality{margin-left:5px;font-size:11px;color:#ccc}.shaka-current-quality-mark,.shaka-quality-mark{color:red;margin-left:2px!important;font-size:10px;height:17px}.shaka-quality-mark{line-height:6px}.shaka-overflow-playback-rate-mark,.shaka-overflow-quality-mark{background:red;color:#fff;border-radius:2px;font-family:Roboto,sans-serif,TengwarTelcontar;font-size:10px;font-weight:700;line-height:10px;text-shadow:none;padding:1px;position:absolute;right:4px;top:10px}.shaka-settings-menu span{margin-left:28px}.shaka-settings-menu span.shaka-chosen-item{margin-left:0}.shaka-settings-menu .shaka-chapter{margin-left:10px}.shaka-back-to-overflow-button{border-bottom:1px solid rgba(255,255,255,.2)!important}.shaka-back-to-overflow-button span{margin-left:0}.shaka-back-to-overflow-button .material-svg-icon{padding-right:10px;font-size:18px!important}.shaka-back-to-overflow-button:hover{background:0 0!important}.shaka-controls-container[ad-active=true]{pointer-events:none}.shaka-controls-container[ad-active=true] .shaka-bottom-controls{pointer-events:auto}.shaka-client-side-ad-container,.shaka-server-side-ad-container{position:absolute;left:0;right:0;top:0;bottom:0}.shaka-video-container[shaka-controls=true] .shaka-client-side-ad-container iframe,.shaka-video-container[shaka-controls=true] .shaka-server-side-ad-container iframe{height:90%}.shaka-ad-controls{display:flex;flex-direction:row;z-index:1;padding-bottom:1%}.shaka-video-container:not([shaka-controls=true]) .shaka-ad-controls{display:none}.shaka-ad-controls button,.shaka-ad-controls div{color:#fff;font-size:initial}.shaka-ad-info{font-size:14px;color:#fff;width:auto;padding:0 5px}.shaka-ad-info[disabled]{background-color:transparent;color:#fff;cursor:default;padding:0}.shaka-skip-ad-container{position:relative;right:calc((100% - 98%)/ 2 * -1);display:flex;flex-direction:row;margin:0;margin-left:auto}.shaka-skip-ad-button{padding:5px 15px;background:rgba(0,0,0,.7);border:none;cursor:pointer}.shaka-skip-ad-button:disabled{background:rgba(0,0,0,.3)}.shaka-skip-ad-counter{padding:5px;background:rgba(0,0,0,.7);margin:0}/*!\n * @license\n * The tooltip is based on https://github.com/felipefialho/css-components/\n * Local modifications have been performed.\n *\n * Copyright (c) 2017 Felipe Fialho\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */.shaka-tooltips-on{overflow:visible}.shaka-tooltips-on>.shaka-tooltip,.shaka-tooltips-on>.shaka-tooltip-status{position:relative}.shaka-tooltips-on>.shaka-tooltip-status:active:after,.shaka-tooltips-on>.shaka-tooltip-status:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip-status:hover:after,.shaka-tooltips-on>.shaka-tooltip:active:after,.shaka-tooltips-on>.shaka-tooltip:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip:hover:after{content:attr(aria-label);font-family:Roboto,sans-serif,TengwarTelcontar;line-height:20px;white-space:nowrap;font-size:14px;background:rgba(0,0,0,.5);color:#fff;border-radius:2px;padding:2px 10px;position:absolute;bottom:62px;left:calc(48px / 2);-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%);transform:translateX(-50%)}@media (prefers-reduced-transparency){.shaka-tooltips-on>.shaka-tooltip-status:active:after,.shaka-tooltips-on>.shaka-tooltip-status:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip-status:hover:after,.shaka-tooltips-on>.shaka-tooltip:active:after,.shaka-tooltips-on>.shaka-tooltip:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip:hover:after{background-color:rgba(0,0,0,.9)}}.shaka-tooltips-on.shaka-tooltips-low-position>.shaka-tooltip:active:after,.shaka-tooltips-on.shaka-tooltips-low-position>.shaka-tooltip:focus-visible:after,.shaka-tooltips-on.shaka-tooltips-low-position>.shaka-tooltip:hover:after{bottom:48px}.shaka-tooltips-on>.shaka-tooltip-status:active:after,.shaka-tooltips-on>.shaka-tooltip-status:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip-status:hover:after{content:attr(aria-label) " (" attr(shaka-status) ")"}.shaka-tooltips-on button:first-child:active:after,.shaka-tooltips-on button:first-child:focus-visible:after,.shaka-tooltips-on button:first-child:hover:after{left:0;-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);-o-transform:translateX(0);transform:translateX(0)}.shaka-tooltips-on button:last-child:active:after,.shaka-tooltips-on button:last-child:focus-visible:after,.shaka-tooltips-on button:last-child:hover:after{left:48px;-webkit-transform:translateX(-100%);-moz-transform:translateX(-100%);-ms-transform:translateX(-100%);-o-transform:translateX(-100%);transform:translateX(-100%)}#shaka-player-ui-thumbnail-container{background-color:#000;border:1px solid #000;box-shadow:0 8px 8px 0 rgba(0,0,0,.5);min-width:150px;overflow:hidden;position:absolute;visibility:hidden;width:15%;z-index:1;pointer-events:none}#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-image{position:absolute}#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-time-container{bottom:0;left:0;position:absolute;right:0;display:flex;justify-content:center}#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-time-container #shaka-player-ui-thumbnail-time{background-color:rgba(0,0,0,.5);border-radius:14px;color:#fff;font-size:14px;padding:0 5px}@media (prefers-reduced-transparency){#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-time-container #shaka-player-ui-thumbnail-time{background-color:rgba(0,0,0,.9)}}#shaka-player-ui-thumbnail-container.portrait-thumbnail{min-width:75px;width:7.5%}#shaka-player-ui-time-container{background-color:rgba(0,0,0,.5);border-radius:5px;color:#fff;display:flex;font-size:14px;justify-content:center;overflow:hidden;padding:0 3px;position:absolute;visibility:hidden;z-index:1}@media (prefers-reduced-transparency){#shaka-player-ui-time-container{background-color:rgba(0,0,0,.9)}}.material-svg-icon{display:inline-block;fill:currentcolor;width:1em;height:1em}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:normal;src:url(https://fonts.gstatic.com/s/roboto/v49/KFOMCnqEu92Fr1ME7kSn66aGLdTylUAMQXC89YmC2DPNWubEbVmUiA8.ttf) format(\'truetype\')}/*# sourceMappingURL=controls.css.map */',"",{version:3,sources:["webpack://node_modules/shaka-player/dist/$stdin","webpack://node_modules/shaka-player/dist/controls.css"],names:[],mappings:"AAaA;;;;ECTE;AACF,cAAc,sBAAsB,CAAC,uBAAuB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,8CAA8C,CAAC,eAAe,CAAC,kCAAkC,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,0CAA0C,cAAc,CAAC,kCAAkC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,wDAAwD,iBAAiB,CAAC,2CAA2C,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,iEAAiE,iBAAiB,CAAC,wCAAwC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,8DAA8D,iBAAiB,CAAC,sCAAsC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,4DAA4D,iBAAiB,CAAC,0BAA0B,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,YAAY,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,SAAS,CAAC,4EAA4E,YAAY,CAAC,4BAA4B,aAAa,CAAC,iEAAiE,YAAY,CAAC,wBAAwB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,mBAAmB,CAAC,2BAA2B,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,mBAAmB,CAAC,uBAAuB,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,6BAA6B,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,eAAe,CAAC,cAAc,CAAC,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,SAAS,CAAC,iDAAiD,CAAC,wIAAwI,SAAS,CAAC,+BAA+B,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,iDAAiD,CAAC,kCAAkC,CAAC,6WAA6W,cAAc,CAAC,yEAAyE,cAAc,CAAC,yDAAyD,iBAAiB,CAAC,4EAA4E,cAAc,CAAC,oCAAoC,SAAS,CAAC,uDAAuD,YAAY,CAAC,6BAA6B,QAAQ,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,SAAS,CAAC,4BAA4B,iBAAiB,CAAC,eAAe,CAAC,qCAAqC,CAAC,oBAAoB,CAAC,eAAe,CAAC,UAAU,CAAC,kCAAkC,CAAC,cAAc,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,6BAA6B,CAAC,SAAS,CAAC,iDAAiD,CAAC,sIAAsI,SAAS,CAAC,gCAAgC,YAAY,CAAC,6BAA6B,CAAC,iCAAiC,aAAa,CAAC,+BAA+B,iBAAiB,CAAC,eAAe,CAAC,qCAAqC,CAAC,oBAAoB,CAAC,eAAe,CAAC,UAAU,CAAC,kCAAkC,CAAC,cAAc,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,6BAA6B,CAAC,SAAS,CAAC,iDAAiD,CAAC,4IAA4I,SAAS,CAAC,mCAAmC,YAAY,CAAC,6BAA6B,CAAC,oCAAoC,aAAa,CAAC,oBAAoB,iBAAiB,CAAC,eAAe,CAAC,kBAAkB,CAAC,4BAA4B,CAAC,iBAAiB,CAAC,eAAe,CAAC,SAAS,CAAC,iDAAiD,CAAC,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,SAAS,CAAC,sHAAsH,SAAS,CAAC,2BAA2B,cAAc,CAAC,cAAc,CAAC,UAAU,CAAC,WAAW,CAAC,eAAe,CAAC,YAAY,CAAC,YAAY,CAAC,kBAAkB,CAAC,cAAc,CAAC,iCAAiC,+BAA+B,CAAC,iCAAiC,cAAc,CAAC,eAAe,CAAC,4DAA4D,+BAA+B,CAAC,yDAAyD,YAAY,CAAC,uBAAuB,QAAQ,CAAC,UAAU,CAAC,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,iDAAiD,CAAC,WAAW,CAAC,+DAA+D,CAAC,4HAA4H,SAAS,CAAC,sBAAsB,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,mBAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,cAAc,CAAC,gDAAgD,CAAC,qBAAqB,CAAC,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,8CAA8C,cAAc,CAAC,cAAc,CAAC,4DAA4D,mBAAmB,CAAC,yBAAyB,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,2EAA2E,YAAY,CAAC,oEAAoE,WAAW,CAAC,SAAS,CAAC,aAAa,CAAC,qCAAqC,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,+BAA+B,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,iCAAiC,qBAAqB,CAAC,mCAAmC,qBAAqB,CAAC,mBAAmB,qBAAqB,CAAC,qBAAqB,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,iBAAiB,CAAC,oCAAoC,CAAC,WAAW,CAAC,mBAAmB,CAAC,2BAA2B,CAAC,iCAAiC,CAAC,qCAAqC,CAAC,SAAS,CAAC,iDAAiD,CAAC,oHAAoH,SAAS,CAAC,8BAA8B,8VAA8V,CAAC,+BAA+B,gXAAgX,CAAC,gCAAgC,6kBAA6kB,CAAC,oBAAoB,cAAc,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,CAAC,aAAa,CAAC,8BAA8B,4BAA4B,CAAC,UAAU,CAAC,cAAc,CAAC,6EAA6E,2BAA2B,CAAC,mGAAmG,SAAS,CAAC,QAAQ,CAAC,6IAA6I,SAAS,CAAC,sDAAsD,WAAW,CAAC,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,+BAA+B,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,8BAA8B,yBAAyB,CAAC,wBAAwB,yBAAyB,CAAC,qCAAqC,cAAc,CAAC,uBAAuB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,gCAAgC,CAAC,UAAU,CAAC,iBAAiB,CAAC,eAAe,CAAC,sBAAsB,CAAC,4BAA4B,WAAW,CAAC,SAAS,CAAC,iCAAiC,CAAC,yBAAyB,CAAC,oDAAoD,CAAC,kCAAkC,qBAAqB,CAAC,mBAAmB,CAAC,yBAAyB,4BAA4B,UAAU,CAAC,kCAAkC,oBAAoB,CAAC,kEAAkE,UAAU,CAAC,SAAS,CAAC,CAAC,+EAA+E,OAAO,CAAC,SAAS,CAAC,yBAAyB,kEAAkE,WAAW,CAAC,SAAS,CAAC,CAAC,qBAAqB,uBAAuB,CAAC,cAAc,CAAC,cAAc,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,yBAAyB,CAAC,SAAS,CAAC,oDAAoD,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,cAAc,CAAC,iBAAiB,CAAC,WAAW,CAAC,2CAA2C,uBAAuB,CAAC,WAAW,CAAC,kBAAkB,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,CAAC,uCAAuC,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,cAAc,CAAC,iBAAiB,CAAC,WAAW,CAAC,uCAAuC,uBAAuB,CAAC,WAAW,CAAC,kBAAkB,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,CAAC,0BAA0B,SAAS,CAAC,iDAAiD,CAAC,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC,qCAAqC,CAAC,gCAAgC,CAAC,mCAAmC,CAAC,kIAAkI,SAAS,CAAC,0CAA0C,mDAAmD,CAAC,SAAS,CAAC,gDAAgD,SAAS,CAAC,kBAAkB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,cAAc,cAAc,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,0CAA0C,iBAAiB,CAAC,eAAe,CAAC,qCAAqC,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,4BAA4B,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,eAAe,CAAC,aAAa,CAAC,SAAS,CAAC,iDAAiD,CAAC,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,gPAAgP,SAAS,CAAC,wDAAwD,cAAc,CAAC,cAAc,CAAC,UAAU,CAAC,WAAW,CAAC,eAAe,CAAC,YAAY,CAAC,YAAY,CAAC,kBAAkB,CAAC,cAAc,CAAC,oEAAoE,+BAA+B,CAAC,oEAAoE,cAAc,CAAC,0HAA0H,+BAA+B,CAAC,gFAAgF,cAAc,CAAC,kBAAkB,CAAC,oHAAoH,QAAQ,CAAC,gBAAgB,CAAC,cAAc,CAAC,gFAAgF,WAAW,CAAC,0BAA0B,eAAe,CAAC,6BAA6B,iBAAiB,CAAC,YAAY,CAAC,qBAAqB,CAAC,oCAAoC,qBAAqB,CAAC,kBAAkB,CAAC,6BAA6B,CAAC,uBAAuB,CAAC,kBAAkB,CAAC,8UAA8U,CAAC,2BAA2B,CAAC,oCAAoC,CAAC,yBAAyB,CAAC,2CAA2C,qBAAqB,CAAC,kBAAkB,CAAC,6BAA6B,CAAC,uBAAuB,CAAC,8BAA8B,cAAc,CAAC,iBAAiB,CAAC,4BAA4B,eAAe,CAAC,cAAc,CAAC,UAAU,CAAC,gDAAgD,SAAS,CAAC,yBAAyB,CAAC,cAAc,CAAC,WAAW,CAAC,oBAAoB,eAAe,CAAC,gEAAgE,cAAc,CAAC,UAAU,CAAC,iBAAiB,CAAC,8CAA8C,CAAC,cAAc,CAAC,eAAe,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,WAAW,CAAC,iBAAiB,CAAC,SAAS,CAAC,QAAQ,CAAC,0BAA0B,gBAAgB,CAAC,4CAA4C,aAAa,CAAC,oCAAoC,gBAAgB,CAAC,+BAA+B,sDAAsD,CAAC,oCAAoC,aAAa,CAAC,kDAAkD,kBAAkB,CAAC,wBAAwB,CAAC,qCAAqC,wBAAwB,CAAC,0CAA0C,mBAAmB,CAAC,iEAAiE,mBAAmB,CAAC,gEAAgE,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,sKAAsK,UAAU,CAAC,mBAAmB,YAAY,CAAC,kBAAkB,CAAC,SAAS,CAAC,iBAAiB,CAAC,qEAAqE,YAAY,CAAC,iDAAiD,UAAU,CAAC,iBAAiB,CAAC,eAAe,cAAc,CAAC,UAAU,CAAC,UAAU,CAAC,aAAa,CAAC,yBAAyB,4BAA4B,CAAC,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,yBAAyB,iBAAiB,CAAC,gCAAgC,CAAC,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,sBAAsB,gBAAgB,CAAC,yBAAyB,CAAC,WAAW,CAAC,cAAc,CAAC,+BAA+B,yBAAyB,CAAC,uBAAuB,WAAW,CAAC,yBAAyB,CAAC,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;EAwBn0gB,CAAC,mBAAmB,gBAAgB,CAAC,2EAA2E,iBAAiB,CAAC,2TAA2T,wBAAwB,CAAC,8CAA8C,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,cAAc,CAAC,yBAAyB,CAAC,UAAU,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,WAAW,CAAC,mBAAmB,CAAC,kCAAkC,CAAC,+BAA+B,CAAC,8BAA8B,CAAC,6BAA6B,CAAC,0BAA0B,CAAC,sCAAsC,2TAA2T,+BAA+B,CAAC,CAAC,uOAAuO,WAAW,CAAC,wKAAwK,oDAAoD,CAAC,+JAA+J,MAAM,CAAC,+BAA+B,CAAC,4BAA4B,CAAC,2BAA2B,CAAC,0BAA0B,CAAC,uBAAuB,CAAC,4JAA4J,SAAS,CAAC,mCAAmC,CAAC,gCAAgC,CAAC,+BAA+B,CAAC,8BAA8B,CAAC,2BAA2B,CAAC,qCAAqC,qBAAqB,CAAC,qBAAqB,CAAC,qCAAqC,CAAC,eAAe,CAAC,eAAe,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAAC,SAAS,CAAC,mBAAmB,CAAC,sEAAsE,iBAAiB,CAAC,+EAA+E,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,OAAO,CAAC,YAAY,CAAC,sBAAsB,CAAC,+GAA+G,+BAA+B,CAAC,kBAAkB,CAAC,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,sCAAsC,+GAA+G,+BAA+B,CAAC,CAAC,wDAAwD,cAAc,CAAC,UAAU,CAAC,gCAAgC,+BAA+B,CAAC,iBAAiB,CAAC,UAAU,CAAC,YAAY,CAAC,cAAc,CAAC,sBAAsB,CAAC,eAAe,CAAC,aAAa,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAAC,sCAAsC,gCAAgC,+BAA+B,CAAC,CAAC,mBAAmB,oBAAoB,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,kBAAkB,CAAC,iBAAiB,CAAC,eAAe,CAAC,mBAAmB,CAAC,8HAA8H,CAAC,uCAAuC",sourceRoot:""}]),t.Z=r},3934:function(e,t,n){"use strict";var i=n(3645),r=n.n(i)()(!0);r.push([e.id,".hyper-viewer-cache-modal {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 10001;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 20px;\n\tbox-sizing: border-box;\n\topacity: 0;\n\tvisibility: hidden;\n\ttransition: opacity 0.3s ease, visibility 0.3s ease;\n}\n\n.hyper-viewer-cache-modal.show {\n\topacity: 1;\n\tvisibility: visible;\n}\n\n.hyper-viewer-overlay {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(0, 0, 0, 0.7);\n\tbackdrop-filter: blur(4px);\n}\n\n.hyper-viewer-cache-container {\n\tposition: relative;\n\tbackground: #1a1a1a;\n\tborder-radius: 12px;\n\tbox-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n\tmax-width: 600px;\n\twidth: 100%;\n\tmax-height: 90vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: hidden;\n\ttransform: scale(0.95);\n\ttransition: transform 0.3s ease;\n}\n\n.hyper-viewer-cache-modal.show .hyper-viewer-cache-container {\n\ttransform: scale(1);\n}\n\n.hyper-viewer-cache-header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 16px 20px;\n\tbackground: #2a2a2a;\n\tborder-bottom: 1px solid #3a3a3a;\n}\n\n.hyper-viewer-cache-title {\n\tmargin: 0;\n\tcolor: #ffffff;\n\tfont-size: 16px;\n\tfont-weight: 600;\n}\n\n.hyper-viewer-cache-content {\n\tpadding: 20px;\n\tcolor: #ffffff;\n\toverflow-y: auto;\n\tflex: 1;\n}\n\n.directory-info-card {\n\tbackground: #2a2a2a;\n\tborder-radius: 8px;\n\tpadding: 16px;\n\tmargin-bottom: 24px;\n\tborder: 1px solid #3a3a3a;\n}\n\n.info-item {\n\tmargin-bottom: 12px;\n}\n\n.info-item:last-child {\n\tmargin-bottom: 0;\n}\n\n.file-list {\n\tmargin-top: 8px;\n\tpadding: 8px 12px;\n\tbackground: #1a1a1a;\n\tborder-radius: 4px;\n\tfont-size: 13px;\n\tcolor: #cccccc;\n\tmax-height: 80px;\n\toverflow-y: auto;\n}\n\n.no-videos-text {\n\tmargin-top: 8px;\n\tpadding: 8px 12px;\n\tbackground: #2d1b1b;\n\tborder: 1px solid #4a3333;\n\tborder-radius: 4px;\n\tfont-size: 13px;\n\tcolor: #ffcc99;\n}\n\n.form-section {\n\tmargin-bottom: 24px;\n}\n\n.section-title {\n\tdisplay: block;\n\tfont-weight: 600;\n\tmargin-bottom: 12px;\n\tcolor: #ffffff;\n\tfont-size: 14px;\n}\n\n.option-group {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n}\n\n.option-item {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tgap: 12px;\n\tpadding: 12px;\n\tbackground: #2a2a2a;\n\tborder: 1px solid #3a3a3a;\n\tborder-radius: 8px;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n}\n\n.option-item:hover {\n\tbackground: #333333;\n\tborder-color: #4a4a4a;\n}\n\n.option-item.highlight {\n\tborder-color: #4a9eff;\n\tbackground: rgba(74, 158, 255, 0.1);\n}\n\n.option-content {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 4px;\n}\n\n.option-title {\n\tfont-weight: 500;\n\tcolor: #ffffff;\n}\n\n.option-desc {\n\tfont-size: 13px;\n\tcolor: #999999;\n}\n\n.resolution-grid {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n\tgap: 8px;\n}\n\n.resolution-item {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n\tpadding: 12px;\n\tbackground: #2a2a2a;\n\tborder: 1px solid #3a3a3a;\n\tborder-radius: 8px;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n}\n\n.resolution-item:hover {\n\tbackground: #333333;\n\tborder-color: #4a4a4a;\n}\n\n.resolution-content {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 2px;\n}\n\n.resolution-name {\n\tfont-weight: 500;\n\tcolor: #ffffff;\n\tfont-size: 14px;\n}\n\n.resolution-desc {\n\tfont-size: 12px;\n\tcolor: #999999;\n}\n\n.dialog-actions {\n\tdisplay: flex;\n\tgap: 12px;\n\tjustify-content: flex-end;\n\tmargin-top: 24px;\n\tpadding-top: 20px;\n\tborder-top: 1px solid #3a3a3a;\n}\n\n.btn-cancel, .btn-confirm {\n\tpadding: 10px 20px;\n\tborder: none;\n\tborder-radius: 6px;\n\tfont-weight: 500;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n}\n\n.btn-cancel {\n\tbackground: #3a3a3a;\n\tcolor: #ffffff;\n}\n\n.btn-cancel:hover {\n\tbackground: #4a4a4a;\n}\n\n.btn-confirm {\n\tbackground: #4a9eff;\n\tcolor: #ffffff;\n}\n\n.btn-confirm:hover {\n\tbackground: #0066cc;\n}\n\n.hyper-viewer-close {\n\tbackground: transparent;\n\tborder: none;\n\tcolor: #ffffff;\n\tcursor: pointer;\n\tpadding: 8px;\n\tborder-radius: 6px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttransition: background-color 0.2s ease, color 0.2s ease;\n}\n\n.hyper-viewer-close:hover {\n\tbackground: rgba(255, 255, 255, 0.1);\n\tcolor: #ff6b6b;\n}\n","",{version:3,sources:["webpack://src/styles/cache-modal.css"],names:[],mappings:"AAAA;CACC,eAAe;CACf,MAAM;CACN,OAAO;CACP,QAAQ;CACR,SAAS;CACT,cAAc;CACd,aAAa;CACb,mBAAmB;CACnB,uBAAuB;CACvB,aAAa;CACb,sBAAsB;CACtB,UAAU;CACV,kBAAkB;CAClB,mDAAmD;AACpD;;AAEA;CACC,UAAU;CACV,mBAAmB;AACpB;;AAEA;CACC,kBAAkB;CAClB,MAAM;CACN,OAAO;CACP,QAAQ;CACR,SAAS;CACT,8BAA8B;CAC9B,0BAA0B;AAC3B;;AAEA;CACC,kBAAkB;CAClB,mBAAmB;CACnB,mBAAmB;CACnB,gDAAgD;CAChD,gBAAgB;CAChB,WAAW;CACX,gBAAgB;CAChB,aAAa;CACb,sBAAsB;CACtB,gBAAgB;CAChB,sBAAsB;CACtB,+BAA+B;AAChC;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,aAAa;CACb,mBAAmB;CACnB,8BAA8B;CAC9B,kBAAkB;CAClB,mBAAmB;CACnB,gCAAgC;AACjC;;AAEA;CACC,SAAS;CACT,cAAc;CACd,eAAe;CACf,gBAAgB;AACjB;;AAEA;CACC,aAAa;CACb,cAAc;CACd,gBAAgB;CAChB,OAAO;AACR;;AAEA;CACC,mBAAmB;CACnB,kBAAkB;CAClB,aAAa;CACb,mBAAmB;CACnB,yBAAyB;AAC1B;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,gBAAgB;AACjB;;AAEA;CACC,eAAe;CACf,iBAAiB;CACjB,mBAAmB;CACnB,kBAAkB;CAClB,eAAe;CACf,cAAc;CACd,gBAAgB;CAChB,gBAAgB;AACjB;;AAEA;CACC,eAAe;CACf,iBAAiB;CACjB,mBAAmB;CACnB,yBAAyB;CACzB,kBAAkB;CAClB,eAAe;CACf,cAAc;AACf;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,cAAc;CACd,gBAAgB;CAChB,mBAAmB;CACnB,cAAc;CACd,eAAe;AAChB;;AAEA;CACC,aAAa;CACb,sBAAsB;CACtB,QAAQ;AACT;;AAEA;CACC,aAAa;CACb,uBAAuB;CACvB,SAAS;CACT,aAAa;CACb,mBAAmB;CACnB,yBAAyB;CACzB,kBAAkB;CAClB,eAAe;CACf,yBAAyB;AAC1B;;AAEA;CACC,mBAAmB;CACnB,qBAAqB;AACtB;;AAEA;CACC,qBAAqB;CACrB,mCAAmC;AACpC;;AAEA;CACC,OAAO;CACP,aAAa;CACb,sBAAsB;CACtB,QAAQ;AACT;;AAEA;CACC,gBAAgB;CAChB,cAAc;AACf;;AAEA;CACC,eAAe;CACf,cAAc;AACf;;AAEA;CACC,aAAa;CACb,2DAA2D;CAC3D,QAAQ;AACT;;AAEA;CACC,aAAa;CACb,mBAAmB;CACnB,QAAQ;CACR,aAAa;CACb,mBAAmB;CACnB,yBAAyB;CACzB,kBAAkB;CAClB,eAAe;CACf,yBAAyB;AAC1B;;AAEA;CACC,mBAAmB;CACnB,qBAAqB;AACtB;;AAEA;CACC,aAAa;CACb,sBAAsB;CACtB,QAAQ;AACT;;AAEA;CACC,gBAAgB;CAChB,cAAc;CACd,eAAe;AAChB;;AAEA;CACC,eAAe;CACf,cAAc;AACf;;AAEA;CACC,aAAa;CACb,SAAS;CACT,yBAAyB;CACzB,gBAAgB;CAChB,iBAAiB;CACjB,6BAA6B;AAC9B;;AAEA;CACC,kBAAkB;CAClB,YAAY;CACZ,kBAAkB;CAClB,gBAAgB;CAChB,eAAe;CACf,yBAAyB;AAC1B;;AAEA;CACC,mBAAmB;CACnB,cAAc;AACf;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,mBAAmB;CACnB,cAAc;AACf;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,uBAAuB;CACvB,YAAY;CACZ,cAAc;CACd,eAAe;CACf,YAAY;CACZ,kBAAkB;CAClB,aAAa;CACb,mBAAmB;CACnB,uBAAuB;CACvB,uDAAuD;AACxD;;AAEA;CACC,oCAAoC;CACpC,cAAc;AACf",sourcesContent:[".hyper-viewer-cache-modal {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 10001;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 20px;\n\tbox-sizing: border-box;\n\topacity: 0;\n\tvisibility: hidden;\n\ttransition: opacity 0.3s ease, visibility 0.3s ease;\n}\n\n.hyper-viewer-cache-modal.show {\n\topacity: 1;\n\tvisibility: visible;\n}\n\n.hyper-viewer-overlay {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(0, 0, 0, 0.7);\n\tbackdrop-filter: blur(4px);\n}\n\n.hyper-viewer-cache-container {\n\tposition: relative;\n\tbackground: #1a1a1a;\n\tborder-radius: 12px;\n\tbox-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n\tmax-width: 600px;\n\twidth: 100%;\n\tmax-height: 90vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: hidden;\n\ttransform: scale(0.95);\n\ttransition: transform 0.3s ease;\n}\n\n.hyper-viewer-cache-modal.show .hyper-viewer-cache-container {\n\ttransform: scale(1);\n}\n\n.hyper-viewer-cache-header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 16px 20px;\n\tbackground: #2a2a2a;\n\tborder-bottom: 1px solid #3a3a3a;\n}\n\n.hyper-viewer-cache-title {\n\tmargin: 0;\n\tcolor: #ffffff;\n\tfont-size: 16px;\n\tfont-weight: 600;\n}\n\n.hyper-viewer-cache-content {\n\tpadding: 20px;\n\tcolor: #ffffff;\n\toverflow-y: auto;\n\tflex: 1;\n}\n\n.directory-info-card {\n\tbackground: #2a2a2a;\n\tborder-radius: 8px;\n\tpadding: 16px;\n\tmargin-bottom: 24px;\n\tborder: 1px solid #3a3a3a;\n}\n\n.info-item {\n\tmargin-bottom: 12px;\n}\n\n.info-item:last-child {\n\tmargin-bottom: 0;\n}\n\n.file-list {\n\tmargin-top: 8px;\n\tpadding: 8px 12px;\n\tbackground: #1a1a1a;\n\tborder-radius: 4px;\n\tfont-size: 13px;\n\tcolor: #cccccc;\n\tmax-height: 80px;\n\toverflow-y: auto;\n}\n\n.no-videos-text {\n\tmargin-top: 8px;\n\tpadding: 8px 12px;\n\tbackground: #2d1b1b;\n\tborder: 1px solid #4a3333;\n\tborder-radius: 4px;\n\tfont-size: 13px;\n\tcolor: #ffcc99;\n}\n\n.form-section {\n\tmargin-bottom: 24px;\n}\n\n.section-title {\n\tdisplay: block;\n\tfont-weight: 600;\n\tmargin-bottom: 12px;\n\tcolor: #ffffff;\n\tfont-size: 14px;\n}\n\n.option-group {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n}\n\n.option-item {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tgap: 12px;\n\tpadding: 12px;\n\tbackground: #2a2a2a;\n\tborder: 1px solid #3a3a3a;\n\tborder-radius: 8px;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n}\n\n.option-item:hover {\n\tbackground: #333333;\n\tborder-color: #4a4a4a;\n}\n\n.option-item.highlight {\n\tborder-color: #4a9eff;\n\tbackground: rgba(74, 158, 255, 0.1);\n}\n\n.option-content {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 4px;\n}\n\n.option-title {\n\tfont-weight: 500;\n\tcolor: #ffffff;\n}\n\n.option-desc {\n\tfont-size: 13px;\n\tcolor: #999999;\n}\n\n.resolution-grid {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n\tgap: 8px;\n}\n\n.resolution-item {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n\tpadding: 12px;\n\tbackground: #2a2a2a;\n\tborder: 1px solid #3a3a3a;\n\tborder-radius: 8px;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n}\n\n.resolution-item:hover {\n\tbackground: #333333;\n\tborder-color: #4a4a4a;\n}\n\n.resolution-content {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 2px;\n}\n\n.resolution-name {\n\tfont-weight: 500;\n\tcolor: #ffffff;\n\tfont-size: 14px;\n}\n\n.resolution-desc {\n\tfont-size: 12px;\n\tcolor: #999999;\n}\n\n.dialog-actions {\n\tdisplay: flex;\n\tgap: 12px;\n\tjustify-content: flex-end;\n\tmargin-top: 24px;\n\tpadding-top: 20px;\n\tborder-top: 1px solid #3a3a3a;\n}\n\n.btn-cancel, .btn-confirm {\n\tpadding: 10px 20px;\n\tborder: none;\n\tborder-radius: 6px;\n\tfont-weight: 500;\n\tcursor: pointer;\n\ttransition: all 0.2s ease;\n}\n\n.btn-cancel {\n\tbackground: #3a3a3a;\n\tcolor: #ffffff;\n}\n\n.btn-cancel:hover {\n\tbackground: #4a4a4a;\n}\n\n.btn-confirm {\n\tbackground: #4a9eff;\n\tcolor: #ffffff;\n}\n\n.btn-confirm:hover {\n\tbackground: #0066cc;\n}\n\n.hyper-viewer-close {\n\tbackground: transparent;\n\tborder: none;\n\tcolor: #ffffff;\n\tcursor: pointer;\n\tpadding: 8px;\n\tborder-radius: 6px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttransition: background-color 0.2s ease, color 0.2s ease;\n}\n\n.hyper-viewer-close:hover {\n\tbackground: rgba(255, 255, 255, 0.1);\n\tcolor: #ff6b6b;\n}\n"],sourceRoot:""}]),t.Z=r},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(o=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),a=i.sources.map(function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")});return[n].concat(a).concat([r]).join("\n")}var o,s,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n}).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},4289:function(e,t,n){"use strict";var i=n(2215),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,o=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),l=function(e,t,n,i){var r;(!(t in e)||"function"==typeof(r=i)&&"[object Function]"===a.call(r)&&i())&&(u?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},a=i(t);r&&(a=o.call(a,Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;s+=1)l(e,a[s],t[a[s]],n[a[s]])};c.supportsDescriptors=!!u,e.exports=c},6504:function(e,t,n){"use strict";var i,r=n(319),a=n(7296);try{i=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var o=!!i&&a&&a(Object.prototype,"__proto__"),s=Object,u=s.getPrototypeOf;e.exports=o&&"function"==typeof o.get?r([o.get]):"function"==typeof u&&function(e){return u(null==e?e:s(e))}},4079:function(e,t,n){"use strict";var i=n(210)("%Object.getOwnPropertyDescriptor%");if(i)try{i([],"length")}catch(e){i=null}e.exports=i},4429:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},3981:function(e){"use strict";e.exports=EvalError},1648:function(e){"use strict";e.exports=Error},4726:function(e){"use strict";e.exports=RangeError},6712:function(e){"use strict";e.exports=ReferenceError},3464:function(e){"use strict";e.exports=SyntaxError},4453:function(e){"use strict";e.exports=TypeError},3915:function(e){"use strict";e.exports=URIError},8892:function(e){"use strict";e.exports=Object},8091:function(e){"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var a=Object.keys(Object(r)),o=0,s=a.length;o<s;o++){var u=a[o],l=Object.getOwnPropertyDescriptor(r,u);void 0!==l&&l.enumerable&&(n[u]=r[u])}}return n}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},9804:function(e){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(e,i,r){if("[object Function]"!==n.call(i))throw new TypeError("iterator must be a function");var a=e.length;if(a===+a)for(var o=0;o<a;o++)i.call(r,e[o],o,e);else for(var s in e)t.call(e,s)&&i.call(r,e[s],s,e)}},7648:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,i=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var r=0;r<t.length;r+=1)n[r+e.length]=t[r];return n};e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==t.apply(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var a,o=function(e,t){for(var n=[],i=t||0,r=0;i<e.length;i+=1,r+=1)n[r]=e[i];return n}(arguments,1),s=n(0,r.length-o.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(a=Function("binder","return function ("+function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n}(u,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var t=r.apply(this,i(o,arguments));return Object(t)===t?t:this}return r.apply(e,i(o,arguments))}),r.prototype){var c=function(){};c.prototype=r.prototype,a.prototype=new c,c.prototype=null}return a}},8612:function(e,t,n){"use strict";var i=n(7648);e.exports=Function.prototype.bind||i},210:function(e,t,n){"use strict";var i,r=n(8892),a=n(1648),o=n(3981),s=n(4726),u=n(6712),l=n(3464),c=n(4453),d=n(3915),h=n(9738),p=n(6329),f=n(2264),g=n(5730),m=n(707),v=n(3862),y=n(9550),A=Function,b=function(e){try{return A('"use strict"; return ('+e+").constructor;")()}catch(e){}},T=n(7296),C=n(4429),w=function(){throw new c},x=T?function(){try{return w}catch(e){try{return T(arguments,"callee").get}catch(e){return w}}}():w,S=n(1405)(),E=n(1618),k=n(8899),I=n(443),M=n(1768),L=n(8928),R={},P="undefined"!=typeof Uint8Array&&E?E(Uint8Array):i,D={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":S&&E?E([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":o,"%Float16Array%":"undefined"==typeof Float16Array?i:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":R,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&E?E(E([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&S&&E?E((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":r,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":s,"%ReferenceError%":u,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&S&&E?E((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&E?E(""[Symbol.iterator]()):i,"%Symbol%":S?Symbol:i,"%SyntaxError%":l,"%ThrowTypeError%":x,"%TypedArray%":P,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet,"%Function.prototype.call%":L,"%Function.prototype.apply%":M,"%Object.defineProperty%":C,"%Object.getPrototypeOf%":k,"%Math.abs%":h,"%Math.floor%":p,"%Math.max%":f,"%Math.min%":g,"%Math.pow%":m,"%Math.round%":v,"%Math.sign%":y,"%Reflect.getPrototypeOf%":I};if(E)try{null.error}catch(e){var O=E(E(e));D["%Error.prototype%"]=O}var N=function e(t){var n;if("%AsyncFunction%"===t)n=b("async function () {}");else if("%GeneratorFunction%"===t)n=b("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=b("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&E&&(n=E(r.prototype))}return D[t]=n,n},U={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=n(8612),_=n(8824),j=B.call(L,Array.prototype.concat),q=B.call(M,Array.prototype.splice),F=B.call(L,String.prototype.replace),V=B.call(L,String.prototype.slice),G=B.call(L,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,z=/\\(\\)?/g,K=function(e,t){var n,i=e;if(_(U,i)&&(i="%"+(n=U[i])[0]+"%"),_(D,i)){var r=D[i];if(r===R&&(r=N(i)),void 0===r&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===G(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=V(e,0,1),n=V(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var i=[];return F(e,H,function(e,t,n,r){i[i.length]=n?F(r,z,"$1"):t||e}),i}(e),i=n.length>0?n[0]:"",r=K("%"+i+"%",t),a=r.name,o=r.value,s=!1,u=r.alias;u&&(i=u[0],q(n,j([0,1],u)));for(var d=1,h=!0;d<n.length;d+=1){var p=n[d],f=V(p,0,1),g=V(p,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==p&&h||(s=!0),_(D,a="%"+(i+="."+p)+"%"))o=D[a];else if(null!=o){if(!(p in o)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(T&&d+1>=n.length){var m=T(o,p);o=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:o[p]}else h=_(o,p),o=o[p];h&&!s&&(D[a]=o)}}return o}},8899:function(e,t,n){"use strict";var i=n(8892);e.exports=i.getPrototypeOf||null},443:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},1618:function(e,t,n){"use strict";var i=n(443),r=n(8899),a=n(6504);e.exports=i?function(e){return i(e)}:r?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return r(e)}:a?function(e){return a(e)}:null},690:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},7296:function(e,t,n){"use strict";var i=n(690);if(i)try{i([],"length")}catch(e){i=null}e.exports=i},1405:function(e,t,n){"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(5419);e.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},5419:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var i in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},8824:function(e,t,n){"use strict";var i=Function.prototype.call,r=Object.prototype.hasOwnProperty,a=n(8612);e.exports=a.call(i,r)},5717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2584:function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=n(1924)("Object.prototype.toString"),a=function(e){return!(i&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r(e)},o=function(e){return!!a(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r(e)&&"[object Function]"===r(e.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=o,e.exports=s?a:o},8662:function(e){"use strict";var t,n=Object.prototype.toString,i=Function.prototype.toString,r=/^\s*(?:function)?\*/,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(r.test(i.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===n.call(e);if(!o)return!1;if(void 0===t){var s=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();t=!!s&&o(s)}return o(e)===t}},8611:function(e){"use strict";e.exports=function(e){return e!=e}},360:function(e,t,n){"use strict";var i=n(5559),r=n(4289),a=n(8611),o=n(9415),s=n(3194),u=i(o(),Number);r(u,{getPolyfill:o,implementation:a,shim:s}),e.exports=u},9415:function(e,t,n){"use strict";var i=n(8611);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:i}},3194:function(e,t,n){"use strict";var i=n(4289),r=n(9415);e.exports=function(){var e=r();return i(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},5692:function(e,t,n){"use strict";var i=n(9804),r=n(6314),a=n(1924),o=a("Object.prototype.toString"),s=n(1405)()&&"symbol"==typeof Symbol.toStringTag,u=r(),l=a("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},c=a("String.prototype.slice"),d={},h=n(4079),p=Object.getPrototypeOf;s&&h&&p&&i(u,function(e){var t=new n.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var i=p(t),r=h(i,Symbol.toStringTag);if(!r){var a=p(i);r=h(a,Symbol.toStringTag)}d[e]=r.get});e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s){var t=c(o(e),8,-1);return l(u,t)>-1}return!!h&&function(e){var t=!1;return i(d,function(n,i){if(!t)try{t=n.call(e)===i}catch(e){}}),t}(e)}},9738:function(e){"use strict";e.exports=Math.abs},6329:function(e){"use strict";e.exports=Math.floor},3678:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},2264:function(e){"use strict";e.exports=Math.max},5730:function(e){"use strict";e.exports=Math.min},707:function(e){"use strict";e.exports=Math.pow},3862:function(e){"use strict";e.exports=Math.round},9550:function(e,t,n){"use strict";var i=n(3678);e.exports=function(e){return i(e)||0===e?e:e<0?-1:1}},4244:function(e){"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},609:function(e,t,n){"use strict";var i=n(4289),r=n(5559),a=n(4244),o=n(5624),s=n(2281),u=r(o(),Object);i(u,{getPolyfill:o,implementation:a,shim:s}),e.exports=u},5624:function(e,t,n){"use strict";var i=n(4244);e.exports=function(){return"function"==typeof Object.is?Object.is:i}},2281:function(e,t,n){"use strict";var i=n(5624),r=n(4289);e.exports=function(){var e=i();return r(Object,{is:e},{is:function(){return Object.is!==e}}),e}},8987:function(e,t,n){"use strict";var i;if(!Object.keys){var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=n(1414),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();i=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===a.call(e),i=o(e),s=t&&"[object String]"===a.call(e),h=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var f=l&&n;if(s&&e.length>0&&!r.call(e,0))for(var g=0;g<e.length;++g)h.push(String(g));if(i&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var v in e)f&&"prototype"===v||!r.call(e,v)||h.push(String(v));if(u)for(var y=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),A=0;A<c.length;++A)y&&"constructor"===c[A]||!r.call(e,c[A])||h.push(c[A]);return h}}e.exports=i},2215:function(e,t,n){"use strict";var i=Array.prototype.slice,r=n(1414),a=Object.keys,o=a?function(e){return a(e)}:n(8987),s=Object.keys;o.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return r(e)?s(i.call(e)):s(e)})}else Object.keys=o;return Object.keys||o},e.exports=o},1414:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),i}},4155:function(e){var t,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,u=[],l=!1,c=-1;function d(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&h())}function h(){if(!l){var e=o(d);l=!0;for(var t=u.length;t;){for(s=u,u=[];++c<t;)s&&s[c].run();c=-1,t=u.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},3480:function(e,t,n){var i=n(5108);!function(){var e="undefined"!=typeof window?window:n.g,r={};for(var a in function(e,t,n){var r,a="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t},o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var s,u=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var i=0;i<n.length;++i){var r=n[i];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function l(e,t){if(t)e:{var n=u;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))break e;n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}if("function"==typeof Object.setPrototypeOf)s=Object.setPrototypeOf;else{var c;e:{var d={};try{d.__proto__={a:!0},c=d.a;break e}catch(e){}c=!1}s=c?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=s;function p(e,t){if(e.prototype=a(t.prototype),e.prototype.constructor=e,h)h(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.Vn=t.prototype}function f(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function g(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return{next:f(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function m(e){if(!(e instanceof Array)){e=g(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}function v(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function y(){this.u=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.C=this.i=null}function A(e){if(e.u)throw new TypeError("Generator is already running");e.u=!0}function b(e,t){e.i={Ti:t,gj:!0},e.g=e.m||e.j}function T(e,t,n){return e.g=n,{value:t}}function C(e){e.g=0}function w(e,t,n){e.m=t,null!=n&&(e.j=n)}function x(e,t){e.m=0,e.j=t||0}function S(e,t,n){e.g=t,e.m=n||0}function E(e,t){return e.m=t||0,t=e.i.Ti,e.i=null,t}function k(e){e.C=[e.i],e.m=0,e.j=0}function I(e,t){var n=e.C.splice(0)[0];(n=e.i=e.i||n)?n.gj?e.g=e.m||e.j:null!=n.B&&e.j<n.B?(e.g=n.B,e.i=null):e.g=e.j:e.g=t}function M(e){this.g=new y,this.h=e}function L(e,t,n,i){try{var r=t.call(e.g.l,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.u=!1,r;var a=r.value}catch(t){return e.g.l=null,b(e.g,t),R(e)}return e.g.l=null,i.call(e.g,a),R(e)}function R(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.u=!1,{value:t.value,done:!1}}catch(t){e.g.h=void 0,b(e.g,t)}if(e.g.u=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.gj)throw t.Ti;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function P(e){this.next=function(t){return A(e.g),e.g.l?t=L(e,e.g.l.next,t,e.g.A):(e.g.A(t),t=R(e)),t},this.throw=function(t){return A(e.g),e.g.l?t=L(e,e.g.l.throw,t,e.g.A):(b(e.g,t),t=R(e)),t},this.return=function(t){return function(e,t){A(e.g);var n=e.g.l;return n?L(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),R(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function D(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise(function(i,r){!function e(a){a.done?i(a.value):Promise.resolve(a.value).then(t,n).then(e,r)}(e.next())})}(new P(new M(e)))}function O(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function U(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}function B(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}function _(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var a=e[r];if(t.call(n,a,r,e))return{cj:r,v:a}}return{cj:-1,v:void 0}}l("Symbol",function(e){function t(e,t){this.g=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}}),l("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=u[t[n]];"function"==typeof i&&"function"!=typeof i.prototype[e]&&o(i.prototype,e,{configurable:!0,writable:!0,value:function(){return v(f(this))}})}return e}),y.prototype.A=function(e){this.h=e},y.prototype.return=function(e){this.i={return:e},this.g=this.j},y.prototype.B=function(e){this.g=e},l("Promise",function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.u=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.g=null}function i(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i(function(){t.l()})}this.g.push(e)};var r=u.setTimeout;n.prototype.i=function(e){r(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.g=null},n.prototype.j=function(e){this.i(function(){throw e})},t.prototype.j=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.G),reject:e(this.l)}},t.prototype.G=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.I(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.F(e):this.m(e)}},t.prototype.F=function(e){var t=void 0;try{t=e.then}catch(e){return void this.l(e)}"function"==typeof t?this.J(t,e):this.m(e)},t.prototype.l=function(e){this.A(2,e)},t.prototype.m=function(e){this.A(1,e)},t.prototype.A=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.H(),this.C()},t.prototype.H=function(){var e=this;r(function(){if(e.D()){var t=u.console;void 0!==t&&t.error(e.i)}},1)},t.prototype.D=function(){if(this.u)return!1;var e=u.CustomEvent,t=u.Event,n=u.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=u.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.C=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.I=function(e){var t=this.j();e.lf(t.resolve,t.reject)},t.prototype.J=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){a(e)}}:t}var r,a,o=new t(function(e,t){r=e,a=t});return this.lf(i(e,r),i(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.lf=function(e,t){function n(){switch(i.h){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.g?a.h(n):this.g.push(n),this.u=!0},t.resolve=i,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=g(e),a=r.next();!a.done;a=r.next())i(a.value).lf(t,n)})},t.all=function(e){var n=g(e),r=n.next();return r.done?i([]):new t(function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,i(r.value).lf(a(o.length-1),t),r=n.next()}while(!r.done)})},t}),l("WeakMap",function(e){function t(e){if(this.g=(u+=Math.random()+1).toString(),e){e=g(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function i(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function r(e){if(!N(e,s)){var t=new n;o(e,s,{value:t})}}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&r(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),i=new e([[t,2],[n,3]]);return 2==i.get(t)&&3==i.get(n)&&(i.delete(t),i.set(n,4),!i.has(t)&&4==i.get(n))}catch(e){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var u=0;return t.prototype.set=function(e,t){if(!i(e))throw Error("Invalid WeakMap key");if(r(e),!N(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.g]=t,this},t.prototype.get=function(e){return i(e)&&N(e,s)?e[s][this.g]:void 0},t.prototype.has=function(e){return i(e)&&N(e,s)&&N(e[s],this.g)},t.prototype.delete=function(e){return!!(i(e)&&N(e,s)&&N(e[s],this.g))&&delete e[s][this.g]},t}),l("Map",function(e){function t(){var e={};return e.Fc=e.next=e.head=e}function n(e,t){var n=e[1];return v(function(){if(n){for(;n.head!=e[1];)n=n.Fc;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}})}function i(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var i=e[0][n];if(i&&N(e[0],n))for(e=0;e<i.length;e++){var r=i[e];if(t!=t&&r.key!=r.key||t===r.key)return{id:n,list:i,index:e,entry:r}}return{id:n,list:i,index:-1,entry:void 0}}function r(e){if(this[0]={},this[1]=t(),this.size=0,e){e=g(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(g([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var i=n.entries(),r=i.next();return!r.done&&r.value[0]==t&&"s"==r.value[1]&&!((r=i.next()).done||4!=r.value[0].x||"t"!=r.value[1]||!i.next().done)}catch(e){return!1}}())return e;var a=new WeakMap;r.prototype.set=function(e,t){var n=i(this,e=0===e?0:e);return n.list||(n.list=this[0][n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this[1],Fc:this[1].Fc,head:this[1],key:e,value:t},n.list.push(n.entry),this[1].Fc.next=n.entry,this[1].Fc=n.entry,this.size++),this},r.prototype.delete=function(e){return!(!(e=i(this,e)).entry||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this[0][e.id],e.entry.Fc.next=e.entry.next,e.entry.next.Fc=e.entry.Fc,e.entry.head=null,this.size--,!0)},r.prototype.clear=function(){this[0]={},this[1]=this[1].Fc=t(),this.size=0},r.prototype.has=function(e){return!!i(this,e).entry},r.prototype.get=function(e){return(e=i(this,e).entry)&&e.value},r.prototype.entries=function(){return n(this,function(e){return[e.key,e.value]})},r.prototype.keys=function(){return n(this,function(e){return e.key})},r.prototype.values=function(){return n(this,function(e){return e.value})},r.prototype.forEach=function(e,t){for(var n,i=this.entries();!(n=i.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var o=0;return r}),l("Array.prototype.keys",function(e){return e||function(){return U(this,function(e){return e})}}),l("Set",function(e){function t(e){if(this.g=new Map,e){e=g(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(g([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var i=n.entries(),r=i.next();return!r.done&&r.value[0]==t&&r.value[1]==t&&(!(r=i.next()).done&&r.value[0]!=t&&4==r.value[0].x&&r.value[1]==r.value[0]&&i.next().done)}catch(e){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach(function(i){return e.call(t,i,i,n)})},t)}),l("Array.prototype.values",function(e){return e||function(){return U(this,function(e,t){return t})}}),l("Array.from",function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var i=[],r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof r){e=r.call(e);for(var a=0;!(r=e.next()).done;)i.push(t.call(n,r.value,a++))}else for(r=e.length,a=0;a<r;a++)i.push(t.call(n,e[a],a));return i}}),l("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),l("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for((t=t||0)<0&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}}),l("String.prototype.includes",function(e){return e||function(e,t){return-1!==B(this,e,"includes").indexOf(e,t||0)}}),l("String.fromCodePoint",function(e){return e||function(e){for(var t="",n=0;n<arguments.length;n++){var i=Number(arguments[n]);if(i<0||i>1114111||i!==Math.floor(i))throw new RangeError("invalid_code_point "+i);i<=65535?t+=String.fromCharCode(i):(i-=65536,t+=String.fromCharCode(i>>>10&1023|55296),t+=String.fromCharCode(1023&i|56320))}return t}}),l("Array.prototype.findIndex",function(e){return e||function(e,t){return _(this,e,t).cj}}),l("WeakSet",function(e){function t(e){if(this.g=new WeakMap,e){e=g(e);for(var t;!(t=e.next()).done;)this.add(t.value)}}return function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),i=new e([t]);return!(!i.has(t)||i.has(n))&&(i.delete(t),i.add(n),!i.has(t)&&i.has(n))}catch(e){return!1}}()?e:(t.prototype.add=function(e){return this.g.set(e,!0),this},t.prototype.has=function(e){return this.g.has(e)},t.prototype.delete=function(e){return this.g.delete(e)},t)}),l("Array.prototype.find",function(e){return e||function(e,t){return _(this,e,t).v}}),l("String.prototype.startsWith",function(e){return e||function(e,t){var n=B(this,e,"startsWith"),i=n.length,r=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<r&&t<i;)if(n[t++]!=e[a++])return!1;return a>=r}}),l("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)N(e,t)&&n.push([t,e[t]]);return n}});var j="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)N(i,r)&&(e[r]=i[r])}return e};function q(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]}function F(e){return e||q}l("Object.assign",function(e){return e||j}),l("Promise.prototype.finally",function(e){return e||function(e){return this.then(function(t){return Promise.resolve(e()).then(function(){return t})},function(t){return Promise.resolve(e()).then(function(){throw t})})}}),l("Array.prototype.entries",function(e){return e||function(){return U(this,function(e,t){return[e,t]})}}),l("Number.isNaN",function(e){return e||function(e){return"number"==typeof e&&isNaN(e)}}),l("String.prototype.repeat",function(e){return e||function(e){var t=B(this,null,"repeat");if(e<0||e>1342177279)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}}),l("Number.EPSILON",function(){return 2220446049250313e-31}),l("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991}),l("Number.isFinite",function(e){return e||function(e){return"number"==typeof e&&(!isNaN(e)&&e!==1/0&&e!==-1/0)}}),l("Object.values",function(e){return e||function(e){var t,n=[];for(t in e)N(e,t)&&n.push(e[t]);return n}}),l("Math.log2",function(e){return e||function(e){return Math.log(e)/Math.LN2}}),l("String.prototype.endsWith",function(e){return e||function(e,t){var n=B(this,e,"endsWith");void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var i=e.length;i>0&&t>0;)if(n[--t]!=e[--i])return!1;return i<=0}}),l("Math.trunc",function(e){return e||function(e){if(e=Number(e),isNaN(e)||e===1/0||e===-1/0||0===e)return e;var t=Math.floor(Math.abs(e));return e<0?-t:t}}),l("Array.prototype.at",function(e){return e||q}),l("Int8Array.prototype.at",F),l("Uint8Array.prototype.at",F),l("Uint8ClampedArray.prototype.at",F),l("Int16Array.prototype.at",F),l("Uint16Array.prototype.at",F),l("Int32Array.prototype.at",F),l("Uint32Array.prototype.at",F),l("Float32Array.prototype.at",F),l("Float64Array.prototype.at",F),l("String.prototype.at",function(e){return e||q});var V=this||self;function G(e,t){e=e.split(".");var n,i=V;e[0]in i||void 0===i.execScript||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function H(t,n){if(n)if(n instanceof Map)for(var i=g(n.keys()),r=i.next();!r.done;r=i.next())r=r.value,Object.defineProperty(this,r,{value:n.get(r),writable:!0,enumerable:!0});else for(i in n)Object.defineProperty(this,i,{value:n[i],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function z(e){var t,n=new H(e.type);for(t in e)Object.defineProperty(n,t,{value:e[t],writable:!0,enumerable:!0});return n}H.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},H.prototype.stopImmediatePropagation=function(){this.g=!0},H.prototype.stopPropagation=function(){},G("shaka.util.FakeEvent",H);var K={Hm:"abrstatuschanged",Im:"adaptation",Jm:"audiotrackchanged",Km:"audiotrackschanged",Lm:"boundarycrossed",Mm:"buffering",Nm:"canupdatestarttime",Om:"complete",Pm:"currentitemchanged",Qm:"downloadcompleted",Rm:"downloadfailed",Sm:"downloadheadersreceived",Tm:"drmsessionupdate",Um:"emsg",$m:"itemsinserted",an:"itemsremoved",un:"prft",Error:"error",Vm:"expirationupdated",Wm:"firstquartile",Xm:"gapjumped",cn:"keystatuschanged",gn:"loaded",hn:"loading",ln:"manifestparsed",mn:"manifestupdated",nn:"mediaqualitychanged",on:"mediasourcerecovered",pn:"metadataadded",Metadata:"metadata",qn:"midpoint",rn:"nospatialvideoinfo",tn:"onstatechange",vn:"ratechange",yn:"segmentappended",zn:"sessiondata",An:"spatialvideoinfo",Bn:"stalldetected",Cn:"started",Dn:"statechanged",En:"streaming",Fn:"textchanged",Gn:"texttrackvisibility",Hn:"thirdquartile",In:"timelineregionadded",Jn:"timelineregionenter",Kn:"timelineregionexit",Ln:"trackschanged",Nn:"unloading",Pn:"variantchanged"};function W(){}function X(){}function Y(){}function Z(e){var t=O.apply(1,arguments);J.has(e)||(J.add(e),Y.apply(W,m(t)))}function Q(){}var J=new Set;function $(){this.g=new Map}function ee(){this.hb=new $,this.Ye=this}function te(e,t){for(var n=[],i=(e=g(e)).next();!i.done;i=e.next())n.push(t(i.value));return n}function ne(e,t){for(var n=(e=g(e)).next();!n.done;n=e.next())if(t(n.value))return!0;return!1}function ie(e,t){for(var n=[],i=(e=g(e)).next();!i.done;i=e.next())t(i=i.value)&&n.push(i);return n}e.console&&((new Map).set(1,function(){return i.error.apply(i,m(O.apply(0,arguments)))}).set(2,function(){return i.warn.apply(i,m(O.apply(0,arguments)))}).set(3,function(){return i.info.apply(i,m(O.apply(0,arguments)))}).set(4,function(){return i.log.apply(i,m(O.apply(0,arguments)))}).set(5,function(){return i.debug.apply(i,m(O.apply(0,arguments)))}).set(6,function(){return i.debug.apply(i,m(O.apply(0,arguments)))}),Y=function(){return i.warn.apply(i,m(O.apply(0,arguments)))},X=function(){i.error.apply(i,m(O.apply(0,arguments)))}),(r=$.prototype).push=function(e,t){this.g.has(e)?this.g.get(e).push(t):this.g.set(e,[t])},r.get=function(e){return this.g.has(e)?this.g.get(e).slice():null},r.remove=function(e,t){if(this.g.has(e)){var n=this.g.get(e).filter(function(e){return e!=t});this.g.set(e,n),n.length||this.g.delete(e)}},r.forEach=function(e){this.g.forEach(function(t,n){e(n,t)})},r.size=function(){return this.g.size},r.keys=function(){return Array.from(this.g.keys())},ee.prototype.addEventListener=function(e,t){this.hb&&this.hb.push(e,t)},ee.prototype.removeEventListener=function(e,t){this.hb&&this.hb.remove(e,t)},ee.prototype.dispatchEvent=function(e){if(!this.hb)return!0;var t=this.hb.get(e.type)||[],n=this.hb.get("All");for(n&&(t=t.concat(n)),n=(t=g(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.Ye,e.currentTarget=this.Ye;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(e){}if(e.g)break}return e.defaultPrevented},ee.prototype.release=function(){this.hb=null};var re=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function ae(e){var t;e instanceof ae?(oe(this,e.lc),this.xd=e.xd,se(this,e.Ib),ue(this,e.Sd),this.Tb=e.Tb,le(this,e.g.clone()),this.fd=e.fd):e&&(t=String(e).match(re))?(oe(this,t[1]||"",!0),this.xd=ce(t[2]||""),se(this,t[3]||"",!0),ue(this,t[4]),this.Tb=ce(t[5]||"",!0),le(this,t[6]||"",!0),this.fd=ce(t[7]||"")):this.g=new ye(null)}function oe(e,t,n){e.lc=n?ce(t,!0):t,e.lc&&(e.lc=e.lc.replace(/:$/,""))}function se(e,t,n){e.Ib=n?ce(t,!0):t}function ue(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.Sd=t}else e.Sd=null}function le(e,t,n){t instanceof ye?e.g=t:(n||(t=de(t,me)),e.g=new ye(t))}function ce(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function de(e,t,n){return null!=e?(e=encodeURI(e).replace(t,he),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function he(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(r=ae.prototype).lc="",r.xd="",r.Ib="",r.Sd=null,r.Tb="",r.fd="",r.toString=function(){var e=[],t=this.lc;if(t&&e.push(de(t,pe,!0),":"),t=this.Ib){e.push("//");var n=this.xd;n&&e.push(de(n,pe,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.Sd)&&e.push(":",String(t))}return(t=this.Tb)&&(this.Ib&&"/"!=t.charAt(0)&&e.push("/"),e.push(de(t,"/"==t.charAt(0)?ge:fe,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.fd)&&e.push("#",de(t,ve)),e.join("")},r.resolve=function(e){var t=this.clone();"data"===t.lc&&(t=new ae);var n=!!e.lc;n?oe(t,e.lc):n=!!e.xd,n?t.xd=e.xd:n=!!e.Ib,n?se(t,e.Ib):n=null!=e.Sd;var i=e.Tb;if(n)ue(t,e.Sd);else if(n=!!e.Tb){if("/"!=i.charAt(0))if(this.Ib&&!this.Tb)i="/"+i;else{var r=t.Tb.lastIndexOf("/");-1!=r&&(i=t.Tb.substr(0,r+1)+i)}if(".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var a=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&a.push(""):".."==s?((a.length>1||1==a.length&&""!=a[0])&&a.pop(),r&&o==i.length&&a.push("")):(a.push(s),r=!0)}i=a.join("/")}}return n?t.Tb=i:n=""!==e.g.toString(),n?le(t,e.g.clone()):n=!!e.fd,n&&(t.fd=e.fd),t},r.clone=function(){return new ae(this)};var pe=/[#\/\?@]/g,fe=/[#\?:]/g,ge=/[#\?]/g,me=/[#\?@]/g,ve=/#/g;function ye(e){this.g=e||null}function Ae(e){if(!e.ob&&(e.ob=new Map,e.ke=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(i>=0){var a=t[n].substring(0,i);r=t[n].substring(i+1)}else a=t[n];a=decodeURIComponent(a),r=r||"",e.add(a,decodeURIComponent(r))}}function be(e){return Ae(e),e.ke}function Te(){}function Ce(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if((ArrayBuffer.isView(e)?e.buffer:e)==(ArrayBuffer.isView(t)?t.buffer:t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=xe(e);t=xe(t);for(var i=0;i<e.byteLength;i++)if(n[i]!=t[i])return!1;return!0}function we(e){return ArrayBuffer.isView(e)?0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer:e}function xe(e,t,n){return ke(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function Se(e,t,n){return ke(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint16Array)}function Ee(e,t,n){return ke(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function ke(e,t,n,i){var r=ArrayBuffer.isView(e)?e.buffer:e,a=1;"BYTES_PER_ELEMENT"in i&&(a=i.BYTES_PER_ELEMENT);var o=((e.byteOffset||0)+e.byteLength)/a;return new i(r,e=Math.floor(Math.max(0,Math.min(((e.byteOffset||0)+t)/a,o))),Math.floor(Math.min(e+Math.max(n,0),o))-e)}function Ie(e,t,n){var i=O.apply(3,arguments);if(this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1,this.message="Shaka Error "+this.code,Me)try{throw Error(this.message||"Shaka Error")}catch(e){this.stack=e.stack}}(r=ye.prototype).ob=null,r.ke=null,r.add=function(e,t){Ae(this),this.g=null;var n=this.ob.has(e)?this.ob.get(e):null;return n||this.ob.set(e,n=[]),n.push(t),this.ke++,this},r.set=function(e,t){return Ae(this),this.g=null,this.ob.has(e)?this.ob.set(e,[t]):this.add(e,t),this},r.get=function(e){return Ae(this),this.ob.get(e)||[]},r.toString=function(){if(this.g)return this.g;if(!this.ob||!this.ob.size)return"";for(var e=[],t=g(this.ob.keys()),n=t.next();!n.done;n=t.next()){var i=n.value;n=encodeURIComponent(i),i=this.ob.get(i);for(var r=0;r<i.length;r++){var a=n;""!==i[r]&&(a+="="+encodeURIComponent(i[r])),e.push(a)}}return this.g=e.join("&")},r.clone=function(){var e=new ye;if(e.g=this.g,this.ob){for(var t=new Map,n=g(this.ob),i=n.next();!i.done;i=n.next()){var r=g(i.value);i=r.next().value,r=r.next().value,t.set(i,r.concat())}e.ob=t,e.ke=this.ke}return e},G("shaka.util.BufferUtils",Te),Te.toDataView=Ee,Te.toUint16=Se,Te.toUint8=xe,Te.toArrayBuffer=we,Te.equal=Ce,Ie.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},G("shaka.util.Error",Ie);var Me=!0;function Le(e){this.h=e,this.g=void 0}function Re(){return Oe.value()}Ie.Severity={RECOVERABLE:1,CRITICAL:2},Ie.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},Ie.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,STREAMING_NOT_ALLOWED:3024,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4054,CANNOT_ADD_EXTERNAL_CHAPTERS_TO_LIVE_STREAM:4054,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,MISSING_EME_SUPPORT:6020,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,PRELOAD_DESTROYED:7006,QUEUE_INDEX_OUT_OF_BOUNDS:7007,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:10007},Le.prototype.value=function(){return void 0===this.g&&(this.g=this.h()),this.g};var Pe=null,De=null,Oe=new Le(function(){var e=void 0;return Pe&&(e=Pe()),!e&&De&&(e=De()),e});function Ne(){}function Ue(t){if(!t)return"";if(239==(t=xe(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),e.TextDecoder&&!Re().ji())return(t=(new TextDecoder).decode(t)).includes("�")&&X('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),t;for(var n="",i=0;i<t.length;++i){var r=65533;if(128&t[i]?t.length>=i+2&&192==(224&t[i])&&128==(192&t[i+1])?(r=(31&t[i])<<6|63&t[i+1],i+=1):t.length>=i+3&&224==(240&t[i])&&128==(192&t[i+1])&&128==(192&t[i+2])?(r=(15&t[i])<<12|(63&t[i+1])<<6|63&t[i+2],i+=2):t.length>=i+4&&240==(241&t[i])&&128==(192&t[i+1])&&128==(192&t[i+2])&&128==(192&t[i+3])&&(r=(7&t[i])<<18|(63&t[i+1])<<12|(63&t[i+2])<<6|63&t[i+3],i+=3):r=t[i],r<=65535)n+=String.fromCharCode(r);else{var a=1023&(r-=65536);n+=String.fromCharCode(55296+(r>>10)),n+=String.fromCharCode(56320+a)}}return n}function Be(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new Ie(2,2,2004);n=Math.floor(e.byteLength/2);var i=new Uint16Array(n);e=Ee(e);for(var r=0;r<n;r++)i[r]=e.getUint16(2*r,t);return Fe(i)}function _e(e){function t(e){return n.byteLength<=e||n[e]>=9&&n[e]<=126}if(!e)return"";var n=xe(e);if(239==n[0]&&187==n[1]&&191==n[2])return Ue(n);if(254==n[0]&&255==n[1])return Be(n.subarray(2),!1);if(255==n[0]&&254==n[1])return Be(n.subarray(2),!0);if(0==n[0]&&0==n[2])return Be(e,!1);if(0==n[1]&&0==n[3])return Be(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return Ue(e);throw new Ie(2,2,2003)}function je(t){if(e.TextEncoder&&!Re().ji()){var n=new TextEncoder;return we(n.encode(t))}t=encodeURIComponent(t),t=unescape(t),n=new Uint8Array(t.length);for(var i=0;i<t.length;i++)n[i]=t[i].charCodeAt(0);return we(n)}function qe(e,t){for(var n=new ArrayBuffer(2*e.length),i=new DataView(n),r=0;r<e.length;++r)i.setUint16(2*r,e.charCodeAt(r),t);return n}function Fe(e){return Ge.value()(e)}function Ve(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,i=RegExp(n.source);return e&&i.test(e)?e.replace(n,function(e){return"#"==e[1]?(e="x"==e[2]||"X"==e[2]?parseInt(e.substring(3),16):parseInt(e.substring(2),10))>=0&&e<=1114111?String.fromCodePoint(e):"":t[e]||"'"}):e||""}G("shaka.util.StringUtils",Ne),Ne.resetFromCharCode=function(){Ge.g=void 0},Ne.toUTF16=qe,Ne.toUTF8=je,Ne.fromBytesAutoDetect=_e,Ne.fromUTF16=Be,Ne.fromUTF8=Ue;var Ge=new Le(function(){function e(e){try{var t=new Uint8Array(e);return String.fromCharCode.apply(null,t).length>0}catch(e){return!1}}for(var t={$c:65536};t.$c>0;(t={$c:t.$c}).$c/=2)if(e(t.$c))return function(e){return function(t){for(var n="",i=0;i<t.length;i+=e.$c)n+=String.fromCharCode.apply(null,t.subarray(i,i+e.$c));return n}}(t);return null});function He(){}function ze(e){return e=Fe(xe(e)),btoa(e)}function Ke(e,t){return t=null==t||t,e=ze(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function We(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}function Xe(t){for(var n=t.length/2,i=new Uint8Array(n),r=0;r<n;r++)i[r]=e.parseInt(t.substr(2*r,2),16);return i}function Ye(e){var t=xe(e);e="";for(var n=(t=g(t)).next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function Ze(){for(var e=O.apply(0,arguments),t=0,n=0;n<e.length;++n)t+=e[n].byteLength;t=new Uint8Array(t);for(var i=n=0;i<e.length;++i){var r=e[i];ArrayBuffer.isView(r)&&1===r.BYTES_PER_ELEMENT?t.set(r,n):t.set(xe(r),n),n+=r.byteLength}return t}function Qe(e,t,n){if(n=void 0===n?"":n,0==t.length)return e;if(1==e.length&&1==t.length){var i=new ae(e[0]);return t=new ae(t[0]),t=i.resolve(t),n&&le(t,n),[t.toString()]}t=t.map(function(e){return new ae(e)}),i=[];for(var r=(e=g(e)).next();!r.done;r=e.next()){r=new ae(r.value);for(var a=g(t),o=a.next();!o.done;o=a.next())o=r.resolve(o.value),n&&le(o,n),i.push(o.toString())}return i}function Je(e,t,n,i){return e={keySystem:e,encryptionScheme:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},i&&(e.keySystemUris=new Set([i])),e}function $e(t,n){n=void 0===n?"cenc":n;var i=[],r=[],a=[];t.forEach(function(e,t){var n=t;22!=n.length&&(n=Ke(Xe(t),!1));var o=e;22!=o.length&&(o=Ke(Xe(e),!1)),e={kty:"oct",kid:n,k:o},i.push(e),r.push(e.kid),a.push(t)}),t=JSON.stringify({keys:i});var o=JSON.stringify({kids:r});return o=[{initData:xe(je(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:n,licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(a)}}function et(e,t){if(1==t.length)return t[0];if(null!=(e=tt(e,t)))return e;throw new Ie(2,4,4025,t)}function tt(e,t){for(var n=ot.get(e),i=(n=g(n)).next();!i.done;i=n.next()){i=i.value;for(var r=g(t),a=r.next();!a.done;a=r.next())if(a=a.value,i.test(a.trim()))return a.trim()}return e==it?"":null}function nt(e,t){for(var n=[],i=(e=g(e=ot.get(e))).next();!i.done;i=e.next()){i=i.value;for(var r=g(t),a=r.next();!a.done;a=r.next())a=a.value,i.test(a.trim())&&n.push(a.trim())}return n}G("shaka.util.Uint8ArrayUtils",He),He.concat=Ze,He.toHex=Ye,He.fromHex=Xe,He.fromBase64=We,He.toBase64=Ke,He.toStandardBase64=ze;var it="text",rt={Ha:"video",na:"audio",Va:it,yg:"image",Fm:"application"},at=1/15,ot=(new Map).set("audio",[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/,/^ac3$/,/^eac3$/,/^apac$/]).set("video",[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]).set("text",[/^vtt$/,/^wvtt/,/^stpp/]);function st(){}function ut(e,t){return e=dt(e),t=dt(t),e.split("-")[0]==t.split("-")[0]}function lt(e,t){return e=dt(e),t=dt(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&1==e.length&&2==t.length}function ct(e,t){return e=dt(e),t=dt(t),e=e.split("-"),t=t.split("-"),2==e.length&&2==t.length&&e[0]==t[0]}function dt(e){var t=(e=g(e.split("-x-"))).next().value;t=void 0===t?"":t,e=void 0===(e=e.next().value)?"":e;var n=g(t.split("-"));return t=void 0===(t=n.next().value)?"":t,n=void 0===(n=n.next().value)?"":n,e=e?"x-"+e:"",t=t.toLowerCase(),t=vt.get(t)||t,((n=n.toUpperCase())?t+"-"+n:t)+(e?"-"+e:"")}function ht(e,t){var n=ft(e),i=ft(t);return e!=n&&t!=i&&n==i}function pt(e,t){return e=dt(e),(t=dt(t))==e?4:lt(t,e)?3:ct(t,e)?2:lt(e,t)?1:0}function ft(e){var t=e.indexOf("-");return e=(e=t>=0?e.substring(0,t):e).toLowerCase(),vt.get(e)||e}function gt(e){return e.language?dt(e.language):e.audio&&e.audio.language?dt(e.audio.language):e.video&&e.video.language?dt(e.video.language):"und"}function mt(e,t){e=dt(e);for(var n=new Set,i=(t=g(t)).next();!i.done;i=t.next())n.add(dt(i.value));for(i=(t=g(n)).next();!i.done;i=t.next())if((i=i.value)==e)return i;for(i=(t=g(n)).next();!i.done;i=t.next())if(lt(i=i.value,e))return i;for(i=(t=g(n)).next();!i.done;i=t.next())if(ct(i=i.value,e))return i;for(t=(n=g(n)).next();!t.done;t=n.next())if(lt(e,t=t.value))return t;return null}G("shaka.util.LanguageUtils",st),st.findClosestLocale=mt,st.getLocaleForVariant=gt,st.getLocaleForText=function(e){return dt(e.language||"und")},st.getBase=ft,st.relatedness=pt,st.areSiblings=ht,st.normalize=dt,st.isSiblingOf=ct,st.isParentOf=lt,st.areLanguageCompatible=ut,st.areLocaleCompatible=function(e,t){return(e=dt(e))==(t=dt(t))};var vt=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function yt(e){ee.call(this),this.j=dt(e),this.i=new Map,this.g=new Set,this.h=new Map}function At(e){for(var t=e.h,n=e.j,i=e.g,r=new Set,a=g(i),o=a.next(),s={};!o.done;s={ze:void 0},o=a.next()){s.ze=o.value,r.add(s.ze),r.add(ft(s.ze)),(o=ie(t.keys(),function(e){return function(t){return ht(t,e.ze)}}(s))).sort();for(var u=(o=g(o)).next();!u.done;u=o.next())r.add(u.value);for((s=ie(t.keys(),function(e){return function(t){return ft(t)==e.ze}}(s))).sort(),o=(s=g(s)).next();!o.done;o=s.next())r.add(o.value)}for(r.add(n),n=[],a=(r=g(r)).next();!a.done;a=r.next())(a=t.get(a.value))&&n.push(a);for(n.reverse(),e.i.clear(),r=(t=g(n)).next();!r.done;r=t.next())r.value.forEach(function(t,n){e.i.set(n,t)});for(t=e.i.keys(),r=new Set,a=(n=g(e.g)).next();!a.done;a=n.next())bt(a=e.h.get(a.value)||new Map,t,r);r.size>0&&(i=(new Map).set("locales",Array.from(i)).set("missing",Array.from(r)),e.dispatchEvent(new H("missing-localizations",i)))}function bt(e,t,n){for(var i=(t=g(t)).next();!i.done;i=t.next())i=i.value,e.get(i)||n.add(i)}p(yt,ee),(r=yt.prototype).release=function(){ee.prototype.release.call(this)},r.Ki=function(e){var t=this;this.g.clear();for(var n=(e=g(e)).next();!n.done;n=e.next())this.g.add(dt(n.value));At(this),(e=ie(this.g,function(e){return!t.h.has(e)})).length&&this.dispatchEvent(new H("unknown-locales",(new Map).set("locales",e))),e=ie(this.g,function(e){return t.h.has(e)}),e=(new Map).set("locales",e.length?e:[this.j]),this.dispatchEvent(new H("locale-changed",e))},r.Xa=function(e,t,n){e=dt(e),void 0===n&&(n=Tt);var i=this.h.get(e)||new Map;return t.forEach(function(e,t){i.has(t)&&n!=Tt||i.set(t,e)}),this.h.set(e,i),At(this),this.dispatchEvent(new H("locale-updated")),this},r.im=function(e){for(var t=g(e.keys()),n=t.next();!n.done;n=t.next())n=n.value,e.set(n,this.resolve(n))},r.resolve=function(e){var t=this.i.get(e);return t||(e=(new Map).set("locales",Array.from(this.g)).set("missing",e),this.dispatchEvent(new H("unknown-localization",e)),"")},r.Kk=function(){return this.g},G("shaka.ui.Localization",yt),yt.prototype.getCurrentLocales=yt.prototype.Kk,yt.prototype.resolve=yt.prototype.resolve,yt.prototype.resolveDictionary=yt.prototype.im,yt.prototype.insert=yt.prototype.Xa,yt.prototype.changeLocale=yt.prototype.Ki,yt.prototype.release=yt.prototype.release;var Tt=1;function Ct(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}function wt(e){return e.h/(1-Math.pow(e.g,e.i))}function xt(){this.h=new Ct(2),this.j=new Ct(5),this.g=0,this.i=128e3,this.l=16e3}function St(e,t){return!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t}function Et(e,t){(t=e.indexOf(t))>-1&&e.splice(t,1)}function kt(e,t,n){if(n||(n=St),e.length!=t.length)return!1;t=t.slice();for(var i=(e=g(e)).next(),r={};!i.done;r={hj:void 0},i=e.next()){if(r.hj=i.value,-1==(i=t.findIndex(function(e){return function(t){return n(e.hj,t)}}(r))))return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length}function It(e,t,n){if(e===t)return!0;if(!e||!t)return e==t;if(n||(n=St),e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function Mt(){this.g=new $}function Lt(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.g=function(e,t){if(null==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(e){return!n.has(e)}),function(e){var t=Rt;if(null==t){t=!1;try{var n={},i={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",i),Object.defineProperty(n,"capture",i),i=function(){},e.addEventListener("test",i,n),e.removeEventListener("test",i,n)}catch(e){t=!1}Rt=t}return t||!1}(e)?t:t.capture||!1}(e,i),this.target.addEventListener(t,n,this.g)}yt.ConflictResolution={USE_OLD:0,USE_NEW:Tt},yt.UNKNOWN_LOCALES="unknown-locales",yt.UNKNOWN_LOCALIZATION="unknown-localization",yt.MISSING_LOCALIZATIONS="missing-localizations",yt.LOCALE_CHANGED="locale-changed",yt.LOCALE_UPDATED="locale-updated",Ct.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)},xt.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},xt.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},xt.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(wt(this.h),wt(this.j))},(r=Mt.prototype).release=function(){this.Sa(),this.g=null},r.o=function(e,t,n,i){this.g&&(e=new Lt(e,t,n,i),this.g.push(t,e))},r.ua=function(e,t,n,i){var r=this;this.o(e,t,function i(a){r.Fa(e,t,i),n(a)},i)},r.Fa=function(e,t,n){if(this.g)for(var i=this.g.get(t)||[],r=(i=g(i)).next();!r.done;r=i.next())(r=r.value).target!=e||n!=r.listener&&n||(r.Fa(),this.g.remove(t,r))},r.Sa=function(){if(this.g){for(var e=[],t=g(this.g.g.values()),n=t.next();!n.done;n=t.next())e.push.apply(e,m(n.value));for(t=(e=g(e)).next();!t.done;t=e.next())t.value.Fa();this.g.g.clear()}},G("shaka.util.EventManager",Mt),Mt.prototype.removeAll=Mt.prototype.Sa,Mt.prototype.unlisten=Mt.prototype.Fa,Mt.prototype.listenOnce=Mt.prototype.ua,Mt.prototype.listen=Mt.prototype.o,Mt.prototype.release=Mt.prototype.release,Lt.prototype.Fa=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var Rt=void 0;function Pt(e,t){this.g=e,this.h=t}function Dt(e,t){var n=new Pt(5,0),i=Ut,r=i.g,a=n.h-r.h;((n.g-r.g||a)>0?i.i:i.h)(i.g,n,e,t)}function Ot(e,t,n,i){Y([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",i].join(" "))}function Nt(e,t,n,i){X([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",i].join(" "))}G("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),Pt.prototype.toString=function(){return"v"+this.g+"."+this.h};var Ut=null;function Bt(e,t,n,i){this.g=null,this.l=e,this.i=t,this.m=n,this.u=i,this.j=!1;e:{if("undefined"==typeof libDPIModule&&Y("Could not find LCEVC Library dependencies on this page"),"undefined"!=typeof LCEVCdec)this.h=LCEVCdec;else{if("undefined"==typeof LcevcDil){Y("Could not find LCEVC Library on this page"),e=!1;break e}this.h=LcevcDil,this.j=!0,Dt("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead")}void 0===this.h.SupportObject?(Y("Could not find LCEVC Library on this page"),e=!1):(this.h.SupportObject.SupportStatus||Y(this.h.SupportObject.SupportError),e=void 0!==this.h&&"undefined"!=typeof libDPIModule&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}e&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function _t(e,t,n,i){"video"!==i.type||e.u&&!i.baseOriginalId||e.g&&e.g.appendBuffer(t,"video",i.id,-n,!e.u)}function jt(e){e.g&&e.i.classList.add("shaka-hidden")}function qt(e){return!(!e||"undefined"==typeof LCEVCdec)&&"lvc1"==e.codecs}function Ft(t){if(Ht.has(t))return Ht.get(t);var n=e.ManagedMediaSource||e.MediaSource;return!!n&&(n=n.isTypeSupported(t),Ht.set(t,n),n)}function Vt(){var t=e.ManagedSourceBuffer||e.SourceBuffer;return!!t&&!!t.prototype&&!!t.prototype.changeType}function Gt(){var t=e.ManagedMediaSource||e.MediaSource;return!(!t||!t.prototype)&&(!!t.prototype.setLiveSeekableRange&&!!t.prototype.clearLiveSeekableRange)}Bt.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},G("shaka.lcevc.Dec",Bt),Bt.prototype.release=Bt.prototype.release;var Ht=new Map;function zt(){}function Kt(){}function Wt(){}function Xt(e){this.h=new Map,this.i=0,this.j=new Kt,(e=Zt(e.toLowerCase()))&&(this.j=e()),this.g=new zt,(e=Jt)&&(this.g=e(),this.h.set(this.i,this.g))}function Yt(e,t){Qt.set(e,t)}function Zt(e){return Qt.get(e)}zt.prototype.extract=function(){},zt.prototype.decode=function(){return[]},zt.prototype.clear=function(){},zt.prototype.getStreams=function(){return[]},Kt.prototype.init=function(){},Kt.prototype.parse=function(){return[]},(r=Wt.prototype).init=function(){},r.Uf=function(){},r.fe=function(){},r.remove=function(){},r.zg=function(){},G("shaka.media.IClosedCaptionParser",Wt),(r=Xt.prototype).init=function(e,t,n){if(t=void 0!==t&&t,-1!=(n=void 0===n?-1:n)&&this.i!=n){t=n;var i=this.h.get(t);this.h.set(this.i,this.g),i?this.g=i:((i=Jt)&&(this.g=i()),this.h.set(t,this.g))}else t||this.fe();this.j.init(e),-1!=n&&(this.i=n)},r.Uf=function(e){for(var t=(e=g(e=this.j.parse(e))).next();!t.done;t=e.next()){var n=xe((t=t.value).packet);n.length>0&&this.g.extract(n,t.pts)}return this.g.decode()},r.fe=function(){this.g.clear()},r.remove=function(e){e=void 0===e?[]:e,e=new Set(e);for(var t=g(this.h.keys()),n=t.next();!n.done;n=t.next())if(n=n.value,!e.has(n)){var i=this.h.get(n);i&&i.clear(),this.h.delete(n)}},r.zg=function(){return this.g.getStreams()},G("shaka.media.ClosedCaptionParser",Xt),Xt.findDecoder=function(){return Jt},Xt.unregisterDecoder=function(){Jt=null},Xt.registerDecoder=function(e){Jt=e},Xt.findParser=Zt,Xt.unregisterParser=function(e){Qt.delete(e)},Xt.registerParser=Yt;var Qt=new Map,Jt=null;function $t(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=en,this.scroll=tn}G("shaka.text.CueRegion",$t);var en=1;$t.units={PX:0,PERCENTAGE:en,LINES:2};var tn="";function nn(e){this.h=e||"",this.g=0}function rn(e){an(e,/[ \t]+/gm)}function an(e,t){return t.lastIndex=e.g,t=null==(t=t.exec(e.h))?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||null==t||t.position!=e.g?null:(e.g+=t.length,t.results)}function on(e){return e.g==e.h.length?null:(e=an(e,/[^ \t\n]*/gm))?e[0]:null}function sn(e){if(null==(e=an(e,ln)))return null;var t=Number(e[2]),n=Number(e[3]);return t>59||n>59?null:(Number(e[6])||0)/1e3+n+60*t+3600*(Number(e[1])||0)}function un(e){return e?sn(new nn(e)):null}$t.scrollMode={NONE:tn,UP:"up"};var ln=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function cn(){}function dn(e){var t=new WeakSet;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||ArrayBuffer.isView(n))return n;if(t.has(n))return null;var i=Array.isArray(n);if(n.constructor!=Object&&!i)return null;t.add(n);var r,a=i?[]:{};for(r in n)a[r]=e(n[r]);return i&&(a.length=n.length),a}}(e)}function hn(e){var t,n={};for(t in e)n[t]=e[t];return n}function pn(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var i=n.toString(),r=e[n];void 0!==r&&(r=pn(r))&&t.push(i+":"+r)}e="["+t.join(",")+"]"}else if("function"==typeof e)e="";else if(e instanceof Object){for((n=Object.keys(e)).sort(),t=[],i=(n=g(n)).next();!i.done;i=n.next())r=i.value,i=JSON.stringify(r),void 0!==(r=e[r])&&(r=pn(r))&&t.push(i+":"+r);e="{"+t.join(",")+"}"}else e=JSON.stringify(e);return e}function fn(e,t){var n=void 0!==n&&n;return gn(e=_e(e),t,n)}function gn(e,t,n){return e=function(e,t){function n(a,o){o=void 0!==o&&o;for(var s=[];e[r];)if(60==e.charCodeAt(r)){if(47===e.charCodeAt(r+1)){o=r+2,r=e.indexOf(">",r);var u=(o=e.substring(o,r)).indexOf(a);if(-1==u){var l=a.indexOf(".");l>0&&(u=o.indexOf(a.substring(0,l)))}if(-1==u)throw a=e.substring(0,r).split("\n"),Error("Unexpected close tag\nLine: "+(a.length-1)+"\nColumn: "+(a[a.length-1].length+1)+"\nChar: "+e[r]);r+1&&(r+=1);break}if(33===e.charCodeAt(r+1)){if(45==e.charCodeAt(r+2)){for(;-1!==r&&(62!==e.charCodeAt(r)||45!=e.charCodeAt(r-1)||45!=e.charCodeAt(r-2)||-1==r);)r=e.indexOf(">",r+1);-1===r&&(r=e.length)}else if(91===e.charCodeAt(r+2)&&91===e.charCodeAt(r+8)&&"cdata"===e.substr(r+3,5).toLowerCase()){-1==(u=e.indexOf("]]>",r))?(s.push(e.substr(r+9)),r=e.length):(s.push(e.substring(r+9,u)),r=u+3);continue}r++;continue}e:{l=o,r++;var c=i(),d={};for(u=[];62!==e.charCodeAt(r)&&e[r];){var h=e.charCodeAt(r);if(h>64&&h<91||h>96&&h<123){h=i();for(var p=e.charCodeAt(r);p&&39!==p&&34!==p&&!(p>64&&p<91||p>96&&p<123)&&62!==p;)r++,p=e.charCodeAt(r);var f=r+1;if(r=e.indexOf(e[r],f),f=e.slice(f,r),39===p||34===p){if(-1===r){if(l={tagName:c,attributes:d,children:u,parent:null},t)for(c=0;c<u.length;c++)"string"!=typeof u[c]&&(u[c].parent=l);u=l;break e}}else f=null,r--;if(h.startsWith("xmlns:")){p=f;var g=h.split(":")[1];Hn.set(p,g),zn.set(g,p)}"tt"===c&&"xml:space"===h&&"preserve"===f&&(l=!0),d[h]=f}r++}for(47!==e.charCodeAt(r-1)?(r++,u=n(c,l)):r++,l={tagName:c,attributes:d,children:u,parent:null},c=u.length,d=0;d<c;d++)"string"!=typeof(h=u[d])?t&&(h.parent=l):d==c-1&&"\n"==h&&u.pop();u=l}if(s.push(u),"string"==typeof u)break;"?"===u.tagName[0]&&u.children&&(s.push.apply(s,m(u.children)),u.children=[])}else u=r,-2===(r=e.indexOf("<",r)-1)&&(r=e.length),u=e.slice(u,r+1),o?u.length>0&&s.push(u):(s.length&&1==u.length&&"\n"==u[0]||u.trim().length>0)&&s.push(u),r++;return s}function i(){for(var t=r;-1==="\r\n\t>/= ".indexOf(e[r])&&e[r];)r++;return e.slice(t,r)}var r=0;return n("")}(e,void 0!==n&&n),!t&&e.length?e[0]:(e=e.find(function(e){return t.split(",").includes(e.tagName)}))?e:null}function mn(e){return Hn.has(e)?Hn.get(e):""}function vn(e){return"string"==typeof e}function yn(e){var t=[];if(!e.children)return[];for(var n=(e=g(e.children)).next();!n.done;n=e.next())"string"!=typeof(n=n.value)&&t.push(n);return t}function An(e,t){var n=[];if(!e.children)return[];for(var i=(e=g(e.children)).next();!i.done;i=e.next())(i=i.value).tagName===t&&n.push(i);return n}function bn(e){return"string"==typeof e?Ve(e):""===(e=e.children.reduce(function(e,t){return"string"==typeof t?e+t:e},""))?null:Ve(e)}function Tn(e){return Array.from(e.children).every(function(e){return"string"==typeof e})?((e=bn(e))&&(e=e.trim()),e):null}function Cn(e,t,n){if(n=void 0===n?[]:n,e.tagName===t&&n.push(e),e.children)for(var i=(e=g(e.children)).next();!i.done;i=e.next())Cn(i.value,t,n);return n}function wn(e,t){return 1!=(e=An(e,t)).length?null:e[0]}function xn(e,t,n){return 1!=(e=kn(e,t,n)).length?null:e[0]}function Sn(e,t,n,i){i=void 0===i?null:i;var r=null;return null!=(e=e.attributes[t])&&(r=n(e)),null==r?i:r}function En(e,t,n){return t=mn(t),e.attributes[t+":"+n]||null}function kn(e,t,n){var i=mn(t);if(t=[],e.children)for(n=i?i+":"+n:n,i=(e=g(e.children)).next();!i.done;i=e.next())(i=i.value)&&i.tagName===n&&t.push(i);return t}function In(e,t,n){for(var i=(t=g(t)).next();!i.done;i=t.next())if(i=En(e,i.value,n))return i;return null}function Mn(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function Ln(e){return e&&(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$","i").exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function Rn(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function Pn(e){return(e=Number(e))%1==0?e:null}function Dn(e){return(e=Number(e))%1==0&&e>0?e:null}function On(e){return(e=Number(e))%1==0&&e>=0?e:null}function Nn(e){return e=Number(e),isNaN(e)?null:e}function Un(e){return!!e&&"true"===e.toLowerCase()}function Bn(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function _n(e){for(var t=[],n=(e=g(e=Ve(e).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/))).next();!n.done;n=e.next()){var i=(n=n.value).match(/^([\w]+)/);if(i){var r=n.match(/(@id='(.*?)')/),a=n.match(/(@t='(\d+)')/),o=n.match(/(@n='(\d+)')/),s=n.match(/\[(\d+)\]/);t.push({name:i[0],id:r?r[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:a?Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:s?Number(s[1])-1:null,Lc:n.split("/@")[1]||null})}else n.startsWith("@")&&t.length&&(t[t.length-1].Lc=n.slice(1))}return t}function jn(e,t){var n=_n(t.attributes.sel||"");if(n.length){var i=n[n.length-1],r=t.attributes.pos||null;null==(n=i.position)&&(null!==i.t&&(n=qn(e,"t",i.t)),null!==i.n&&(n=qn(e,"n",i.n))),null===n?n="prepend"===r?0:e.length:"prepend"===r?--n:"after"===r&&++n,r=t.tagName,(i=i.Lc)&&e[n]?Fn(e[n],r,i,Tn(t)||""):("remove"!==r&&"replace"!==r||e.splice(n,1),"add"!==r&&"replace"!==r||e.splice.apply(e,[n,0].concat(m(t.children))))}}function qn(e,t,n){for(var i=0,r=(e=g(e)).next();!r.done;r=e.next()){if(Number(r.value.attributes[t])===n)return i;i++}return null}function Fn(e,t,n,i){"remove"===t?delete e.attributes[n]:"add"!==t&&"replace"!==t||(e.attributes[n]=i)}function Vn(e){var t="",n=e.tagName.split(":");for(var i in n.length>0&&(t=n[0],t=zn.has(t)?zn.get(t):""),t=document.createElementNS(t,e.tagName),e.attributes)t.setAttribute(i,e.attributes[i]);for(i=(e=g(e.children)).next();!i.done;i=e.next())n=void 0,n="string"==typeof(i=i.value)?new Text(i):Vn(i),t.appendChild(n);return t}function Gn(e){if(!e)return null;for(var t={tagName:e.tagName,attributes:hn(e.attributes),children:[],parent:null},n=(e=g(e.children)).next();!n.done;n=e.next())"string"==typeof(n=n.value)||((n=Gn(n)).parent=t),t.children.push(n);return t}G("shaka.util.ObjectUtils",cn),cn.alphabeticalKeyOrderStringify=pn,cn.shallowCloneObject=hn,cn.cloneObject=dn;var Hn=new Map,zn=new Map;function Kn(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new $t,this.position=null,this.positionAlign=$n,this.size=0,this.textAlign=ei,this.direction=ri,this.writingMode=ai,this.lineInterpretation=oi,this.line=null,this.lineHeight="",this.lineAlign=si,this.displayAlign=ni,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=di,this.fontStyle=pi,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={columns:32,rows:15}}function Wn(e,t){return(e=new Kn(e,t,"")).lineBreak=!0,e}function Xn(e,t){if(e.payload!=t.payload||!(Math.abs(e.startTime-t.startTime)<.001&&Math.abs(e.endTime-t.endTime)<.001))return!1;for(var n in e)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!It(e.nestedCues,t.nestedCues,Xn))return!1}else if("region"==n||"cellResolution"==n){for(var i in e[n])if(e[n][i]!=t[n][i])return!1}else if(Array.isArray(e[n])){if(!It(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function Yn(e,t){t=void 0===t?new Map:t;var n=e.payload;if(n.includes("<")){0===t.size&&Zn(t);var i=n;n=[];for(var r=-1,a=0;a<i.length;a++)"<"===i[a]?r=a+1:">"===i[a]&&r>0&&((r=i.substr(r,a-r)).match(vi)&&n.push(r),r=-1);for(a=(n=g(n)).next();!a.done;a=n.next())a=a.value,i=i.replace("<"+a+">",'<div time="'+a+'">'),i+="</div>";e:{a=i,r=[];var o=-1;n="",i=!1;for(var s=0;s<a.length;s++)if("/"===a[s]){var u=a.indexOf(">",s);if(-1===u){n=a;break e}if((u=a.substring(s+1,u))&&"v"==u){i=!0;var l=null;if(r.length&&(l=r[r.length-1]),l){if(l===u)n+="/"+u+">";else{if(!l.startsWith("v")){n+=a[s];continue}n+="/"+l+">"}s+=u.length+1}else n+=a[s]}else n+=a[s]}else"<"===a[s]?"v"!=a[o=s+1]&&(o=-1):">"===a[s]&&o>0&&(r.push(a.substr(o,s-o)),o=-1),n+=a[s];for(r=(a=g(r)).next();!r.done;r=a.next())o=(r=r.value).replace(" ",".voice-"),n=(n=n.replace("<"+r+">","<"+o+">")).replace("</"+r+">","</"+o+">"),i||(n+="</"+o+">")}n=function(e){var t={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,i=RegExp(n.source);return e&&i.test(e)?e.replace(n,function(e){return t[e]||""}):e||""}(n),e.payload="",i="<span>"+n.replace("\n","<br />")+"</span>";try{var c=gn(i,"span")}catch(e){}if(c)if(1!=(c=c.children).length||c[0].tagName)for(n=(c=g(c)).next();!n.done;n=c.next())Qn(n.value,e,t);else e.payload=Ve(n);else e.payload=Ve(n)}else e.payload=Ve(n)}function Zn(e){for(var t=g(Object.entries(li)),n=t.next();!n.done;n=t.next()){var i=g(n.value);n=i.next().value,i=i.next().value;var r=new Kn(0,0,"");r.color=i,e.set("."+n,r)}for(n=(t=g(Object.entries(ci))).next();!n.done;n=t.next())n=(i=g(n.value)).next().value,i=i.next().value,(r=new Kn(0,0,"")).backgroundColor=i,e.set("."+n,r)}function Qn(e,t,n){var i=t.clone();if(i.nestedCues=[],i.payload="",i.rubyTag="",i.line=null,i.region=new $t,i.position=null,i.size=0,i.textAlign=ei,e.tagName)for(var r=g(e.tagName.split(/(?=[ .])+/g)),a=r.next();!a.done;a=r.next()){var o=a=a.value;if(o.startsWith(".voice-")){var s=o.split("-").pop();o='v[voice="'+s+'"]',n.has(o)||(o="v[voice="+s+"]")}switch(n.has(o)&&(s=i,o=n.get(o))&&(s.backgroundColor=Jn(o.backgroundColor,s.backgroundColor),s.color=Jn(o.color,s.color),s.fontFamily=Jn(o.fontFamily,s.fontFamily),s.fontSize=Jn(o.fontSize,s.fontSize),s.textShadow=Jn(o.textShadow,s.textShadow),s.fontWeight=o.fontWeight,s.fontStyle=o.fontStyle,s.opacity=o.opacity,s.rubyTag=o.rubyTag,s.textCombineUpright=o.textCombineUpright,s.wrapLine=o.wrapLine),a){case"br":return i=Wn(i.startTime,i.endTime),void t.nestedCues.push(i);case"b":i.fontWeight=hi;break;case"i":i.fontStyle=fi;break;case"u":i.textDecoration.push(mi);break;case"font":(a=e.attributes.color)&&(i.color=a);break;case"div":if(!(a=e.attributes.time))break;(a=un(a))&&(i.startTime=a);break;case"ruby":case"rp":case"rt":i.rubyTag=a}}if(r=e.children,vn(e)||1==r.length&&vn(r[0]))for(n=bn(e).split("\n"),e=!0,r=(n=g(n)).next();!r.done;r=n.next())r=r.value,e||(e=Wn(i.startTime,i.endTime),t.nestedCues.push(e)),r.length>0&&((e=i.clone()).payload=Ve(r),t.nestedCues.push(e)),e=!1;else for(t.nestedCues.push(i),e=(t=g(r)).next();!e.done;e=t.next())Qn(e.value,i,n)}function Jn(e,t){return e&&e.length>0?e:t}Kn.prototype.clone=function(){var e,t=new Kn(0,0,"");for(e in this)t[e]=this[e],Array.isArray(t[e])&&(t[e]=t[e].slice());return t},G("shaka.text.Cue",Kn),Kn.parseCuePayload=Yn,Kn.equal=Xn,Kn.prototype.clone=Kn.prototype.clone;var $n="auto";Kn.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:$n};var ei="center",ti={LEFT:"left",RIGHT:"right",CENTER:ei,START:"start",END:"end"};Kn.textAlign=ti;var ni="after",ii={BEFORE:"before",CENTER:"center",AFTER:ni};Kn.displayAlign=ii;var ri="ltr";Kn.direction={HORIZONTAL_LEFT_TO_RIGHT:ri,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var ai="horizontal-tb";Kn.writingMode={HORIZONTAL_TOP_TO_BOTTOM:ai,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var oi=0;Kn.lineInterpretation={LINE_NUMBER:oi,PERCENTAGE:1};var si="start",ui={CENTER:"center",START:si,END:"end"};Kn.lineAlign=ui;var li={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};Kn.defaultTextColor=li;var ci={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};Kn.defaultTextBackgroundColor=ci;var di=400,hi=700;Kn.fontWeight={NORMAL:di,BOLD:hi};var pi="normal",fi="italic",gi={NORMAL:pi,ITALIC:fi,OBLIQUE:"oblique"};Kn.fontStyle=gi;var mi="underline";Kn.textDecoration={UNDERLINE:mi,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var vi=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function yi(){}function Ai(e,t,n){Ti.set(e.toLowerCase().split(";")[0]+"-"+n,{priority:n,Vf:t})}function bi(e,t){for(var n=e.toLowerCase().split(";")[0],i=g([Si,xi,wi,Ci]),r=i.next();!r.done;r=i.next())if(r=Ti.get(n+"-"+r.value)){var a=r.Vf(),o=a.isSupported(e,t);if(a.destroy(),o)return r.Vf}return null}yi.prototype.destroy=function(){},G("shaka.transmuxer.TransmuxerEngine",yi),yi.findTransmuxer=bi,yi.unregisterTransmuxer=function(e,t){Ti.delete(e.toLowerCase().split(";")[0]+"-"+t)},yi.registerTransmuxer=Ai,yi.prototype.destroy=yi.prototype.destroy;var Ti=new Map,Ci=1,wi=2,xi=3,Si=4;function Ei(){}function ki(e,t){var n=e;return t&&!Bi.includes(e)&&(n+='; codecs="'+t+'"'),n}function Ii(e,t){return t&&(e+='; codecs="'+t+'"'),e}function Mi(e,t,n){var i=ki(e,t);return bi(t=Ii(e,t))?(e=bi(t))?(n=(e=e()).convertCodecs(n,t),e.destroy()):n=t:n="video/mp2t"!=e&&"audio"==n?i.replace("video","audio"):i,n}function Li(e){return e.split(";")[0].split("/")[1]}function Ri(e){var t=Ui(e);switch(e=t[0].toLowerCase(),t=t[1].toLowerCase(),!0){case"mp4a"===e&&"69"===t:case"mp4a"===e&&"6b"===t:case"mp4a"===e&&"40.34"===t:return"mp3";case"mp4a"===e&&"66"===t:case"mp4a"===e&&"67"===t:case"mp4a"===e&&"68"===t:case"mp4a"===e&&"40.2"===t:case"mp4a"===e&&"40.02"===t:case"mp4a"===e&&"40.5"===t:case"mp4a"===e&&"40.05"===t:case"mp4a"===e&&"40.29"===t:case"mp4a"===e&&"40.42"===t:return"aac";case"mp4a"===e&&"a5"===t:case"ac3"===e:case"ac-3"===e:return"ac-3";case"mp4a"===e&&"a6"===t:case"eac3"===e:case"ec-3"===e:return"ec-3";case"ac-4"===e:return"ac-4";case"mp4a"===e&&"b2"===t:return"dtsx";case"mp4a"===e&&"a9"===t:return"dtsc";case"vp09"===e:case"vp9"===e:return"vp9";case"avc1"===e:case"avc3"===e:return"avc";case"hvc1"===e:case"hev1"===e:return"hevc";case"vvc1"===e:case"vvi1"===e:return"vvc";case"dvh1"===e:case"dvhe"===e:return t&&t.startsWith("05")?"dovi-p5":"dovi-hevc";case"dvav"===e:case"dva1"===e:return"dovi-avc";case"dav1"===e:return"dovi-av1";case"dvc1"===e:case"dvi1"===e:return"dovi-vvc"}return e}function Pi(e){for(var t=[],n=(e=g(e.split(","))).next();!n.done;n=e.next())n=Ui(n.value),t.push(n[0]);return t.sort().join(",")}function Di(e){return e.split(";")[0]}function Oi(e){return(e=e.split(/ *; */)).shift(),(e=e.find(function(e){return e.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function Ni(e){return"application/x-mpegurl"===e||"application/vnd.apple.mpegurl"===e}function Ui(e){var t=(e=e.split("."))[0];return e.shift(),[t,e.join(".")]}yi.PluginPriority={FALLBACK:Ci,PREFERRED_SECONDARY:wi,PREFERRED:xi,APPLICATION:Si},G("shaka.util.MimeUtils",Ei),Ei.getFullTypeWithAllCodecs=Ii,Ei.getFullType=ki,(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");var Bi=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function _i(e){this.i=null,this.l=e,this.D=!1,this.m=this.A=0,this.u=1/0,this.h=this.g=null,this.F="",this.C=function(){},this.j=new Map}function ji(e,t){zi.set(e,t)}function qi(e){return zi.get(e)}function Fi(e){return!!zi.has(e)||("application/cea-608"==e||"application/cea-708"==e)&&!!Jt}function Vi(e,t,n){e.F=t,(t=e.j.get(t))&&((t=t.filter(function(e){return e.endTime<=n})).length&&e.l.append(t))}function Gi(e,t,n){t.startTime+=n,t.endTime+=n;for(var i=(t=g(t.nestedCues)).next();!i.done;i=t.next())Gi(e,i.value,n)}function Hi(e){for(var t=1/0,n=-1/0,i=g(e.j.values()),r=i.next();!r.done;r=i.next())for(var a=(r=g(r.value)).next();!a.done;a=r.next())a=a.value,t=Math.min(t,a.startTime),n=Math.max(n,a.endTime);t!==1/0&&n!==-1/0&&(e.g=null==e.g?Math.max(t,e.m):Math.min(e.g,Math.max(t,e.m)),e.h=Math.max(e.h,Math.min(n,e.u)))}_i.prototype.destroy=function(){return this.l=this.i=null,this.j.clear(),Promise.resolve()},_i.prototype.remove=function(e,t){var n=this;return D(function(i){return 1==i.g?T(i,Promise.resolve(),2):e>=t?i.return():(function(e,t,n){for(var i=g(e.j.keys()),r=i.next();!r.done;r=i.next()){r=r.value;var a=e.j.get(r);a=a.filter(function(e){return e.startTime<t||e.endTime>=n}),e.j.set(r,a)}}(n,e,t),n.l&&n.l.remove(e,t)&&null!=n.g&&(t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),Hi(n)),void C(i))})},G("shaka.text.TextEngine",_i),_i.prototype.destroy=_i.prototype.destroy,_i.findParser=qi,_i.unregisterParser=function(e){zi.delete(e)},_i.registerParser=ji;var zi=new Map;function Ki(e){this.h=e,this.g=null}function Wi(e){this.h=e,this.g=null}function Xi(e,t){return e.concat(t)}function Yi(){}function Zi(e){return null!=e}function Qi(e,t){return Promise.race([t,new Promise(function(t,n){new Wi(n).Y(e)})])}function Ji(){}function $i(e,t,n,i,r){function a(e){var t=String(e.width||"")+String(e.height||"")+String(Math.round(e.frameRate||0))+(e.hdr||"")+e.fastSwitching;return e.dependencyStream&&(t+=e.dependencyStream.baseOriginalId||""),e.roles&&(t+=e.roles.sort().join("_")),t}function o(e){var t=e.language+(e.channelsCount||0)+(e.audioSamplingRate||0)+e.roles.join(",")+e.label+e.groupId+e.fastSwitching;return e.dependencyStream&&(t+=e.dependencyStream.baseOriginalId||""),t}if(r.length){for(var s=e.textStreams,u=(r=g(r)).next(),l={};!u.done;l={ri:void 0},u=r.next())if(l.ri=u.value,(u=s.filter(function(e){return function(t){return!(!t.codecs.startsWith(e.ri)&&!t.mimeType.startsWith(e.ri))}}(l))).length){s=u;break}e.textStreams=s}if(s=e.variants,(t.length||n.length)&&(s=function(e,t,n){for(var i=(t=g(t)).next(),r={};!i.done;r={videoCodec:void 0},i=t.next())if(r.videoCodec=i.value,i=e.filter(function(e){return function(t){return t.video&&t.video.codecs.startsWith(e.videoCodec)}}(r)),i.length){e=i;break}for(n=g(n),t=n.next(),i={};!t.done;i={audioCodec:void 0},t=n.next())if(i.audioCodec=t.value,t=e.filter(function(e){return function(t){return t.audio&&t.audio.codecs.startsWith(e.audioCodec)}}(i)),t.length){e=t;break}return e}(s,t,n)),i.length){for(t=new $,s=(n=g(s)).next();!s.done;s=n.next())s=s.value,t.push(String(s.video.width||0),s);var c=[];t.forEach(function(e,t){e=0;for(var n=[],r=(t=g(t)).next(),a={};!r.done;a={xg:void 0},r=t.next())a.xg=r.value,(r=i.filter(function(e){return function(t){return e.xg.decodingInfos[0][t]}}(a)).length)>e?(e=r,n=[a.xg]):r==e&&n.push(a.xg);c.push.apply(c,m(n))}),s=c}for(n=new Set,t=new Set,r=(s=g(s)).next();!r.done;r=s.next())(r=r.value).audio&&n.add(r.audio),r.video&&t.add(r.video);s=Array.from(n).sort(function(e,t){return e.bandwidth-t.bandwidth});var d=[];for(n=new Map,r=(s=g(s)).next();!r.done;r=s.next()){if(u=o(r=r.value),(l=n.get(u)||[]).length){var h=l[l.length-1],p=Ri(h.codecs),f=Ri(r.codecs);p!=f||r.bandwidth&&h.bandwidth&&!(r.bandwidth>h.bandwidth)||(l.push(r),d.push(r.id))}else l.push(r),d.push(r.id);n.set(u,l)}var v={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,"dovi-p5":.75,av01:.7,"dovi-av1":.65,vvc:.6};s=Array.from(t).sort(function(e,t){if(!e.bandwidth||!t.bandwidth||e.bandwidth==t.bandwidth){if(e.codecs&&t.codecs&&e.codecs!=t.codecs&&e.width==t.width){var n=Ri(e.codecs),i=Ri(t.codecs);if(n!=i)return(v[n]||1)-(v[i]||1)}return e.width-t.width}return e.bandwidth-t.bandwidth}),t=Vt();var y=[];for(n=new Map,r=(s=g(s)).next();!r.done;r=s.next()){if(u=a(r=r.value),(l=n.get(u)||[]).length){if(h=l[l.length-1],!t&&(p=Ri(h.codecs))!==(f=Ri(r.codecs)))continue;(p=Ri(h.codecs))!=(f=Ri(r.codecs))||r.bandwidth&&h.bandwidth&&!(r.bandwidth>h.bandwidth)||(l.push(r),y.push(r.id))}else l.push(r),y.push(r.id);n.set(u,l)}e.variants=e.variants.filter(function(e){var t=e.audio;return e=e.video,!(t&&!d.includes(t.id)||e&&!y.includes(e.id))})}function er(e,t,n){function i(e,t,n){return e>=t&&e<=n}var r=e.video;if(r&&r.width&&r.height){var a=r.width,o=r.height;if(o>a&&(a=(o=g([o,a])).next().value,o=o.next().value),!i(a,t.minWidth,Math.min(t.maxWidth,n.width))||!i(o,t.minHeight,Math.min(t.maxHeight,n.height))||!i(r.width*r.height,t.minPixels,t.maxPixels))return!1}return!(e&&e.video&&e.video.frameRate&&!i(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||e&&e.audio&&e.audio.channelsCount&&!i(e.audio.channelsCount,t.minChannelsCount,t.maxChannelsCount)||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function tr(e,t,n,i){return n=void 0===n?[]:n,i=void 0===i?{}:i,D(function(r){return 1==r.g?T(r,nr(e,t,t.offlineSessionIds.length>0,n,i),2):(function(e){e.textStreams=e.textStreams.filter(function(e){return Fi(e=ki(e.mimeType,e.codecs))})}(t),T(r,function(e){var t,n,i,r,a,o,s;return D(function(u){switch(u.g){case 1:t=[],n=g(e.imageStreams),i=n.next();case 2:if(i.done){u.B(4);break}if(r=i.value,"application/mp4"==(a=r.mimeType)&&"mjpg"==r.codecs&&(a="image/jpg"),Er.has(a)){u.B(5);break}if(!(o=kr.get(a))){Er.set(a,!1),u.B(5);break}return T(u,function(e){return new Promise(function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then(function(){t(!0)}).catch(function(){t(!1)}):n.onload=n.onerror=function(){t(2===n.height)}})}(o),7);case 7:s=u.h,Er.set(a,s);case 5:Er.get(a)&&t.push(r),i=n.next(),u.B(2);break;case 4:e.imageStreams=t,C(u)}})}(t),0))})}function nr(e,t,n,i,r){var a,o;return D(function(s){if(1==s.g)return Re().Qj()&&function(e){for(var t=(new Map).set("dvav","avc3").set("dva1","avc1").set("dvhe","hev1").set("dvh1","hvc1").set("dvc1","vvc1").set("dvi1","vvi1"),n=new Set,i=(e=g(e)).next();!i.done;i=e.next())(i=i.value).video&&n.add(i.video);for(n=g(n),e=n.next();!e.done;e=n.next()){e=e.value;for(var r=(i=g(t)).next();!r.done;r=i.next()){var a=g(r.value);if(r=a.next().value,a=a.next().value,e.codecs.includes(r)){e.codecs=e.codecs.replace(r,a);break}}}}(t.variants),T(s,ar(t.variants,n,!1,i),2);a=null,e&&(o=e.g)&&(a=o.keySystem),t.variants=t.variants.filter(function(e){var t=function(e,t,n){if(!e.decodingInfos.some(function(e){return!(!e.supported||t&&(e=e.keySystemAccess)&&(n[e.keySystem]||e.keySystem)!=t)}))return!1;var i=Re(),r="Xbox"===i.Ub();i="MOBILE"===i.Oa()&&"GECKO"===i.Ja();var a=e.video,o=a&&a.width||0,s=a&&a.height||0;return!(r&&a&&(o>1920||s>1080)&&(a.codecs.includes("avc1.")||a.codecs.includes("avc3."))||(r=a&&a.dependencyStream)&&!qt(r))&&(e=e.audio,!(i&&e&&e.encrypted&&e.codecs.toLowerCase().includes("opus")||e&&e.dependencyStream))}(e,a,r);if(!t){var n=[];e.audio&&n.push(Tr(e.audio)),e.video&&n.push(Tr(e.video))}return t}),C(s)})}function ir(e,t){var n,i,r,a,o,s,u;return D(function(l){if(1==l.g){for(n=function(e,t){if(e){var n=hn(e);return n.supported=e.supported&&t.supported,n.powerEfficient=e.powerEfficient&&t.powerEfficient,n.smooth=e.smooth&&t.smooth,t.keySystemAccess&&!n.keySystemAccess&&(n.keySystemAccess=t.keySystemAccess),n}return t},i=null,r=[],a=g(t),o=a.next(),s={};!o.done;s={cache:void 0,kf:void 0},o=a.next())u=o.value,s.kf=pn(u),s.cache=xr,s.cache.has(s.kf)?i=n(i,s.cache.get(s.kf)):r.push(rr(u).then(function(e){return function(t){for(var r=null,a=(t=g(t||[])).next();!a.done;a=t.next())r=n(r,a.value);r&&(e.cache.set(e.kf,r),i=n(i,r))}}(s)));return T(l,Promise.all(r),2)}i&&e.decodingInfos.push(i),C(l)})}function rr(e){var t=[""];e.video&&(t=Oi(e.video.contentType).split(","));var n=[""];e.audio&&(n=Oi(e.audio.contentType).split(","));for(var i=[],r=(t=g(t)).next();!r.done;r=t.next()){r=r.value;for(var a=g(n),o=a.next(),s={};!o.done;s={ed:void 0},o=a.next())o=o.value,s.ed=dn(e),e.video&&(s.ed.video.contentType=ki(Di(s.ed.video.contentType),r)),e.audio&&(s.ed.audio.contentType=ki(Di(s.ed.audio.contentType),o)),i.push(new Promise(function(e){return function(t,n){("MOBILE"==Re().Oa()?Qi(5,navigator.mediaCapabilities.decodingInfo(e.ed)):navigator.mediaCapabilities.decodingInfo(e.ed)).then(function(e){t(e)}).catch(n)}}(s)))}return Promise.all(i).catch(function(){return JSON.stringify(e),null})}function ar(e,t,n,i){var r,a,o,s,u,l,c,d,h,p,f,m,v,y,A,b,C,w;return D(function(x){switch(x.g){case 1:if(e.some(function(e){return e.decodingInfos.length}))return x.return();r=g(i),a=r.next(),o={};case 2:if(a.done){x.B(4);break}o.vj=a.value,s=!1,u=g(e),l=u.next();case 5:if(l.done){x.B(7);break}c=l.value,d=or(c,t,n).filter((S=o,function(e){return((e=e[0]).keySystemConfiguration&&e.keySystemConfiguration.keySystem)===S.vj})),h=g(d),p=h.next();case 8:if(p.done){x.B(10);break}return f=p.value,T(x,ir(c,f),9);case 9:p=h.next(),x.B(8);break;case 10:c.decodingInfos.some(function(e){return e.supported})&&(s=!0),l=u.next(),x.B(5);break;case 7:if(s)return x.return();o={vj:void 0},a=r.next(),x.B(2);break;case 4:m=g(e),v=m.next();case 12:if(v.done){x.B(0);break}y=v.value,A=or(y,t,n).filter(function(e){return!(e=(e=e[0]).keySystemConfiguration&&e.keySystemConfiguration.keySystem)||!i.includes(e)}),b=g(A),C=b.next();case 15:if(C.done){v=m.next(),x.B(12);break}return w=C.value,T(x,ir(y,w),16);case 16:C=b.next(),x.B(15)}var S})}function or(e,t,n){var i=e.audio,r=e.video,a=[],o=[];if(r)for(var s=g(r.fullMimeTypes),u=s.next();!u.done;u=s.next()){var l=Oi(u=u.value);if(l.includes(",")&&!i){var c=l.split(","),d=Di(u);l=et("video",c),d=Mi(d,c=sr(c=et("audio",c),d),"audio"),o.push({contentType:d,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1})}if(l=ur(l),u={contentType:Mi(Di(u),l,"video"),width:r.width||64,height:r.height||64,bitrate:r.bandwidth||e.bandwidth||1,framerate:r.frameRate||30},r.hdr)switch(r.hdr){case"PQ":u.transferFunction="pq";break;case"HLG":u.transferFunction="hlg"}r.colorGamut&&(u.colorGamut=r.colorGamut),a.push(u)}if(i)for(u=(s=g(i.fullMimeTypes)).next();!u.done;u=s.next())u=Mi(u=Di(l=u.value),l=sr(Oi(l),u),"audio"),o.push({contentType:u,channels:i.channelsCount||2,bitrate:i.bandwidth||e.bandwidth||1,samplerate:i.audioSamplingRate||1,spatialRendering:i.spatialAudio});for(s=[],0==a.length&&a.push(null),0==o.length&&o.push(null),u=(a=g(a)).next();!u.done;u=a.next())for(u=u.value,d=(l=g(o)).next();!d.done;d=l.next())d=d.value,c={type:n?"file":"media-source"},u&&(c.video=u),d&&(c.audio=d),s.push(c);if(!(o=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])).length)return[s];for(e=[],n=new Map,a=(o=g(o)).next();!a.done;a=o.next())a=a.value,n.get(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);for(o=t?"required":"optional",t=t?["persistent-license"]:["temporary"],u=(a=g(n.keys())).next();!u.done;u=a.next()){for(u=u.value,d=n.get(u),l=new Map,c=(d=g(d)).next();!c.done;c=d.next()){var h=(c=c.value).videoRobustness+","+c.audioRobustness;l.get(h)||l.set(h,[]),l.get(h).push(c)}for(d=(l=g(l.values())).next();!d.done;d=l.next()){d=d.value,c=[];for(var p=(h=g(s)).next();!p.done;p=h.next()){p=Object.assign({},p.value);for(var f={keySystem:u,initDataType:"cenc",persistentState:o,distinctiveIdentifier:"optional",sessionTypes:t},m=g(d),v=m.next();!v.done;v=m.next()){if((v=v.value).initData&&v.initData.length){for(var y=new Set,A=g(v.initData),b=A.next();!b.done;b=A.next())y.add(b.value.initDataType);f.initDataType=v.initData[0].initDataType}v.distinctiveIdentifierRequired&&(f.distinctiveIdentifier="required"),v.persistentStateRequired&&(f.persistentState="required"),v.sessionType&&(f.sessionTypes=[v.sessionType]),i&&(f.audio?(v.encryptionScheme&&(f.audio.encryptionScheme=f.audio.encryptionScheme||v.encryptionScheme),f.audio.robustness=f.audio.robustness||v.audioRobustness):(f.audio={robustness:v.audioRobustness},v.encryptionScheme&&(f.audio.encryptionScheme=v.encryptionScheme)),""==f.audio.robustness&&delete f.audio.robustness),r&&(f.video?(v.encryptionScheme&&(f.video.encryptionScheme=f.video.encryptionScheme||v.encryptionScheme),f.video.robustness=f.video.robustness||v.videoRobustness):(f.video={robustness:v.videoRobustness},v.encryptionScheme&&(f.video.encryptionScheme=v.encryptionScheme)),""==f.video.robustness&&delete f.video.robustness)}p.keySystemConfiguration=f,c.push(p)}e.push(c)}}return e}function sr(e,t){var n=Re();return"flac"==e.toLowerCase()?"WEBKIT"!=n.Ja()?"flac":"fLaC":"opus"===e.toLowerCase()?"WEBKIT"!=n.Ja()?"opus":"mp4"==Li(t)?"Opus":"opus":"ac-3"==e.toLowerCase()&&n.He()?"ec-3":e}function ur(e){if(e.includes("avc1")){var t=e.split(".");if(3==t.length)return e=t.shift()+".",(e+=parseInt(t.shift(),10).toString(16))+("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if("vp9"==e)return"vp09.00.41.08";return e}function lr(e){var t=e.audio,n=e.video,i=t?t.mimeType:null,r=n?n.mimeType:null,a=t?t.codecs:null,o=n?n.codecs:null,s=t?t.groupId:null,u=[];n&&u.push(n.mimeType),t&&u.push(t.mimeType),u=u[0]||null;var l=[];t&&l.push(t.kind),n&&l.push(n.kind),l=l[0]||null;var c=new Set;if(t)for(var d=g(t.roles),h=d.next();!h.done;h=d.next())c.add(h.value);if(n)for(h=(d=g(n.roles)).next();!h.done;h=d.next())c.add(h.value);if(e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,videoLabel:null,kind:l,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:u,audioMimeType:i,videoMimeType:r,codecs:"",audioCodec:a,videoCodec:o,primary:e.primary,roles:Array.from(c),audioRoles:null,videoRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:s,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null,e.hdr=n.hdr||null,e.colorGamut=n.colorGamut||null,e.videoLayout=n.videoLayout||null,e.videoRoles=n.roles,e.videoLabel=n.label,(i=n.dependencyStream)&&(e.width=i.width||e.width,e.height=i.height||e.height,e.videoCodec=i.codecs||e.videoCodec,e.videoBandwidth&&i.bandwidth&&(e.videoBandwidth+=i.bandwidth)),o.includes(","))){e.channelsCount=n.channelsCount,e.audioSamplingRate=n.audioSamplingRate,e.spatialAudio=n.spatialAudio,e.originalLanguage=n.originalLanguage,e.audioMimeType=r,r=o.split(",");try{e.videoCodec=et("video",r),e.audioCodec=et("audio",r)}catch(e){}}return t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles,e.accessibilityPurpose=t.accessibilityPurpose,e.originalLanguage=t.originalLanguage,r=t.dependencyStream)&&(e.audioCodec=r.codecs||e.audioCodec,e.audioBandwidth&&r.bandwidth&&(e.audioBandwidth+=r.bandwidth)),n&&!e.videoBandwidth&&(t?e.audioBandwidth&&(e.videoBandwidth=e.bandwidth-e.audioBandwidth):e.videoBandwidth=e.bandwidth),t&&!e.audioBandwidth&&(n?e.videoBandwidth&&(e.audioBandwidth=e.bandwidth-e.videoBandwidth):e.audioBandwidth=e.bandwidth),t=[],e.videoCodec&&t.push(e.videoCodec),e.audioCodec&&t.push(e.audioCodec),e.codecs=t.join(", "),e}function cr(e){return{id:e.id,active:!1,type:it,bandwidth:e.bandwidth||0,language:e.language,label:e.label,kind:e.kind||null,mimeType:e.mimeType,codecs:e.codecs||null,primary:e.primary,roles:e.roles,accessibilityPurpose:e.accessibilityPurpose,forced:e.forced,originalTextId:e.originalId,originalLanguage:e.originalLanguage}}function dr(e){var t=e.width||null,n=e.height||null,i=null;e.segmentIndex&&(i=zu(e.segmentIndex));var r=e.tilesLayout;return i&&(r=i.tilesLayout||r),r&&null!=t&&(t/=Number(r.split("x")[0])),r&&null!=n&&(n/=Number(r.split("x")[1])),{id:e.id,type:"image",bandwidth:e.bandwidth||0,width:t,height:n,mimeType:e.mimeType,codecs:e.codecs||null,tilesLayout:r||null,originalImageId:e.originalId}}function hr(e){return e.__shaka_id||(e.__shaka_id=Sr++),e.__shaka_id}function pr(e){var t={id:hr(e),active:"disabled"!=e.mode,type:it,bandwidth:0,language:dt(e.language||"und"),label:e.label,kind:e.kind,mimeType:null,codecs:null,primary:!1,roles:[],accessibilityPurpose:null,forced:"forced"==e.kind,originalTextId:e.id,originalLanguage:e.language};return"captions"==e.kind&&(t.mimeType="unknown"),"subtitles"==e.kind&&(t.mimeType="text/vtt"),e.kind&&(t.roles=[e.kind]),t}function fr(e,t){var n=e?e.language:null;if(n={id:hr(e||t),active:e?e.enabled:t.selected,type:"variant",bandwidth:0,language:dt(n||"und"),label:e?e.label:null,videoLabel:null,kind:e?e.kind:null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!!e&&"main"==e.kind,roles:[],forced:!1,audioRoles:null,videoRoles:null,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:t?t.id:null,originalAudioId:e?e.id:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:n},e&&e.kind&&(n.roles=[e.kind],n.audioRoles=[e.kind]),e&&e.configuration&&(e.configuration.codec&&(n.audioCodec=e.configuration.codec,n.codecs=n.audioCodec),e.configuration.bitrate&&(n.audioBandwidth=e.configuration.bitrate,n.bandwidth+=n.audioBandwidth),e.configuration.sampleRate&&(n.audioSamplingRate=e.configuration.sampleRate),e.configuration.numberOfChannels&&(n.channelsCount=e.configuration.numberOfChannels)),t&&t.configuration&&(t.configuration.codec&&(n.videoCodec=t.configuration.codec,n.codecs=n.codecs?n.codecs+","+n.videoCodec:n.videoCodec),t.configuration.bitrate&&(n.videoBandwidth=t.configuration.bitrate,n.bandwidth+=n.videoBandwidth),t.configuration.framerate&&(n.frameRate=t.configuration.framerate),t.configuration.width&&(n.width=t.configuration.width),t.configuration.height&&(n.height=t.configuration.height),t.configuration.colorSpace&&t.configuration.colorSpace.transfer))switch(t.configuration.colorSpace.transfer){case"pq":n.hdr="PQ";break;case"hlg":n.hdr="HLG";break;case"bt709":n.hdr="SDR"}return n}function gr(e){return e.allowedByApplication&&e.allowedByKeySystem&&0==e.disabledUntilTime}function mr(e){return e.filter(function(e){return gr(e)})}function vr(e,t,n,i){var r=e,a=e.filter(function(e){return e.primary});a.length&&(r=a);var o=r.length?r[0].language:"";if(r=r.filter(function(e){return e.language==o}),t){var s=mt(dt(t),e.map(function(e){return e.language}));s&&(r=e.filter(function(e){return dt(e.language)==s}))}if(r=r.filter(function(e){return e.forced==i}),n){if((e=yr(r,n)).length)return e}else if(e=r.filter(function(e){return 0==e.roles.length}),e.length)return e;return e=r.map(function(e){return e.roles}).reduce(Xi,[]),e.length?yr(r,e[0]):r}function yr(e,t){return e.filter(function(e){return e.roles.includes(t)})}function Ar(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t}function br(e,t){t.length&&(t=t.filter(function(t){return Ri(e.codecs)==Ri(t.codecs)}).sort(function(e,t){return e.bandwidth&&t.bandwidth&&e.bandwidth!=t.bandwidth?e.bandwidth-t.bandwidth:(e.width||0)-(t.width||0)}),e.trickModeVideo=t[0],t.length>1&&(t=t.find(function(t){return e.width==t.width&&e.height==t.height})))&&(e.trickModeVideo=t)}function Tr(e){return"audio"==e.type?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:"video"==e.type?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}function Cr(e,t,n){if(0==n.autoShowText)return!1;if(1==n.autoShowText)return!0;var i=dt(n.preferredTextLanguage);return t=dt(t.language),2==n.autoShowText?ut(t,i):3==n.autoShowText?!!e&&(e=dt(e.language),ut(t,i)&&!ut(e,t)):(Y("Invalid autoShowText setting!"),!1)}function wr(e){for(var t={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},n=(e=g(e)).next();!n.done;n=e.next()){var i={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:(n=n.value)?Di(n):"",codecs:n?Oi(n):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"video",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};i.fullMimeTypes.add(ki(i.mimeType,i.codecs)),n.startsWith("audio/")?(i.type="audio",t.audio=i):t.video=i}return t}Ki.prototype.Y=function(t){var n=this;this.stop();var i=!0,r=null;return this.g=function(){e.clearTimeout(r),i=!1},r=e.setTimeout(function(){i&&n.h()},1e3*t),this},Ki.prototype.stop=function(){this.g&&(this.g(),this.g=null)},Wi.prototype.Ka=function(){return this.stop(),this.h(),this},Wi.prototype.Y=function(e){var t=this;return this.stop(),this.g=new Ki(function(){t.h()}).Y(e),this},Wi.prototype.xa=function(e){var t=this;return this.stop(),this.g=new Ki(function(){t.g.Y(e),t.h()}).Y(e),this},Wi.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},G("shaka.util.Timer",Wi),Wi.prototype.stop=Wi.prototype.stop,Wi.prototype.tickEvery=Wi.prototype.xa,Wi.prototype.tickAfter=Wi.prototype.Y,Wi.prototype.tickNow=Wi.prototype.Ka,G("shaka.util.StreamUtils",Ji),Ji.meetsRestrictions=er;var xr=new Map,Sr=0,Er=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),kr=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function Ir(){var t=this;this.H=null,this.m=!1,this.C=new xt,this.j=new Mt,navigator.connection&&navigator.connection.addEventListener&&this.j.o(navigator.connection,"change",function(){if(t.m&&t.g.useNetworkInformation){t.C=new xt,t.g&&t.C.configure(t.g.advanced);var e=t.chooseVariant();e&&navigator.onLine&&t.H(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}}),this.A=[],this.I=1,this.J=!1,this.h=this.u=this.g=this.D=null,this.l=new Wi(function(){if(t.m&&(t.g.restrictToElementSize||t.g.restrictToScreenSize)){var e=t.chooseVariant();e&&t.H(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}}),this.F=e,"documentPictureInPicture"in e&&this.j.o(e.documentPictureInPicture,"enter",function(){t.F=e.documentPictureInPicture.window,t.l&&t.l.Ka(),t.j.ua(t.F,"pagehide",function(){t.F=e,t.l&&t.l.Ka()})}),this.G=this.i=null}function Mr(e,t){if(void 0===t||!t){if(!e.J){if(!((t=e.C).g>=t.i))return;e.J=!0,e.D-=1e3*(e.g.switchInterval-e.g.minTimeToSwitch)}if(Date.now()-e.D<1e3*e.g.switchInterval)return}t=e.chooseVariant(),e.getBandwidthEstimate(),t&&e.H(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}function Lr(e,t,n,i,r){if(e.G){var a=e.G.Xi();a&&(n=n.filter(function(e){return!e.bandwidth||!a||e.bandwidth<=a}))}return t&&(n=n.filter(function(e){return er(e,t,{width:r,height:i})})),n.sort(function(e,t){return e.bandwidth-t.bandwidth})}(r=Ir.prototype).stop=function(){this.H=null,this.m=!1,this.A=[],this.I=1,this.u=this.D=null,this.h&&(this.h.disconnect(),this.h=null),this.l&&this.l.stop(),this.G=this.i=null},r.release=function(){this.stop(),this.j.release(),this.l=null},r.init=function(e){this.H=e},r.chooseVariant=function(e){e=void 0!==e&&e;var t=1/0,n=1/0;if(this.g.restrictToScreenSize&&(n=this.g.ignoreDevicePixelRatio?1:this.F.devicePixelRatio,t=this.F.screen.height*n,n*=this.F.screen.width),this.h&&this.g.restrictToElementSize){var i=this.g.ignoreDevicePixelRatio?1:this.F.devicePixelRatio,r=this.u.clientHeight,a=this.u.clientWidth;this.i&&document.pictureInPictureElement&&document.pictureInPictureElement==this.u&&(r=this.i.height,a=this.i.width),t=Math.min(t,r*i),n=Math.min(n,a*i)}if((r=this.A.filter(function(e){return e&&!(e.audio&&e.audio.fastSwitching||e.video&&e.video.fastSwitching)})).length||(r=this.A),i=r,e&&r.length!=this.A.length&&(i=this.A.filter(function(e){return e&&!!(e.audio&&e.audio.fastSwitching||e.video&&e.video.fastSwitching)})),e=Lr(this,this.g.restrictions,i,1/0,1/0),t!=1/0||n!=1/0){for(e=function(e){for(var t=[],n=(e=g(e)).next();!n.done;n=e.next())(n=n.value.video)&&n.height&&n.width&&t.push({height:n.height,width:n.width});return t.sort(function(e,t){return e.width-t.width})}(e),r=(e=g(e)).next();!r.done;r=e.next())if((r=r.value).height>=t&&r.width>=n){t=r.height,n=r.width;break}e=Lr(this,this.g.restrictions,i,t,n)}for(t=this.getBandwidthEstimate(),i.length&&!e.length&&(e=[(e=Lr(this,null,i,1/0,1/0))[0]]),n=e[0]||null,i=0;i<e.length;i++){r=e[i];var o=isNaN(this.I)?1:Math.abs(this.I);a=o*r.bandwidth/this.g.bandwidthDowngradeTarget;for(var s={bandwidth:1/0},u=i+1;u<e.length;u++)if(r.bandwidth!=e[u].bandwidth){s=e[u];break}o=o*s.bandwidth/this.g.bandwidthUpgradeTarget,t>=a&&t<=o&&(n.bandwidth!=r.bandwidth||n.bandwidth==r.bandwidth&&n.video&&r.video&&(n.video.width<r.video.width||n.video.height<r.video.height))&&(n=r)}return this.D=Date.now(),n},r.enable=function(){this.m=!0},r.disable=function(){this.m=!1},r.segmentDownloaded=function(e,t,n,i){var r=e;this.g.removeLatencyFromFirstPacketTime&&i&&1===i.packetNumber&&i.timeToFirstByte&&(r=e-i.timeToFirstByte),r>=this.g.cacheLoadThreshold&&this.C.sample(r,t),n&&null!=this.D&&this.m&&Mr(this)},r.trySuggestStreams=function(){this.m&&(this.D=Date.now(),Mr(this,!0))},r.getBandwidthEstimate=function(){var e=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(e=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?e:(e=this.C.getBandwidthEstimate(e),this.G?this.G.getBandwidthEstimate(e):e)},r.setVariants=function(e){return!kt(e,this.A)&&(this.A=e,!0)},r.playbackRateChanged=function(e){this.I=e},r.setMediaElement=function(t){function n(){i.l.Y(Rr)}var i=this;this.u=t,this.h&&(this.h.disconnect(),this.h=null),this.u&&"ResizeObserver"in e&&(this.h=new ResizeObserver(n),this.h.observe(this.u)),this.j.o(t,"enterpictureinpicture",function(e){e.pictureInPictureWindow&&(i.i=e.pictureInPictureWindow,i.j.o(i.i,"resize",n))}),this.j.o(t,"leavepictureinpicture",function(){i.i&&i.j.Fa(i.i,"resize",n),i.i=null})},r.setCmsdManager=function(e){this.G=e},r.configure=function(e){this.g=e,this.C&&this.g&&this.C.configure(this.g.advanced)},G("shaka.abr.SimpleAbrManager",Ir),Ir.prototype.configure=Ir.prototype.configure,Ir.prototype.setCmsdManager=Ir.prototype.setCmsdManager,Ir.prototype.setMediaElement=Ir.prototype.setMediaElement,Ir.prototype.playbackRateChanged=Ir.prototype.playbackRateChanged,Ir.prototype.setVariants=Ir.prototype.setVariants,Ir.prototype.getBandwidthEstimate=Ir.prototype.getBandwidthEstimate,Ir.prototype.trySuggestStreams=Ir.prototype.trySuggestStreams,Ir.prototype.segmentDownloaded=Ir.prototype.segmentDownloaded,Ir.prototype.disable=Ir.prototype.disable,Ir.prototype.enable=Ir.prototype.enable,Ir.prototype.chooseVariant=Ir.prototype.chooseVariant,Ir.prototype.init=Ir.prototype.init,Ir.prototype.release=Ir.prototype.release,Ir.prototype.stop=Ir.prototype.stop;var Rr=1;function Pr(e,t){if(e===t||!e.length||!t.length)return!0;for(var n=(e=g(e)).next();!n.done;n=e.next()){if(Ur(n=n.value))return!0;for(var i=g(t),r=i.next();!r.done;r=i.next())if(r=r.value,n.keySystem===r.keySystem||Ur(r))return!0}return!1}function Dr(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],i=(e=g(e)).next();!i.done;i=e.next()){i=i.value;for(var r=g(t),a=r.next();!a.done;a=r.next()){if(a=a.value,i.keySystem==a.keySystem){r=new Map;for(var o=g((i.initData||[]).concat(a.initData||[])),s=o.next();!s.done;s=o.next())s=s.value,r.set(s.keyId,s);r=Array.from(r.values()),o=i.keyIds&&a.keyIds?new Set([].concat(m(i.keyIds),m(a.keyIds))):i.keyIds||a.keyIds,n.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||a.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||a.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||a.persistentStateRequired,videoRobustness:i.videoRobustness||a.videoRobustness,audioRobustness:i.audioRobustness||a.audioRobustness,serverCertificate:i.serverCertificate||a.serverCertificate,serverCertificateUri:i.serverCertificateUri||a.serverCertificateUri,initData:r,keyIds:o});break}Ur(i)?n.push(i):Ur(a)&&n.push(a)}}return n}function Or(e){return!!e&&!!e.match(/^com\.(microsoft|chromecast)\.playready/)}function Nr(e){return!!e&&!!e.match(/^com\.apple\.fps/)}function Ur(e){return!!(e=e.licenseServerUri)&&e.startsWith("data:application/json;base64,")}var Br=new Le(function(){return we(new Uint8Array([0]))}),_r=new Map;function jr(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.j=null==e.baseDelay?n.baseDelay:e.baseDelay,this.u=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.m=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==t&&t)&&(this.g=1)}function qr(e){var t,n;return D(function(i){if(1==i.g){if(e.g>=e.l){if(!e.i)throw new Ie(2,7,1010);e.g=1,e.h=e.j}return t=e.g,e.g++,0==t?i.return():(n=e.h*(1+(2*Math.random()-1)*e.u),T(i,new Promise(function(e){new Wi(e).Y(n/1e3)}),2))}e.h*=e.m,C(i)})}function Fr(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function Vr(){var e,t,n=new Promise(function(n,i){e=n,t=i});return n.resolve=e,n.reject=t,n}function Gr(e,t){this.promise=e,this.i=t,this.g=null}function Hr(e){return new Gr(Promise.reject(e),function(){return Promise.resolve()})}function zr(){var e=Promise.reject(new Ie(2,7,7001));return e.catch(function(){}),new Gr(e,function(){return Promise.resolve()})}function Kr(e){return new Gr(Promise.resolve(e),function(){return Promise.resolve()})}function Wr(e){return new Gr(e,function(){return e.catch(function(){})})}function Xr(e){return new Gr(Promise.all(e.map(function(e){return e.promise})),function(){return Promise.all(e.map(function(e){return e.abort()}))})}function Yr(){this.g=[]}function Zr(e,t){e.g.push(t.finally(function(){Et(e.g,t)}))}function Qr(e,t,n,i,r,a,o){ee.call(this),this.i=null,this.j=!1,this.A=new Yr,this.g=new Set,this.h=new Set,this.u=e||null,this.m=t||null,this.C=n||null,this.D=i||null,this.F=r||null,this.H=a||null,this.G=o||null,this.l=new Map}function Jr(e,t,n,i){i=void 0!==i&&i,n=n||oa;var r=sa.get(e);(!r||n>=r.priority)&&sa.set(e,{priority:n,Vf:t,Xl:i})}function $r(e,t){for(var n=g(e.g),i=n.next();!i.done;i=n.next())t.g.add(i.value);for(n=(e=g(e.h)).next();!n.done;n=e.next())t.h.add(n.value)}function ea(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function ta(e,t,n,i,r,a,o,s){e.i.forceHTTP&&(n.uris[a]=n.uris[a].replace("https://","http://")),e.i.forceHTTPS&&(n.uris[a]=n.uris[a].replace("http://","https://")),a>0&&e.H&&e.H(t,i,n.uris[a],n.uris[a-1]);var u=new ae(n.uris[a]),l=u.lc,c=!1;l||(oe(u,l=(l=location.protocol).slice(0,-1)),n.uris[a]=u.toString()),l=l.toLowerCase();var d=(l=sa.get(l))?l.Vf:null;if(!d)return Hr(new Ie(2,1,1e3,u));var h=l.Xl;(u=e.l.get(u.Ib))&&(n.headers["common-access-token"]=u);var p,f=null,g=null,m=!1,v=!1;return Wr(qr(r)).bb(function(){if(e.j)return zr();p=Date.now();var r=0;n.requestStartTime=Date.now();var o=d(n.uris[a],n,t,function(a,o,u){f&&f.stop(),g&&g.Y(l/1e3),e.u&&t==aa&&(r++,n.packetNumber=r,e.u(a,o,na(i),n,i),c=!0,s.g=u)},function(i){v=!0,n.timeToFirstByte=Date.now()-n.requestStartTime,e.m&&e.m(i,n,t)},{minBytesForProgressEvents:e.i.minBytesForProgressEvents});if(!h)return o;var u=n.retryParameters.connectionTimeout;u&&(f=new Wi(function(){m=!0,o.abort()})).Y(u/1e3);var l=n.retryParameters.stallTimeout;return l&&(g=new Wi(function(){m=!0,o.abort()})),o}).bb(function(i){f&&f.stop(),g&&g.stop(),null==i.timeMs&&(i.timeMs=Date.now()-p);var r=i.headers["common-access-token"];if(r){var a=new ae(i.uri);e.l.set(a.Ib,r)}return r={response:i,Al:c},!v&&e.m&&e.m(i.headers,n,t),e.C&&e.C(n,i),r},function(u){if(f&&f.stop(),g&&g.stop(),e.D){var l=null,c=0;u instanceof Ie&&(l=u,1001==u.code&&(c=u.data[1])),e.D(n,l,c,m)}if(e.j)return zr();if(m&&(u=new Ie(1,1,1003,n.uris[a],t)),u instanceof Ie){if(7001==u.code)throw u;if(1010==u.code)throw o;if(1==u.severity){if((l=new H("retry",l=(new Map).set("error",u))).cancelable=!0,e.dispatchEvent(l),l.defaultPrevented)throw u;return a=(a+1)%n.uris.length,ta(e,t,n,i,r,a,u,s)}}throw u})}function na(e){if(e){var t=e.segment;if(e=e.stream,t&&e&&e.fastSwitching&&t.nd)return!1}return!0}function ia(){this.g=0}function ra(e,t,n){Gr.call(this,e,t),this.h=n}Vr.prototype.resolve=function(){},Vr.prototype.reject=function(){},Gr.prototype.abort=function(){return this.g||(this.g=this.i()),this.g},Gr.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},Gr.prototype.bb=function(e,t){function n(n){return function(s){if(r.g&&n)a.reject(o);else{var u=n?e:t;u?i=function(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then(function(){},function(){})})}catch(e){return n.reject(e),function(){return Promise.resolve()}}}(u,s,a):(n?a.resolve:a.reject)(s)}}}function i(){return a.reject(o),r.abort()}var r=this,a=new Vr;a.catch(function(){});var o=new Ie(2,7,7001);return this.promise.then(n(!0),n(!1)),new Gr(a,function(){return i()})},u.Object.defineProperties(Gr.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return null!==this.g}}}),G("shaka.util.AbortableOperation",Gr),Gr.prototype.chain=Gr.prototype.bb,Gr.prototype.finally=Gr.prototype.finally,Gr.all=Xr,Gr.prototype.abort=Gr.prototype.abort,Gr.notAbortable=Wr,Gr.completed=Kr,Gr.aborted=zr,Gr.failed=Hr,Yr.prototype.destroy=function(){for(var e=[],t=g(this.g),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)},p(Qr,ee),(r=Qr.prototype).configure=function(e){this.i=e},r.$l=function(e){this.g.add(e)},r.Am=function(e){this.g.delete(e)},r.pk=function(){this.g.clear()},r.am=function(e){this.h.add(e)},r.Bm=function(e){this.h.delete(e)},r.qk=function(){this.h.clear()},r.Mi=function(){this.l.clear()},r.destroy=function(){return this.j=!0,this.g.clear(),this.h.clear(),this.l.clear(),ee.prototype.release.call(this),this.A.destroy()},r.request=function(e,t,n){var i=this,r=new ia;if(this.j){var a=Promise.reject(new Ie(2,7,7001));return a.catch(function(){}),new ra(a,function(){return Promise.resolve()},r)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?dn(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},t.uris=dn(t.uris),a=function(e,t,n,i){function r(e){a=a.bb(function(){return n.body&&(n.body=we(n.body)),e(t,n,i)})}var a=Kr(void 0);e.F&&r(e.F);for(var o=(e=g(e.g)).next();!o.done;o=e.next())r(o.value);return a.bb(void 0,function(e){if(e instanceof Ie&&7001==e.code)throw e;throw new Ie(2,1,1006,e)})}(this,e,t,n);var o=a.bb(function(){return ta(i,e,t,n,new jr(t.retryParameters,!1),0,null,r)}),s=o.bb(function(t){return function(e,t,n,i){for(var r=Kr(void 0),a=(e=g(e.h)).next(),o={};!a.done;o={Cj:void 0},a=e.next())o.Cj=a.value,r=r.bb(function(e){return function(){var r=n.response;return r.data&&(r.data=we(r.data)),(0,e.Cj)(t,r,i)}}(o));return r.bb(function(){return n},function(e){var t=2;if(e instanceof Ie){if(7001==e.code)throw e;t=e.severity}throw new Ie(t,1,1007,e)})}(i,e,t,n)}),u=Date.now(),l=0;a.promise.then(function(){l=Date.now()-u},function(){});var c=0;o.promise.then(function(){c=Date.now()},function(){});var d=s.bb(function(r){var a=Date.now()-c,o=r.response;return o.timeMs+=l,o.timeMs+=a,r.Al||!i.u||o.fromCache||"HEAD"==t.method||e!=aa||i.u(o.timeMs,o.data.byteLength,na(n),t,n),i.G&&i.G(e,o,n),o},function(e){throw e&&(e.severity=2),e});return a=new ra(d.promise,function(){return d.abort()},r),Zr(this.A,a),a},G("shaka.net.NetworkingEngine",Qr),Qr.prototype.request=Qr.prototype.request,Qr.prototype.destroy=Qr.prototype.destroy,Qr.makeRequest=ea,Qr.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},Qr.prototype.clearCommonAccessTokenMap=Qr.prototype.Mi,Qr.prototype.clearAllResponseFilters=Qr.prototype.qk,Qr.prototype.unregisterResponseFilter=Qr.prototype.Bm,Qr.prototype.registerResponseFilter=Qr.prototype.am,Qr.prototype.clearAllRequestFilters=Qr.prototype.pk,Qr.prototype.unregisterRequestFilter=Qr.prototype.Am,Qr.prototype.registerRequestFilter=Qr.prototype.$l,Qr.unregisterScheme=function(e){sa.delete(e)},Qr.registerScheme=Jr,Qr.prototype.configure=Qr.prototype.configure,Qr.NumBytesRemainingClass=ia,p(ra,Gr),Qr.PendingRequest=ra;var aa=1;Qr.RequestType={MANIFEST:0,SEGMENT:aa,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8,CMCD:9},Qr.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var oa=3;Qr.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:oa};var sa=new Map;function ua(e){this.g=!1,this.h=new Vr,this.i=e}function la(e,t){if(e.g){if(t instanceof Ie&&7003==t.code)throw t;throw new Ie(2,7,7003,t)}}function ca(e){for(var t=new Map,n=g(Object.keys(e)),i=n.next();!i.done;i=n.next())i=i.value,t.set(i,e[i]);return t}function da(e){var t={};return e.forEach(function(e,n){t[n]=e}),t}function ha(e,t){this.h=Ee(e),this.i=t==fa,this.g=0}function pa(){return new Ie(2,3,3e3)}ua.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))},(r=ha.prototype).Pa=function(){return this.g<this.h.byteLength},r.Wa=function(){return this.g},r.getLength=function(){return this.h.byteLength},r.ba=function(){try{var e=this.h.getUint8(this.g);return this.g+=1,e}catch(e){throw pa()}},r.Ia=function(){try{var e=this.h.getUint16(this.g,this.i);return this.g+=2,e}catch(e){throw pa()}},r.$=function(){try{var e=this.h.getUint32(this.g,this.i);return this.g+=4,e}catch(e){throw pa()}},r.Rh=function(){try{var e=this.h.getInt32(this.g,this.i);return this.g+=4,e}catch(e){throw pa()}},r.Td=function(){try{if(this.i)var e=this.h.getUint32(this.g,!0),t=this.h.getUint32(this.g+4,!0);else t=this.h.getUint32(this.g,!1),e=this.h.getUint32(this.g+4,!1)}catch(e){throw pa()}if(t>2097151)throw new Ie(2,3,3001);return this.g+=8,4294967296*t+e},r.ac=function(e,t){if(this.g+e>this.h.byteLength)throw pa();var n=xe(this.h,this.g,e);return this.g+=e,t?new Uint8Array(n):n},r.skip=function(e){if(this.g+e>this.h.byteLength)throw pa();this.g+=e},r.Dj=function(e){if(this.g<e)throw pa();this.g-=e},r.seek=function(e){if(e<0||e>this.h.byteLength)throw pa();this.g=e},r.od=function(){for(var e=this.g;this.Pa()&&0!=this.h.getUint8(this.g);)this.g+=1;return e=xe(this.h,e,this.g-e),this.g+=1,Ue(e)},G("shaka.util.DataViewReader",ha),ha.prototype.readTerminatedString=ha.prototype.od,ha.prototype.seek=ha.prototype.seek,ha.prototype.rewind=ha.prototype.Dj,ha.prototype.skip=ha.prototype.skip,ha.prototype.readBytes=ha.prototype.ac,ha.prototype.readUint64=ha.prototype.Td,ha.prototype.readInt32=ha.prototype.Rh,ha.prototype.readUint32=ha.prototype.$,ha.prototype.readUint16=ha.prototype.Ia,ha.prototype.readUint8=ha.prototype.ba,ha.prototype.getLength=ha.prototype.getLength,ha.prototype.getPosition=ha.prototype.Wa,ha.prototype.hasMoreData=ha.prototype.Pa;var fa=1;function ga(){this.i=new Map,this.h=new Map,this.g=!1}function ma(e){for(var t=wa(e);e.reader.Pa()&&!e.parser.g;)e.parser.Qd(e.start+t,e.reader,e.partialOkay,e.stopOnPartial)}function va(e){for(var t=wa(e),n=e.reader.$(),i=0;i<n&&(e.parser.Qd(e.start+t,e.reader,e.partialOkay,e.stopOnPartial),!e.parser.g);i++);}function ya(e){var t=wa(e);for(e.reader.skip(78);e.reader.Pa()&&!e.parser.g;)e.parser.Qd(e.start+t,e.reader,e.partialOkay,e.stopOnPartial)}function Aa(e){var t=wa(e);e.reader.skip(8);var n=e.reader.Ia();for(e.reader.skip(6),2==n?e.reader.skip(48):e.reader.skip(12),1==n&&e.reader.skip(16);e.reader.Pa()&&!e.parser.g;)e.parser.Qd(e.start+t,e.reader,e.partialOkay,e.stopOnPartial)}function ba(e,t){return function(n){e(n.reader.ac(n.reader.getLength()-n.reader.Wa(),t))}}function Ta(e){for(var t=0,n=(e=g(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Ca(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function wa(e){return 8+(e.has64BitSize?8:0)+(null!=e.flags?4:0)}ha.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:fa},(r=ga.prototype).box=function(e,t){return e=Ta(e),this.i.set(e,xa),this.h.set(e,t),this},r.X=function(e,t){return e=Ta(e),this.i.set(e,Sa),this.h.set(e,t),this},r.stop=function(){this.g=!0},r.parse=function(e,t,n){for(e=new ha(e,0),this.g=!1;e.Pa()&&!this.g;)this.Qd(0,e,t,n)},r.Qd=function(e,t,n,i){var r=t.Wa();if(i&&r+8>t.getLength())this.g=!0;else{var a=t.$(),o=t.$(),s=Ca(o),u=!1;switch(a){case 0:a=t.getLength()-r;break;case 1:if(i&&t.Wa()+8>t.getLength())return void(this.g=!0);a=t.Td(),u=!0}var l=this.h.get(o);if(l){var c=null,d=null;if(this.i.get(o)==Sa){if(i&&t.Wa()+4>t.getLength())return void(this.g=!0);c=(d=t.$())>>>24,d&=16777215}o=r+a,n&&o>t.getLength()&&(o=t.getLength()),i&&o>t.getLength()?this.g=!0:(o-=t.Wa(),l({name:s,parser:this,partialOkay:n||!1,stopOnPartial:i||!1,version:c,flags:d,reader:t=new ha(t=o>0?t.ac(o,!1):new Uint8Array(0),0),size:a,start:r+e,has64BitSize:u}))}else t.skip(Math.min(r+a-t.Wa(),t.getLength()-t.Wa()))}},G("shaka.util.Mp4Parser",ga),ga.headerSize=wa,ga.typeToString=Ca,ga.allData=ba,ga.audioSampleEntry=Aa,ga.visualSampleEntry=ya,ga.sampleDescription=va,ga.children=ma,ga.prototype.parseNext=ga.prototype.Qd,ga.prototype.parse=ga.prototype.parse,ga.prototype.stop=ga.prototype.stop,ga.prototype.fullBox=ga.prototype.X,ga.prototype.box=ga.prototype.box;var xa=0,Sa=1;function Ea(e){var t=this;this.g=[],this.h=[],this.data=[],(new ga).box("moov",ma).box("moof",ma).X("pssh",function(e){if(!(e.version>1)){var n=xe(e.reader.h,-12,e.size);if(t.data.push(n),n=e.reader.ac(16,!1),t.g.push(Ye(n)),e.version>0){n=e.reader.$();for(var i=0;i<n;i++){var r=e.reader.ac(16,!1);r=Ye(r),t.h.push(r)}}}}).parse(e)}function ka(e,t,n,i){var r=e.length,a=12+t.length+4+r;i>0&&(a+=4+16*n.size);var o=new Uint8Array(a),s=Ee(o),u=0;if(s.setUint32(u,a),u+=4,s.setUint32(u,1886614376),u+=4,i<1?s.setUint32(u,0):s.setUint32(u,16777216),u+=4,o.set(t,u),u+=t.length,i>0)for(s.setUint32(u,n.size),u+=4,n=(t=g(n)).next();!n.done;n=t.next())n=Xe(n.value),o.set(n,u),u+=n.length;return s.setUint32(u,r),o.set(e,u+4),o}function Ia(e){var t=this;this.F=e,this.j=this.C=null,this.ea=this.R=!1,this.J=0,this.g=null,this.u=new Mt,this.i=new Map,this.V=[],this.D=new Map,this.K=!1,this.m=new Vr,this.h=null,this.A=function(n){2==n.severity&&t.m.reject(n),e.onError(n)},this.Z=new Map,this.aa=new Map,this.L=new Wi(function(){return function(e){var t=e.Z,n=e.aa;n.clear(),t.forEach(function(e,t){return n.set(t,e)}),t=Array.from(n.values()),t.length&&t.every(function(e){return"expired"==e})&&e.A(new Ie(2,6,6014)),e.F.Sf(da(n))}(t)}),this.P=!1,this.M=[],this.W=!1,this.G=new Wi(function(){!function(e){e.i.forEach(function(t,n){var i=t.Mh,r=n.expiration;isNaN(r)&&(r=1/0),r!=i&&(e.F.onExpirationUpdated(n.sessionId,r),t.Mh=r)})}(t)}),this.m.catch(function(){}),this.l=new ua(function(){return function(e){return D(function(t){switch(t.g){case 1:return e.u.release(),e.u=null,e.m.reject(),e.G.stop(),e.G=null,e.L.stop(),e.L=null,T(t,Va(e),2);case 2:if(!e.j){t.B(3);break}return w(t,4),T(t,e.j.setMediaKeys(null),6);case 6:S(t,5);break;case 4:E(t);case 5:e.j=null;case 3:e.g=null,e.C=null,e.D=new Map,e.h=null,e.A=function(){},e.F=null,e.O=!1,e.I=null,C(t)}})}(t)}),this.O=!1,this.H=this.I=null,this.S=function(){return!1}}function Ma(e,t,n,i){i=void 0===i||i,e.D=new Map;for(var r=(n=g(n)).next();!r.done;r=n.next())e.D.set(r.value,{initData:null,initDataType:null});for(r=(n=g(e.h.persistentSessionsMetadata)).next();!r.done;r=n.next())r=r.value,e.D.set(r.sessionId,{initData:r.initData,initDataType:r.initDataType});return e.P=e.D.size>0,La(e,t,i)}function La(e,t,n){var i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A,b;return D(function(C){if(1==C.g){for(Ka(e.h.clearKeys,t),i=t.some(function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)}),r=ca(e.h.servers),a=ca(e.h.advanced||{}),!i&&n&&function(e,t){var n=[];for(t.forEach(function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),e=g(e),t=e.next();!t.done;t=e.next())(t=t.value).video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}(t,r),o=new WeakSet,s=g(t),u=s.next();!u.done;u=s.next())for(l=u.value,c=Ga(l),d=g(c),h=d.next();!h.done;h=d.next())p=h.value,o.has(p)||(o.add(p),za(p,r,a,e.h.keySystemsMapping));for(f=function(t,n){for(var i=[],r=(t=g(t)).next();!r.done;r=t.next()){var o,s=(r=r.value)[n]||a.has(r.keySystem)&&a.get(r.keySystem)[n]||"";if((o=""==s)&&(o=!!(o=r.keySystem)&&!!o.match(/^com\.widevine\.alpha/)),o&&("audioRobustness"==n?s=[e.h.defaultAudioRobustnessForWidevine]:"videoRobustness"==n&&(s=[e.h.defaultVideoRobustnessForWidevine])),"string"==typeof s)i.push(r);else if(Array.isArray(s))for(0===s.length&&(s=[""]),o=(s=g(s)).next();!o.done;o=s.next()){var u={};i.push(Object.assign({},r,(u[n]=o.value,u)))}}return i},m=new WeakSet,v=g(t),y=v.next();!y.done;y=v.next())(A=y.value).video&&!m.has(A.video)&&(A.video.drmInfos=f(A.video.drmInfos,"videoRobustness"),A.video.drmInfos=f(A.video.drmInfos,"audioRobustness"),m.add(A.video)),A.audio&&!m.has(A.audio)&&(A.audio.drmInfos=f(A.audio.drmInfos,"videoRobustness"),A.audio.drmInfos=f(A.audio.drmInfos,"audioRobustness"),m.add(A.audio));return T(C,ar(t,e.P,e.O,e.h.preferredKeySystems),2)}return la(e.l),i||r.size>0?(b=Na(e,t),C.return(i?b:b.catch(function(){}))):(e.R=!0,C.return(Promise.resolve()))})}function Ra(e){var t;return D(function(n){switch(n.g){case 1:if(e.j.mediaKeys)return n.return();if(!e.I){n.B(2);break}return T(n,e.I,3);case 3:return la(e.l),n.return();case 2:return w(n,4),e.I=e.j.setMediaKeys(e.C),T(n,e.I,6);case 6:S(n,5);break;case 4:t=E(n),e.A(new Ie(2,6,6003,t.message));case 5:la(e.l),C(n)}})}function Pa(e){var t,n,i,r;return D(function(a){if(1==a.g)return e.D.size?(e.D.forEach(function(t,n){_a(e,n,t)}),T(a,e.m,3)):a.B(2);if(2!=a.g){if((e.g&&e.g.keyIds||new Set([])).size>0&&function(e){for(var t=g(e.g&&e.g.keyIds||new Set([])),n=t.next();!n.done;n=t.next())if("usable"!==e.Z.get(n.value))return!1;return!0}(e))return a.return(e.m);e.K=!1,e.m=new Vr,e.m.catch(function(){})}for(t=(e.g?e.g.initData:[])||[],n=g(t),i=n.next();!i.done;i=n.next())r=i.value,Da(e,r.initDataType,r.initData);return Ha(e)&&e.m.resolve(),a.return(e.m)})}function Da(e,t,n){if(n.length){if(e.h.ignoreDuplicateInitData){for(var i=e.i.values(),r=(i=g(i)).next();!r.done;r=i.next())if(Ce(n,r.value.initData))return;var a=!1;if(e.D.forEach(function(e){!a&&Ce(n,e.initData)&&(a=!0)}),a)return}e.K=!0,e.i.size>0&&Ha(e)&&(e.m.resolve(),e.K=!1,e.m=new Vr,e.m.catch(function(){})),function(e,t,n,i){try{var r=e.C.createSession(i)}catch(t){return void e.A(new Ie(2,6,6005,t.message))}e.u.o(r,"message",function(t){e.j&&e.h.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(t):ja(e,t)}),e.u.o(r,"keystatuseschange",function(t){return qa(e,t)}),e.i.set(r,{initData:n,initDataType:t,loaded:!1,Mh:1/0,Qb:null,type:i});try{n=e.h.initDataTransform(n,t,e.g)}catch(n){return t=n,n instanceof Ie||(t=new Ie(2,6,6016,n)),void e.A(t)}e.h.logLicenseExchange&&Ke(n),r.generateRequest(t,n).catch(function(t){if(!e.l.g){e.i.delete(r);var n=t.errorCode;if(n&&n.systemCode){var i=n.systemCode;i<0&&(i+=4294967296),i="0x"+i.toString(16)}e.A(new Ie(2,6,6006,t.message,t,i))}})}(e,t,n,e.g.sessionType)}}function Oa(e){return e=te(e=e.i.keys(),function(e){return e.sessionId}),Array.from(e)}function Na(t,n){var i,r,a,o,s,u;return D(function(l){switch(l.g){case 1:if(i=new Map,r=function(e,t,n){for(var i=g(t),r=i.next();!r.done;r=i.next())for(var a=(r=g(Ga(r.value))).next();!a.done;a=r.next())a=a.value,n.has(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);if(1==n.size&&n.has(""))throw new Ie(2,6,6e3);i=e.h.preferredKeySystems,i.length||(r=ca(e.h.servers),1==r.size&&(i=Array.from(r.keys()))),r=g(i);var o=r.next();for(a={};!o.done;a={wj:void 0},o=r.next()){a.wj=o.value;for(var s=(o=g(t)).next();!s.done;s=o.next())if(s=s.value.decodingInfos.find(function(e){return function(t){return t.supported&&null!=t.keySystemAccess&&t.keySystemAccess.keySystem==e.wj}}(a)))return s.keySystemAccess}for(r=g([!0,!1]),a=r.next();!a.done;a=r.next())for(a=a.value,o=g(t),s=o.next();!s.done;s=o.next())for(var u=(s=g(s.value.decodingInfos)).next();!u.done;u=s.next())if((u=u.value).supported&&u.keySystemAccess){var l=u.keySystemAccess.keySystem;if(!i.includes(l)){var c=n.get(l);for(!c&&e.h.keySystemsMapping[l]&&(c=n.get(e.h.keySystemsMapping[l])),c=(l=g(c)).next();!c.done;c=l.next())if(!!c.value.licenseServerUri==a)return u.keySystemAccess}}return null}(t,n,i),!r){if(!navigator.requestMediaKeySystemAccess)throw new Ie(2,6,6020);throw new Ie(2,6,6001)}la(t.l),w(l,2),r.getConfiguration();var c=a=t.h.keySystemsMapping[r.keySystem]||r.keySystem,d=i.get(a),h=[],p=[],f=[],v=[],y=[],A=new Set,b=new Set;!function(t,n,i,r,a,o,s,u){for(var l=[],c=(t=g(t)).next(),d={};!c.done;d={Ta:void 0},c=t.next()){if(d.Ta=c.value,n.includes(d.Ta.encryptionScheme)||n.push(d.Ta.encryptionScheme),"org.w3.clearkey"==d.Ta.keySystem&&d.Ta.licenseServerUri.startsWith("data:application/json;base64,")?l.includes(d.Ta.licenseServerUri)||l.push(d.Ta.licenseServerUri):i.includes(d.Ta.licenseServerUri)||i.push(d.Ta.licenseServerUri),a.includes(d.Ta.serverCertificateUri)||a.push(d.Ta.serverCertificateUri),d.Ta.serverCertificate&&(r.some(function(e){return function(t){return Ce(t,e.Ta.serverCertificate)}}(d))||r.push(d.Ta.serverCertificate)),d.Ta.initData)for(var h=(c=g(d.Ta.initData)).next(),p={};!h.done;p={Ch:void 0},h=c.next())p.Ch=h.value,o.some(function(e){return function(t){var n=e.Ch;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&Ce(t.initData,n.initData)}}(p))||o.push(p.Ch);if(d.Ta.keyIds)for(h=(c=g(d.Ta.keyIds)).next();!h.done;h=c.next())s.add(h.value);if(d.Ta.keySystemUris&&u)for(c=(d=g(d.Ta.keySystemUris)).next();!c.done;c=d.next())u.add(c.value)}if(1==l.length)i.push(l[0]);else if(l.length>0){for(n=[],r=(l=g(l)).next();!r.done;r=l.next())r=e.atob(r.value.split("data:application/json;base64,").pop()),r=JSON.parse(r),n.push.apply(n,m(r.keys));l=JSON.stringify({keys:n}),i.push("data:application/json;base64,"+e.btoa(l))}}(d,h,p,v,f,y,A,b);var C=t.P?"persistent-license":"temporary";for(c={keySystem:c,encryptionScheme:h[0],licenseServerUri:p[0],distinctiveIdentifierRequired:d[0].distinctiveIdentifierRequired,persistentStateRequired:d[0].persistentStateRequired,sessionType:d[0].sessionType||C,audioRobustness:d[0].audioRobustness||"",videoRobustness:d[0].videoRobustness||"",serverCertificate:v[0],serverCertificateUri:f[0],initData:y,keyIds:A},b.size>0&&(c.keySystemUris=b),b=(d=g(d)).next();!b.done;b=d.next())(b=b.value).distinctiveIdentifierRequired&&(c.distinctiveIdentifierRequired=b.distinctiveIdentifierRequired),b.persistentStateRequired&&(c.persistentStateRequired=b.persistentStateRequired);if(t.g=c,!t.g.licenseServerUri)throw new Ie(2,6,6012,t.g.keySystem);return T(l,r.createMediaKeys(),4);case 4:if(o=l.h,la(t.l),t.C=o,""==t.h.minHdcpVersion||!("getStatusForPolicy"in t.C)){l.B(5);break}return w(l,6),T(l,t.C.getStatusForPolicy({minHdcpVersion:t.h.minHdcpVersion}),8);case 8:if("usable"!=l.h)throw new Ie(2,6,6018);la(t.l),S(l,5,2);break;case 6:if((s=E(l,2))instanceof Ie)throw s;throw new Ie(2,6,6019,s.message);case 5:return t.R=!0,t.G.xa(t.h.updateExpirationTime),T(l,function(e){var t,n;return D(function(i){switch(i.g){case 1:if(!e.C||!e.g)return i.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){i.B(2);break}return t=ea([e.g.serverCertificateUri],e.h.retryParameters),w(i,3),T(i,e.F.Cc.request(5,t,{isPreload:e.S()}).promise,5);case 5:n=i.h,e.g.serverCertificate=xe(n.data),S(i,4);break;case 3:throw new Ie(2,6,6017,E(i));case 4:if(e.l.g)return i.return();case 2:return e.g.serverCertificate&&e.g.serverCertificate.length?(w(i,6),T(i,e.C.setServerCertificate(e.g.serverCertificate),8)):i.return();case 8:S(i,0);break;case 6:throw new Ie(2,6,6004,E(i).message)}})}(t),9);case 9:la(t.l),S(l,0);break;case 2:if(u=E(l),la(t.l,u),t.g=null,u instanceof Ie)throw u;throw new Ie(2,6,6002,u.message)}})}function Ua(e){Ha(e)&&e.m.resolve()}function Ba(e,t){new Wi(function(){t.loaded=!0,Ua(e)}).Y(Xa)}function _a(e,t,n){var i,r,a,o,s,u,l;return D(function(c){switch(c.g){case 1:try{i=e.C.createSession("persistent-license")}catch(t){return r=new Ie(2,6,6005,t.message),e.A(r),c.return(Promise.reject(r))}return e.u.o(i,"message",function(t){e.j&&e.h.delayLicenseRequestUntilPlayed&&e.j.paused&&!e.W?e.M.push(t):ja(e,t)}),e.u.o(i,"keystatuseschange",function(t){return qa(e,t)}),a={initData:n.initData,initDataType:n.initDataType,loaded:!1,Mh:1/0,Qb:null,type:"persistent-license"},e.i.set(i,a),w(c,2),T(c,i.load(t),4);case 4:return o=c.h,la(e.l),o||(e.i.delete(i),s=e.h.persistentSessionOnlinePlayback?1:2,e.A(new Ie(s,6,6013)),a.loaded=!0),Ba(e,a),Ua(e),c.return(i);case 2:u=E(c),la(e.l,u),e.i.delete(i),l=e.h.persistentSessionOnlinePlayback?1:2,e.A(new Ie(l,6,6005,u.message)),a.loaded=!0,Ua(e);case 3:return c.return(Promise.resolve())}})}function ja(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,f,m,v,y;D(function(A){switch(A.g){case 1:if(n=t.target,e.h.logLicenseExchange&&Ke(t.message),i=e.i.get(n),r=e.g.licenseServerUri,a=e.h.advanced[e.g.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(r=a.individualizationServer),(o=ea([r],e.h.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=n.sessionId,o.drmInfo=e.g,i&&(o.initData=i.initData,o.initDataType=i.initDataType),a&&a.headers)for(s in a.headers)o.headers[s]=a.headers[s];if("org.w3.clearkey"===e.g.keySystem){var b=o,x=e.g;try{var k=_e(b.body);if(k){var I=JSON.parse(k);I.type||(I.type=x.sessionType,b.body=je(JSON.stringify(I)))}}catch(e){}}if(Or(e.g.keySystem))if((b=Be(o.body,!0,!0)).includes("PlayReadyKeyMessage")){for(k=(x=g(x=Cn(b=gn(b,"PlayReadyKeyMessage"),"HttpHeader"))).next();!k.done;k=x.next())k=Cn(I=k.value,"name")[0],I=Cn(I,"value")[0],o.headers[bn(k)]=bn(I);b=Cn(b,"Challenge")[0],o.body=We(bn(b))}else o.headers["Content-Type"]="text/xml; charset=utf-8";return u=Date.now(),w(A,2),c=e.F.Cc.request(2,o,{isPreload:e.S()}),e.V.push(c),T(A,c.promise,4);case 4:l=A.h,Et(e.V,c),S(A,3);break;case 2:return d=E(A),e.l.g?A.return():(h={sessionId:n.sessionId,sessionType:i.type,initData:i.initData,initDataType:i.initDataType},p=new Ie(2,6,6007,d,h),1==e.i.size?(e.A(p),i&&i.Qb&&i.Qb.reject(p)):(i&&i.Qb&&i.Qb.reject(p),e.i.delete(n),Ha(e)&&(e.m.resolve(),e.L.Y(.1))),A.return());case 3:return e.l.g?A.return():(e.J+=(Date.now()-u)/1e3,e.h.logLicenseExchange&&Ke(l.data),w(A,5),T(A,n.update(l.data),7));case 7:S(A,6);break;case 5:return m=(f=E(A))&&f.message||String(f),v=new Ie(2,6,6008,m),e.A(v),i&&i.Qb&&i.Qb.reject(v),A.return();case 6:if(e.l.g)return A.return();y=new H("drmsessionupdate"),e.F.onEvent(y),i&&(i.Qb&&i.Qb.resolve(),Ba(e,i)),C(A)}})}function qa(e,t){t=t.target;var n=e.i.get(t),i=!1;t.keyStatuses.forEach(function(t,r){if("string"==typeof r){var a=r;r=t,t=a}if(a=Re(),Or(e.g.keySystem)&&16==r.byteLength&&a.Xh()){var o=(a=Ee(r)).getUint32(0,!0),s=a.getUint16(4,!0),u=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,u,!1)}"status-pending"!=t&&(n.loaded=!0),"expired"==t&&(i=!0),r=Ye(r).slice(0,32),e.Z.set(r,t)});var r=t.expiration-Date.now();(r<0||i&&r<1e3)&&n&&!n.Qb&&(e.i.delete(t),Fa(t)),Ha(e)&&(e.m.resolve(),e.L.Y(Ya))}function Fa(e){return D(function(t){return 1==t.g?(w(t,2),T(t,Qi(Wa,Promise.all([e.close().catch(function(){}),e.closed])),4)):2!=t.g?S(t,0):(E(t),void C(t))})}function Va(e){var t;return D(function(n){return t=Array.from(e.i.entries()),e.i.clear(),T(n,Promise.all(t.map(function(t){var n=(t=g(t)).next().value,i=t.next().value;return D(function(t){return 1==t.g?(w(t,2),e.ea||e.D.has(n.sessionId)||"persistent-license"!==i.type||e.h.persistentSessionOnlinePlayback?T(t,Fa(n),5):T(t,n.remove(),5)):2!=t.g?S(t,0):(E(t),void C(t))})})),0)})}function Ga(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function Ha(e){return function(e,t){for(var n=(e=g(e)).next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}(e=e.i.values(),function(e){return e.loaded})}function za(t,n,i,r){var a=t.keySystem;!a||"org.w3.clearkey"==a&&t.licenseServerUri||(n.size&&n.get(a)&&(n=n.get(a),t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(i=i.get(a))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=i.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=i.persistentStateRequired),t.serverCertificate||(t.serverCertificate=i.serverCertificate),i.sessionType&&(t.sessionType=i.sessionType),t.serverCertificateUri||(t.serverCertificateUri=i.serverCertificateUri)),r[a]&&(t.keySystem=r[a]),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==a&&(t.keySystem="com.chromecast.playready"))}function Ka(e,t){if(0!=(e=ca(e)).size){e=$e(e);for(var n=(t=g(t)).next();!n.done;n=t.next())(n=n.value).video&&(n.video.drmInfos=[e]),n.audio&&(n.audio.drmInfos=[e])}}(r=Ia.prototype).destroy=function(){return this.l.destroy()},r.configure=function(e,t){this.h=e,t&&(this.S=t),this.G&&this.R&&this.g&&this.G.xa(this.h.updateExpirationTime)},r.cc=function(e){var t,n,i=this;return D(function(r){if(1==r.g)return i.j===e?r.return():i.C?(i.j=e,i.h.delayLicenseRequestUntilPlayed&&i.u.ua(i.j,"play",function(){for(var e=g(i.M),t=e.next();!t.done;t=e.next())ja(i,t.value);i.W=!0,i.M=[]}),i.j.remote?(i.u.o(i.j.remote,"connect",function(){return Va(i)}),i.u.o(i.j.remote,"connecting",function(){return Va(i)}),i.u.o(i.j.remote,"disconnect",function(){return Va(i)})):"webkitCurrentPlaybackTargetIsWireless"in i.j&&i.u.o(i.j,"webkitcurrentplaybacktargetiswirelesschanged",function(){return Va(i)}),i.H=i.g&&i.g.initData.find(function(e){return e.initData.length>0})||null,t=i.g.keySystem,(n=Re().Jh(t))||!i.H&&"com.apple.fps"===i.g.keySystem&&!i.D.size?r.B(2):T(r,Ra(i),2)):(i.u.ua(e,"encrypted",function(){i.A(new Ie(2,6,6010))}),r.return());Pa(i).catch(function(){}),!n&&(i.H||i.D.size||i.h.parseInbandPsshEnabled)||i.u.o(i.j,"encrypted",function(e){return function(e,t){return D(function(n){if(1==n.g)return T(n,Ra(e),2);Da(e,t.initDataType,xe(t.initData)),C(n)})}(i,e)}),C(r)})},r.nh=function(){var e=this,t=this.i.keys();return t=te(t,function(t){var n=e.i.get(t);return{sessionId:t.sessionId,sessionType:n.type,initData:n.initData,initDataType:n.initDataType}}),Array.from(t)},r.pe=function(){for(var e=1/0,t=this.i.keys(),n=(t=g(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},r.vf=function(){return da(this.aa)};var Wa=1,Xa=5,Ya=.5;function Za(){this.g=$a,this.i=(new Map).set($a,2).set(Ja,1),this.h=0}function Qa(e,t){var n=e.g!==t;return e.g=t,n&&t===$a&&(e.h=Date.now()),n}var Ja=0,$a=1;function eo(e,t,n){this.g=e,this.i=t,this.h=n}function to(e,t){return D(function(n){if(1==n.g)return T(n,tr(e.h,t,e.g.drm.preferredKeySystems,e.g.drm.keySystemsMapping),2);if(e.g.streaming.dontChooseCodecs||$i(t,e.g.preferredVideoCodecs,e.g.preferredAudioCodecs,e.g.preferredDecodingAttributes,e.g.preferredTextFormats),!t.variants.some(gr))throw new Ie(2,4,4032);return n.return(io(e,t))})}function no(e,t){var n=e.g.restrictions;e=e.i;for(var i=!1,r=(t=g(t.variants)).next();!r.done;r=t.next()){var a=(r=r.value).allowedByApplication;r.allowedByApplication=er(r,n,e),a!=r.allowedByApplication&&(i=!0)}return i}function io(e,t){var n=no(e,t);if(t){var i=e.h?e.h.g:null;if(i&&e.h.C){for(var r=new Set,a=g(t.variants),o=a.next();!o.done;o=a.next())(o=o.value).audio&&r.add(o.audio),o.video&&r.add(o.video);for(a=(r=g(r)).next();!a.done;a=r.next())ro(e,i.keySystem,a.value)}ao(e,t)}return n}function ro(e,t,n){for(var i=(n=g(n.drmInfos)).next();!i.done;i=n.next())if((i=i.value).keySystem==t)for(var r=(i=g(i.initData||[])).next();!r.done;r=i.next())r=r.value,Da(e.h,r.initDataType,r.initData)}function ao(e,t){e=e.h?e.h.vf():{};var n=Object.keys(e);n=n.length&&"00"==n[0];for(var i=!1,r=!1,a=new Set,o=new Set,s=new Set,u=(t=g(t.variants)).next();!u.done;u=t.next())(u=u.value).audio&&s.add(u.audio),u.video&&s.add(u.video),u.allowedByApplication?u.allowedByKeySystem&&(i=!0):r=!0;for(t=(s=g(s)).next();!t.done;t=s.next())if((t=t.value).keyIds.size)for(u=(t=g(t.keyIds)).next();!u.done;u=t.next()){u=u.value;var l=e[n?"00":u];l?oo.includes(l)&&o.add(l):a.add(u)}if(!i)throw new Ie(2,4,4012,e={hasAppRestrictions:r,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(o)})}var oo=["output-restricted","internal-error"];function so(){}function uo(e,t){co.set(e,t)}function lo(e,t){if(t){var n=co.get(t.toLowerCase());if(n)return n}throw new Ie(2,4,4e3,e,t)}G("shaka.media.ManifestParser",so),so.unregisterParserByMime=function(e){co.delete(e)},so.registerParserByMime=uo,so.registerParserByExtension=function(){Dt("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},so.AccessibilityPurpose={On:"visually impaired",Ym:"hard of hearing",xn:"spoken subtitles"};var co=new Map;function ho(e,t){var n=null,i=null,r=null,a=null,o=e.$();return 1&t&&(r=e.Td()),2&t&&(a=e.$()),8&t&&(n=e.$()),16&t&&(i=e.$()),{trackId:o,le:n,me:i,lk:r,Ej:a}}function po(e,t){return 1==t?{baseMediaDecodeTime:4294967296*(t=e.$())+(e=e.$())}:{baseMediaDecodeTime:e.$()}}function fo(e,t){return 1==t?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),t=e.$(),e.skip(4),e=e.Ia(),{timescale:t,language:String.fromCharCode(96+(e>>10))+String.fromCharCode(96+((960&e)>>5))+String.fromCharCode(96+(31&e))}}function go(e,t,n){var i=e.$(),r=[],a=null;1&n&&(a=e.Rh()),4&n&&e.skip(4);for(var o=0;o<i;o++){var s={Zh:null,sampleSize:null,cg:null};256&n&&(s.Zh=e.$()),512&n&&(s.sampleSize=e.$()),1024&n&&e.skip(4),2048&n&&(s.cg=0==t?e.$():e.Rh()),r.push(s)}return{Un:i,Yh:r,Tg:a}}function mo(e){e.skip(6),e.skip(2),e.skip(8);var t=e.Ia();return e.skip(2),e.skip(2),e.skip(2),{channelCount:t,sampleRate:e=e.Ia()+e.Ia()/65536}}function vo(e){return{codec:Ca(e=e.$())}}function yo(e,t){return t=void 0!==t&&t,e=e.toString(16).toUpperCase(),t?e:("0"+e).slice(-2)}function Ao(e){return(e<10?"0":"")+e}function bo(e){this.g=e}function To(e){for(var t=[],n=g(e.g),i=n.next();!i.done;i=n.next()){var r=t,a=r.push,o=i.value;i=Ro;var s=o.id+1,u=o.stream.width||0,l=o.stream.height||0;"audio"==o.type&&(l=u=0);var c=o.duration*o.timescale,d=Math.floor(c/(Po+1));switch(c=Math.floor(c%(Po+1)),s=Ro("tkhd",s=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(m(Io(s,4)),[0,0,0,0],m(Io(d,4)),m(Io(c,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],m(Io(u,2)),[0,0],m(Io(l,2)),[0,0]))),u=Ro,d=o.duration*o.timescale,l=Math.floor(d/(Po+1)),d=Math.floor(d%(Po+1)),c=(c=o.stream.language).charCodeAt(0)-96<<10|c.charCodeAt(1)-96<<5|c.charCodeAt(2)-96,l=Ro("mdhd",l=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(m(Io(o.timescale,4)),m(Io(l,4)),m(Io(d,4)),m(Io(c,2)),[0,0]))),d=o,c=new Uint8Array([]),d.type){case"video":c=Oo.value();break;case"audio":c=No.value()}d=Ro("hdlr",c);e:{switch(o.type){case"video":o=Ro("minf",Ro("vmhd",qo.value()),Ho.value(),Co(o));break e;case"audio":o=Ro("minf",Ro("smhd",Fo.value()),Ho.value(),Co(o));break e}o=new Uint8Array([])}i=i("trak",s,o=u("mdia",l,d,o)),a.call(r,i)}for(t=Ze.apply(He,m(t)),n=Ro,i=(a=e.g[0]).duration*a.timescale,r=Math.floor(i/(Po+1)),i=Math.floor(i%(Po+1)),r=Ro("mvhd",r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(m(Io(a.timescale,4)),m(Io(r,4)),m(Io(i,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))),i=[],u=(e=g(e.g)).next();!u.done;u=e.next())s=(o=i).push,u=Ro("trex",u=new Uint8Array([0,0,0,0].concat(m(Io(u.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),s.call(o,u);if(e=Ro("mvex",e=Ze.apply(He,m(i))),i=[],a.encrypted){for(o=(a=g(a.stream.drmInfos)).next();!o.done;o=a.next())if((o=o.value).initData)for(s=(o=g(o.initData)).next();!s.done;s=o.next())i.push(s.value.initData);a=Ze.apply(He,m(i))}else a=new Uint8Array([]);return e=n("moov",r,t,e,a),t=Go.value(),(n=new Uint8Array(t.byteLength+e.byteLength)).set(t),n.set(e,t.byteLength),n}function Co(e){var t=Ro,n="aac";e.codecs.includes("mp3")?n="mp3":e.codecs.includes("ac-3")?n=Re().He()?"ec-3":"ac-3":e.codecs.includes("ec-3")?n="ec-3":e.codecs.includes("opus")&&(n="opus");var i=new Uint8Array([]);switch(e.type){case"video":if(e.codecs.includes("avc1")){if(n=e.stream.width||0,i=e.stream.height||0,e.Ya.byteLength>0)var r=Ro("avcC",e.Ya);else{r=Ro;for(var a=7,o=[],s=[],u=0,l=0,c=0,d=0;d<e.Gb.length;d++){var h=Mo(e.Gb[d]);switch(31&h[0]){case 7:o.push(h),a+=h.length+2;break;case 8:s.push(h),a+=h.length+2}}for(o.length>0&&(u=o[0][1],c=o[0][2],l=o[0][3]),d=0,(a=new Uint8Array(a))[d++]=1,a[d++]=u,a[d++]=c,a[d++]=l,a[d++]=255,a[d++]=224|o.length,u=0;u<o.length;u++)a[d++]=(65280&o[u].length)>>8,a[d++]=255&o[u].length,a.set(o[u],d),d+=o[u].length;for(a[d++]=s.length,o=0;o<s.length;o++)a[d++]=(65280&s[o].length)>>8,a[d++]=255&s[o].length,a.set(s[o],d),d+=s[o].length;r=r("avcC",a)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(m(Io(n,2)),m(Io(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="avc1",s=wo(e),o=new Uint8Array([]),e.encrypted&&(o=So(e.stream,e.codecs),i="encv"),i=Ro(i,n,r,s,o)}else e.codecs.includes("hvc1")&&(i=e.stream.width||0,r=e.stream.height||0,n=new Uint8Array([]),e.Ya.byteLength>0&&(n=Ro("hvcC",e.Ya)),i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(m(Io(i,2)),m(Io(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="hvc1",s=wo(e),o=new Uint8Array([]),e.encrypted&&(o=So(e.stream,e.codecs),r="encv"),i=Ro(r,i,n,s,o));break;case"audio":"mp3"==n?e=Ro(".mp3",xo(e)):"ac-3"==n?(n=Ro("dac3",e.Ma),i="ac-3",r=new Uint8Array([]),e.encrypted&&(r=So(e.stream,e.codecs),i="enca"),e=Ro(i,xo(e),n,r)):"ec-3"==n?(n=Ro("dec3",e.Ma),i="ec-3",r=new Uint8Array([]),e.encrypted&&(r=So(e.stream,e.codecs),i="enca"),e=Ro(i,xo(e),n,r)):"opus"==n?(n=Ro("dOps",e.Ma),i="Opus",r=new Uint8Array([]),e.encrypted&&(r=So(e.stream,e.codecs),i="enca"),e=Ro(i,xo(e),n,r)):(e.Ma.byteLength>0?n=Ro("esds",e.Ma):(n=Ro,i=e.id+1,r=e.stream.channelsCount||2,o=e.stream.audioSamplingRate||44100,u=et("audio",e.codecs.split(",")),s=(l={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12})[o],"mp4a.40.5"!==u&&"mp4a.40.29"!==u||(s=l[2*o]),o=parseInt(u.split(".").pop(),10),n=n("esds",i=new Uint8Array([0,0,0,0,3,25].concat(m(Io(i,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,o<<3|s>>>1,s<<7|r<<3,6,1,2])))),i="mp4a",r=new Uint8Array([]),e.encrypted&&(r=So(e.stream,e.codecs),i="enca"),e=Ro(i,xo(e),n,r)),i=e}return t("stbl",e=Ro("stsd",Vo.value(),i),Ro("stts",Uo.value()),Ro("stsc",Bo.value()),Ro("stsz",jo.value()),Ro("stco",_o.value()))}function wo(e){if(!e.eb&&!e.gb)return new Uint8Array([]);var t=e.gb;return Ro("pasp",e=new Uint8Array([].concat(m(Io(e.eb,4)),m(Io(t,4)))))}function xo(e){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.stream.channelsCount||2,0,16,0,0,0,0].concat(m(Io(e.stream.audioSamplingRate||44100,2)),[0,0]))}function So(e,t){var n=Ro;t=Ro("frma",t=new Uint8Array([].concat(m(Io(Lo(t.split(".")[0]),4)))));var i="cenc",r=e.drmInfos[0];r&&r.encryptionScheme&&(i=r.encryptionScheme),i=Ro("schm",i=new Uint8Array([0,0,0,0].concat(m(Io(Lo(i),4)),[0,1,0,0]))),r=Ro;for(var a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=(e=g(e.drmInfos)).next();!o.done;o=e.next())if((o=o.value)&&o.keyIds&&o.keyIds.size)for(var s=(o=g(o.keyIds)).next();!s.done;s=o.next())a=Mo(s.value);return n("sinf",t,i,r("schi",a=Ro("tenc",e=new Uint8Array([0,0,0,0,0,0,1,8]),a)))}function Eo(e){for(var t=[],n=(e=g(e.g)).next();!n.done;n=e.next()){n=n.value;var i,r=t.push,a=r.apply,o=Ro,s=new Uint8Array([0,0,0,0].concat(m(Io(n.data?n.data.sequenceNumber:0,4))));s=Ro("mfhd",s);var u=n.data?n.data.Eb:[],l=new Uint8Array(4+u.length);for(i=0;i<u.length;i++){var c=u[i].flags;l[i+4]=c.rb<<4|c.ub<<2|c.sb}var d=(u=Ro("sdtp",l)).length+32+20+8+16+8+8;l=Ro,i=Ro("tfhd",i=new Uint8Array([0,0,0,58].concat(m(Io(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),c=n.data?n.data.baseMediaDecodeTime:0;var h=Math.floor(c%(Po+1));c=Ro("tfdt",c=new Uint8Array([1,0,0,0].concat(m(Io(Math.floor(c/(Po+1)),4)),m(Io(h,4)))));var p=d,f=12+16*(h=(d=n.data?n.data.Eb:[]).length),v=new Uint8Array(f);for(p+=8+f,v.set(["video"===n.type?1:0,0,15,1].concat(m(Io(h,4)),m(Io(p,4))),0),p=0;p<h;p++){var y=d[p];f=Io(y.duration,4);var A=Io(y.size,4),b=y.flags;y=Io(y.Ab,4),v.set([].concat(m(f),m(A),[b.Cb<<2|b.rb,b.ub<<6|b.sb<<4|b.Db,61440&b.qb,15&b.qb],m(y)),12+16*p)}o=o("moof",s,u=l("traf",i,c,d=Ro("trun",v),u)),a.call(r,t,[o,ko(n)])}return Ze.apply(He,m(t))}function ko(e){return e=(e.data?e.data.Eb:[]).map(function(e){return e.data}),Ro("mdat",e=Ze.apply(He,m(e)))}function Io(e,t){var n=[];for(--t;t>=0;t--)n.push(e>>8*t&255);return n}function Mo(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;n+=1)t[n]=parseInt(String(e[2*n]+e[2*n+1]),16);return t}function Lo(e){for(var t=0,n=0;n<e.length;n+=1)t|=e.charCodeAt(n)<<8*(e.length-n-1);return t}function Ro(e){var t=O.apply(1,arguments),n=Do.get(e);n||(n=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)],Do.set(e,n));for(var i=8,r=t.length-1;r>=0;r--)i+=t[r].byteLength;for((r=new Uint8Array(i))[0]=i>>24&255,r[1]=i>>16&255,r[2]=i>>8&255,r[3]=255&i,r.set(n,4),n=0,i=8;n<t.length;n++)r.set(t[n],i),i+=t[n].byteLength;return r}G("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"});var Po=4294967295,Do=new Map,Oo=new Le(function(){return new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0])}),No=new Le(function(){return new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])}),Uo=new Le(function(){return new Uint8Array([0,0,0,0,0,0,0,0])}),Bo=new Le(function(){return new Uint8Array([0,0,0,0,0,0,0,0])}),_o=new Le(function(){return new Uint8Array([0,0,0,0,0,0,0,0])}),jo=new Le(function(){return new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0])}),qo=new Le(function(){return new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}),Fo=new Le(function(){return new Uint8Array([0,0,0,0,0,0,0,0])}),Vo=new Le(function(){return new Uint8Array([0,0,0,0,0,0,0,1])}),Go=new Le(function(){var e=new Uint8Array([105,115,111,109]),t=new Uint8Array([97,118,99,49]);return Ro("ftyp",e,new Uint8Array([0,0,0,1]),e,t)}),Ho=new Le(function(){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);return e=Ro("dref",e),Ro("dinf",e)});function zo(e){function t(e){o.push(e),ma(e)}var n,i,r,a,o=[];if((new ga).box("moof",t).box("traf",t).X("tfhd",function(e){n=e,r=ho(e.reader,e.flags)}).X("trun",function(e){i=e,a=go(e.reader,e.version,e.flags)}).parse(e),r&&2!==r.Ej){var s=n.start+wa(n)+4+(null!==r.lk?8:0),u=Ee(e);if(null!==r.Ej)u.setUint32(s,2);else{Wo(e,n.start,n.size+4);var l=u.getUint32(n.start+8);u.setUint32(n.start+8,2|l),a&&null!==a.Tg&&u.setInt32(i.start+wa(i)+4,a.Tg+4),l=e.subarray(0,s),u=e.subarray(s),(e=new Uint8Array(e.byteLength+4)).set(l),l=[];for(var c=3;c>=0;c--)l.push(2>>8*c&255);for(e.set(new Uint8Array(l),s),e.set(u,s+4),u=(s=g(o)).next();!u.done;u=s.next())Wo(e,(u=u.value).start,u.size+4)}}return e}function Ko(e,t,n,i,r,a){var o=So(e,i.name),s=t.subarray(i.start,i.start+i.size);for((e=new Uint8Array(i.size+o.byteLength)).set(s,0),Ee(e).setUint32(4,a),e.set(o,i.size),Wo(e,0,e.byteLength),a=new Uint8Array(t.byteLength+e.byteLength),i=Re().Cf()?i.start:i.start+i.size,o=t.subarray(i),a.set(t.subarray(0,i)),a.set(e,i),a.set(o,i+e.byteLength),r=(t=g(r)).next();!r.done;r=t.next())Wo(a,(r=r.value).start,r.size+e.byteLength);return e=Ee(a,n.start),n=wa(n),t=e.getUint32(n),e.setUint32(n,t+1),a}function Wo(e,t,n){0!=(t=(e=Ee(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,n>>32),e.setUint32(12,4294967295&n)):e.setUint32(0,n))}function Xo(e,t,n,i,r,a,o,s){this.T=e,this.startByte=t,this.endByte=n,this.Od=void 0===i?null:i,this.timescale=void 0===r?null:r,this.h=void 0===a?null:a,this.aesKey=void 0===o?null:o,this.g=this.mimeType=this.codecs=null,this.encrypted=void 0!==s&&s}function Yo(e,t){return e===t||(e&&t?e.Sc()==t.Sc()&&e.Pc()==t.Pc()&&It(e.T().sort(),t.T().sort())&&Ce(e.hc(),t.hc()):e==t)}function Zo(e,t,n,i,r,a,o,s,u,l,c,d,h,p,f,m){for(l=void 0===l?[]:l,p=void 0===p?$o:p,this.startTime=e,this.j=this.endTime=t,this.D=n,this.startByte=i,this.endByte=r,this.ia=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=u,this.g=l,this.tilesLayout=void 0===c?"":c,this.C=void 0===d?null:d,this.h=void 0===h?null:h,this.status=p,this.preload=!1,this.l=!0,this.u=!1,this.aesKey=void 0===f?null:f,this.thumbnailSprite=null,this.i=-1,this.m=void 0!==m&&m,this.ye=this.nd=!1,t=(e=g(this.g)).next();!t.done;t=e.next())t.value.mj();this.m&&this.g.length&&this.g[this.g.length-1].lj(),this.A=this.bandwidth=this.mimeType=this.codecs=null,this.F=!1}function Qo(e){if(e.endByte)return e.endByte+1-e.startByte;if(e.bandwidth){var t=e.bandwidth*(e.endTime-e.startTime);if(!isNaN(t)&&t>0)return t}if(e.g.length>0&&e.m)for(e=(e=g(e.g)).next();!e.done;e=e.next()){Qo(e.value);break}return null}function Jo(e,t){e.ia=t;for(var n=(e=g(e.g)).next();!n.done;n=e.next())Jo(n.value,t)}Xo.prototype.Sc=function(){return this.startByte},Xo.prototype.Pc=function(){return this.endByte},Xo.prototype.Je=function(e){this.h=e},Xo.prototype.hc=function(){return this.h},G("shaka.media.InitSegmentReference",Xo),Xo.prototype.getEndByte=Xo.prototype.Pc,Xo.prototype.getStartByte=Xo.prototype.Sc,(r=Zo.prototype).T=function(){return this.D()},r.getStartTime=function(){return this.startTime},r.Mk=function(){return this.endTime},r.Sc=function(){return this.startByte},r.Pc=function(){return this.endByte},r.rl=function(){return this.tilesLayout},r.ql=function(){return this.C},r.Tc=function(){return this.status},r.Pl=function(){this.status=es},r.Ih=function(){this.preload=!0},r.isPreload=function(){return this.preload},r.Nd=function(){this.l=!1},r.Fl=function(){return this.l},r.mj=function(){this.nd=!0},r.Hl=function(){return this.nd},r.lj=function(){this.ye=!0},r.Gl=function(){return this.ye},r.kj=function(){this.u=!0},r.Bl=function(){return this.u},r.jg=function(e){this.thumbnailSprite=e},r.ol=function(){return this.thumbnailSprite},r.offset=function(e){this.startTime+=e,this.endTime+=e,this.j+=e;for(var t=g(this.g),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.j+=e},r.oi=function(e){null==this.h?X("Sync attempted without sync time!"):(e=this.h-e-this.startTime,Math.abs(e)>=.001&&this.offset(e))},r.Je=function(e,t){this.A=e,this.F=void 0!==t&&t},r.hc=function(e){var t=this.A;return(void 0===e||e)&&this.F&&(this.A=null),t},G("shaka.media.SegmentReference",Zo),Zo.prototype.getSegmentData=Zo.prototype.hc,Zo.prototype.setSegmentData=Zo.prototype.Je,Zo.prototype.syncAgainst=Zo.prototype.oi,Zo.prototype.offset=Zo.prototype.offset,Zo.prototype.getThumbnailSprite=Zo.prototype.ol,Zo.prototype.setThumbnailSprite=Zo.prototype.jg,Zo.prototype.hasByterangeOptimization=Zo.prototype.Bl,Zo.prototype.markAsByterangeOptimization=Zo.prototype.kj,Zo.prototype.isLastPartial=Zo.prototype.Gl,Zo.prototype.markAsLastPartial=Zo.prototype.lj,Zo.prototype.isPartial=Zo.prototype.Hl,Zo.prototype.markAsPartial=Zo.prototype.mj,Zo.prototype.isIndependent=Zo.prototype.Fl,Zo.prototype.markAsNonIndependent=Zo.prototype.Nd,Zo.prototype.isPreload=Zo.prototype.isPreload,Zo.prototype.markAsPreload=Zo.prototype.Ih,Zo.prototype.markAsUnavailable=Zo.prototype.Pl,Zo.prototype.getStatus=Zo.prototype.Tc,Zo.prototype.getTileDuration=Zo.prototype.ql,Zo.prototype.getTilesLayout=Zo.prototype.rl,Zo.prototype.getEndByte=Zo.prototype.Pc,Zo.prototype.getStartByte=Zo.prototype.Sc,Zo.prototype.getEndTime=Zo.prototype.Mk,Zo.prototype.getStartTime=Zo.prototype.getStartTime,Zo.prototype.getUris=Zo.prototype.T;var $o=0,es=1;function ts(e){return 1==e.length&&e.end(0)-e.start(0)<1e-4}function ns(e){return!e||ts(e)?null:1==e.length&&e.start(0)<0?0:e.length?e.start(0):null}function is(e){return!e||ts(e)?null:e.length?e.end(e.length-1):null}function rs(e,t){return!(!e||!e.length||ts(e)||t>e.end(e.length-1))&&t>=e.start(0)}function as(e,t){if(!e||!e.length||ts(e))return 0;for(var n=0,i=(e=g(os(e))).next();!i.done;i=e.next()){var r=i.value;i=r.start,(r=r.end)>t&&(n+=r-Math.max(i,t))}return n}function os(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function ss(){}function us(e){return document.createElement(e)}function ls(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function cs(){var e=document.createElement("button");return e.setAttribute("type","button"),e}function ds(e,t){var n=document.createElement("source");return n.src=e,n.type=void 0===t?"":t,n}function hs(e){for(var t=!1,n=e.getElementsByTagName("source"),i=n.length-1;i>=0;--i)e.removeChild(n[i]),t=!0;return e.src&&(e.removeAttribute("src"),t=!0),t}function ps(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function fs(){return ms||(gs||(gs=new Wi(function(){ms=null})),(ms=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(ms=document.createElement("video")),gs.Y(1),ms)}Zo.Status={Gm:$o,Mn:es,jn:2},G("shaka.util.Dom",ss),ss.removeAllChildren=ps,ss.clearSourceFromVideo=hs;var gs=null,ms=null;function vs(){}function ys(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}function As(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128}function bs(e,t){var n=(127&e[t])<<21;return n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]}function Ts(e){var t={key:e.type,description:"",data:"",mimeType:null,pictureType:null};if("APIC"===e.type){if(e.size<2||3!==e.data[0])return null;var n=e.data.subarray(1).indexOf(0);if(-1===n)return null;var i=Ue(xe(e.data,1,n)),r=e.data[2+n],a=e.data.subarray(3+n).indexOf(0);if(-1===a)return null;var o,s=Ue(xe(e.data,3+n,a));return o="--\x3e"===i?Ue(xe(e.data,4+n+a)):we(e.data.subarray(4+n+a)),t.mimeType=i,t.pictureType=r,t.description=s,t.data=o,t}return"TXXX"===e.type||"WXXX"===e.type?e.size<2||3!==e.data[0]||-1===(i=e.data.subarray(1).indexOf(0))?null:(n=Ue(xe(e.data,1,i)),e=Ue(xe(e.data,2+i)).replace(/\0*$/,""),t.description=n,t.data=e,t):"PRIV"===e.type?e.size<2||-1===(n=e.data.indexOf(0))?null:(n=Ue(xe(e.data,0,n)),t.description=n,"com.apple.streaming.transportStreamTimestamp"==n?(n=e.data.subarray(n.length+1),e=1&n[3],n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,e&&(n+=47721858.84),t.data=n):(e=we(e.data.subarray(n.length+1)),t.data=e),t):"T"===e.type[0]?e.size<2||3!==e.data[0]?null:(e=Ue(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):"W"===e.type[0]?(e=Ue(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=we(e.data),t):null}function Cs(e){for(var t=0,n=[];ys(e,t);){var i=bs(e,t+6);for(e[t+5]>>6&1&&(t+=10),i=(t+=10)+i;t+10<i;){var r=e.subarray(t),a=bs(r,4);(a=Ts(r={type:String.fromCharCode(r[0],r[1],r[2],r[3]),size:a,data:r.subarray(10,10+a)}))&&n.push(a),t+=r.size+10}As(e,t)&&(t+=10)}return n}function ws(e,t){for(var n=t=void 0===t?0:t,i=0;ys(e,t);)e[t+5]>>6&1&&(i+=10),i+=10,i+=bs(e,t+6),As(e,t+10)&&(i+=10),t+=i;return i>0?e.subarray(n,n+i):new Uint8Array([])}function xs(e){return new Date(Date.UTC(1900,0,1,0,0,0,0)+e).getTime()}function Ss(e,t){if(this.j=e,void 0!==t&&t){t=new Uint8Array(e.byteLength);for(var n=0,i=0;i<e.byteLength;i++)i>=2&&3==e[i]&&0==e[i-1]&&0==e[i-2]||(t[n]=e[i],n++);this.j=xe(t,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function Es(e){var t=e.j.byteLength-e.i,n=new Uint8Array(4),i=Math.min(4,e.i);0!==i&&(n.set(e.j.subarray(t,t+i)),e.h=new ha(n,0).$(),e.g=8*i,e.i-=i)}function ks(e,t){if(e.g<=t){t-=e.g;var n=Math.floor(t/8);t-=8*n,e.g-=n,Es(e)}e.h<<=t,e.g-=t}function Is(e,t){var n=Math.min(e.g,t),i=e.h>>>32-n;return e.g-=n,e.g>0?e.h<<=n:e.i>0&&Es(e),(n=t-n)>0?i<<n|Is(e,n):i}function Ms(e){var t;for(t=0;t<e.g;++t)if(e.h&2147483648>>>t)return e.h<<=t,e.g-=t,t;return Es(e),t+Ms(e)}function Ls(e){ks(e,1+Ms(e))}function Rs(e){return Is(e,Ms(e)+1)-1}function Ps(e){return 1&(e=Rs(e))?1+e>>>1:-1*(e>>>1)}function Ds(e){return 1===Is(e,1)}function Os(e){return Is(e,8)}function Ns(e,t){for(var n=8,i=8,r=0;r<t;r++)0!==i&&(i=(n+(i=Ps(e))+256)%256),n=0===i?n:i}function Us(e){return Os(e),Rs(e),Rs(e)}function Bs(){this.I=null,this.J=!1,this.m=this.K=null,this.j=[],this.g=[],this.D=this.F=null,this.i=[],this.h=[],this.G=null,this.l=[],this.C=this.H=this.u=this.A=null}function _s(e,t){if(1!=(t[0]<<16|t[1]<<8|t[2]))return null;var n={data:new Uint8Array(0),packetLength:t[4]<<8|t[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>t.byteLength-6)return null;var i=t[7];if(192&i){var r=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2;null==e.A&&(e.A=r),n.pts=qs(r,e.A),e.A=n.pts,n.dts=n.pts,64&i&&(i=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,null==e.u&&(e.u=i),n.dts=n.pts!=r?qs(i,e.u):i),e.u=n.dts}return e=t[8]+9,t.byteLength<=e?null:(n.data=t.subarray(e),n)}function js(e){var t=e.Jd();return t.length>1&&(e=t[0].pts,t=t[1].pts,!isNaN(t-e))?String(1/(t-e)*9e4):null}function qs(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e}function Fs(e){return!(Vs(e)<0)}function Vs(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71==e[n]&&71==e[n+188]&&71==e[n+376])return n;n++}return-1}G("shaka.util.Id3Utils",vs),vs.getID3Data=ws,vs.getID3Frames=Cs,G("shaka.util.ExpGolomb",Ss),(r=Bs.prototype).clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},r.gg=function(e){null!=this.C&&this.C!=e&&(this.u=this.A=null),this.C=e},r.parse=function(e){if(e.length<564)return this;for(var t=Math.max(0,Vs(e)),n=e.length-(e.length+t)%188,i=!1,r=t;r<n;r+=188)if(71==e[r]){var a=!!(64&e[r+1]),o=((31&e[r+1])<<8)+e[r+2];if((48&e[r+3])>>4>1){var s=r+5+e[r+4];if(s==r+188)continue}else s=r+4;switch(o){case 0:a&&(s+=e[s]+1),this.I=(31&e[s+10])<<8|e[s+11];break;case 17:case 8191:break;case this.I:a&&(s+=e[s]+1),o={audio:-1,video:-1,Af:-1,audioCodec:"",videoCodec:""};var u=s+3+((15&(a=e)[s+1])<<8|a[s+2])-4;for(s+=12+((15&a[s+10])<<8|a[s+11]);s<u;){var l=(31&a[s+1])<<8|a[s+2],c=(15&a[s+3])<<8|a[s+4];switch(a[s]){case 6:if(c>0)for(var d=s+5,h=c;h>2;){var p=a[d+1]+2;switch(a[d]){case 5:var f=Fe(a.subarray(d+2,d+p));-1==o.audio&&"Opus"===f?(o.audio=l,o.audioCodec="opus"):-1==o.video&&"AV01"===f&&(o.video=l,o.videoCodec="av1");break;case 106:-1==o.audio&&(o.audio=l,o.audioCodec="ac3");break;case 122:-1==o.audio&&(o.audio=l,o.audioCodec="ec3");break;case 124:-1==o.audio&&(o.audio=l,o.audioCodec="aac");break;case 127:"opus"==o.audioCodec&&(f=null,128===a[d+2]&&(f=a[d+3]),null!=f&&(this.H={channelCount:15&f?15&f:2,nk:f,sampleRate:48e3}))}d+=p,h-=p}break;case 15:-1==o.audio&&(o.audio=l,o.audioCodec="aac");break;case 17:-1==o.audio&&(o.audio=l,o.audioCodec="aac-loas");break;case 21:-1==o.Af&&(o.Af=l);break;case 27:-1==o.video&&(o.video=l,o.videoCodec="avc");break;case 3:case 4:-1==o.audio&&(o.audio=l,o.audioCodec="mp3");break;case 36:-1==o.video&&(o.video=l,o.videoCodec="hvc");break;case 129:-1==o.audio&&(o.audio=l,o.audioCodec="ac3");break;case 132:case 135:-1==o.audio&&(o.audio=l,o.audioCodec="ec3")}s+=c+5}-1!=(a=o).video&&(this.K=a.video,this.m=a.videoCodec),-1!=a.audio&&(this.F=a.audio,this.D=a.audioCodec),-1!=a.Af&&(this.G=a.Af),i&&!this.J&&(i=!1,r=t-188),this.J=!0;break;case this.K:s=e.subarray(s,r+188),a?this.j.push([s]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(s);break;case this.F:s=e.subarray(s,r+188),a?this.i.push([s]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(s);break;case this.G:s=e.subarray(s,r+188),a?this.l.push([s]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(s);break;default:i=!0}}return this},r.Wl=function(e){return Dt("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Oh(e,{Be:null,state:null})},r.Oh=function(e,t){var n=e.pts?e.pts/9e4:null,i=(e=e.data).byteLength,r=1;"hvc"==this.m&&(r=2);var a=t.state||0,o=a,s=0,u=[],l=-1,c=0;for(-1==a&&(l=0,c="hvc"==this.m?e[0]>>1&63:31&e[0],a=0,s=1);s<i;){var d=e[s++];a?1===a?a=d?0:2:d?1==d?(d=s-a-1,l>=0?u.push({data:e.subarray(l+r,d),fullData:e.subarray(l,d),type:c,time:n,state:null}):(a=u.length?u[u.length-1]:t.Be)&&(o&&s<=4-o&&a.state&&(a.data=a.data.subarray(0,a.data.byteLength-o),a.fullData=a.fullData.subarray(0,a.fullData.byteLength-o)),d>0&&(d=e.subarray(0,d),a.data=Ze(a.data,d),a.fullData=Ze(a.fullData,d),a.state=0)),s<i?(c="hvc"==this.m?e[s]>>1&63:31&e[s],l=s,a=0):a=-1):a=0:a=3:a=d?0:1}return l>=0&&a>=0&&u.push({data:e.subarray(l+r,i),fullData:e.subarray(l,i),type:c,time:n,state:a}),!u.length&&t.Be&&(n=u.length?u[u.length-1]:t.Be)&&(n.data=Ze(n.data,e),n.fullData=Ze(n.fullData,e)),t.state=a,u},r.getMetadata=function(){for(var e=[],t=g(this.l),n=t.next();!n.done;n=t.next())(n=_s(this,n=Ze.apply(He,m(n.value))))&&e.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:Cs(n.data),dts:n.dts,pts:n.pts});return e},r.Bb=function(){if(this.i.length&&!this.h.length)for(var e=g(this.i),t=e.next();!t.done;t=e.next()){var n=Ze.apply(He,m(t.value)),i=_s(this,n);t=this.h.length?this.h[this.h.length-1]:null,i&&null!=i.pts&&null!=i.dts&&(!t||t.pts!=i.pts&&t.dts!=i.dts)?this.h.push(i):this.h.length&&(n=i?i.data:n)&&((t=this.h.pop()).data=Ze(t.data,n),this.h.push(t))}return this.h},r.Jd=function(e){if(e=void 0===e||e,this.j.length&&!this.g.length){for(var t=g(this.j),n=t.next();!n.done;n=t.next()){var i=Ze.apply(He,m(n.value)),r=_s(this,i);n=this.g.length?this.g[this.g.length-1]:null,r&&null!=r.pts&&null!=r.dts&&(!n||n.pts!=r.pts&&n.dts!=r.dts)?this.g.push(r):this.g.length&&(i=r?r.data:i)&&((n=this.g.pop()).data=Ze(n.data,i),this.g.push(n))}if(e){for(t={Be:null,state:null},n=[],r=(i=g(this.g)).next();!r.done;r=i.next())(r=r.value).nalus=this.Oh(r,t),r.nalus.length&&(n.push(r),t.Be=r.nalus[r.nalus.length-1]);this.g=n}}return e?this.g:(e=this.g,this.g=[],e)},r.getStartTime=function(e){if("audio"==e){e=null;var t=this.Bb();return t.length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e}return"video"==e?(e=null,(t=this.Jd(!1)).length&&(e=t[0],e=Math.min(e.dts,e.pts)/9e4),e):null},r.oe=function(){return{audio:this.D,video:this.m}},r.zf=function(){for(var e=[],t=g(this.Jd()),n=t.next();!n.done;n=t.next())e.push.apply(e,m(n.value.nalus));return e},r.yl=function(){Dt("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var e=this.wh();return{height:e.height,width:e.width}},r.wh=function(){return"hvc"==this.m?function(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.zf();if(!n.length)return t;if(!(n=n.find(function(e){return 33==e.type})))return t;var i=new Ss(n.fullData,!0);Os(i),Os(i),Is(i,4);var r=Is(i,3);Ds(i);var a=Is(i,2),o=Is(i,1),s=Is(i,5),u=Is(i,32);n=Os(i);for(var l=Os(i),c=Os(i),d=Os(i),h=Os(i),p=Os(i),f=Os(i),g=[],m=[],v=0;v<r;v++)g.push(Ds(i)),m.push(Ds(i));if(r>0)for(v=r;v<8;v++)Is(i,2);for(v=0;v<r;v++)g[v]&&Is(i,88),m[v]&&Os(i);Rs(i),3==(r=Rs(i))&&Is(i,1),g=Rs(i),m=Rs(i);var y=v=0,A=0,b=0;return Ds(i)&&(v+=Rs(i),y+=Rs(i),A+=Rs(i),b+=Rs(i)),t.width=String(g-(v+y)*(1===r||2===r?2:1)),t.height=String(m-(A+b)*(1===r?2:1)),i=function(e){for(var t=0,n=0;n<32;n++)t|=(e>>n&1)<<31-n;return t>>>0}(u),o=1==o?"H":"L",a="hvc1."+["","A","B","C"][a]+s,a+="."+i.toString(16).toUpperCase(),a+="."+o+f,p&&(a+="."+p.toString(16).toUpperCase()),h&&(a+="."+h.toString(16).toUpperCase()),d&&(a+="."+d.toString(16).toUpperCase()),c&&(a+="."+c.toString(16).toUpperCase()),l&&(a+="."+l.toString(16).toUpperCase()),n&&(a+="."+n.toString(16).toUpperCase()),t.codec=a,t.frameRate=js(e),t}(this):function(e){var t={height:null,width:null,codec:null,frameRate:null},n=e.zf();if(!n.length)return t;if(!(n=n.find(function(e){return 7==e.type})))return t;var i=Os(n=new Ss(n.data)),r=Os(n),a=Os(n);if(Ls(n),Gs.includes(i)){var o=Rs(n);if(3===o&&ks(n,1),Ls(n),Ls(n),ks(n,1),Ds(n)){o=3!==o?8:12;for(var s=0;s<o;s++)Ds(n)&&Ns(n,s<6?16:64)}}if(Ls(n),0===(o=Rs(n)))Rs(n);else if(1===o)for(ks(n,1),Ls(n),Ls(n),o=Rs(n),s=0;s<o;s++)Ls(n);Ls(n),ks(n,1),o=Rs(n),s=Rs(n);var u=Is(n,1);0===u&&ks(n,1),ks(n,1);var l=0,c=0,d=0,h=0;return Ds(n)&&(l=Rs(n),c=Rs(n),d=Rs(n),h=Rs(n)),t.height=String((2-u)*(s+1)*16-2*d-2*h),t.width=String(16*(o+1)-2*l-2*c),t.codec="avc1."+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+a.toString(16).toUpperCase()).slice(-2),t.frameRate=js(e),t}(this)},G("shaka.util.TsParser",Bs),Bs.syncOffset=Vs,Bs.probe=Fs,Bs.prototype.getVideoInfo=Bs.prototype.wh,Bs.prototype.getVideoResolution=Bs.prototype.yl,Bs.prototype.getVideoNalus=Bs.prototype.zf,Bs.prototype.getCodecs=Bs.prototype.oe,Bs.prototype.getStartTime=Bs.prototype.getStartTime,Bs.prototype.getVideoData=Bs.prototype.Jd,Bs.prototype.getAudioData=Bs.prototype.Bb,Bs.prototype.getMetadata=Bs.prototype.getMetadata,Bs.prototype.parseNalus=Bs.prototype.Oh,Bs.prototype.parseAvcNalus=Bs.prototype.Wl,Bs.prototype.parse=Bs.prototype.parse,Bs.prototype.setDiscontinuitySequence=Bs.prototype.gg,Bs.prototype.clearData=Bs.prototype.clearData,Bs.Timescale=9e4;var Gs=[100,110,122,244,44,83,86,118,128,138,139,134];function Hs(e,t,n,i,r){var a=this;this.g=e,this.O=n,this.C=i,this.Z=t,this.l=new Map,this.F=new Map,this.La=new Map,this.h=null,this.Ca=!1,this.H=r||null,this.u=new Map,this.A=new Mt,this.j=new Map,this.J=null,this.L=new Vr,this.ya="",this.jb=!1,this.sa=!0,this.M=!1,this.D=this.P=null,this.i=zs(this,this.L),this.hb=this.G=!1,this.K=new ua(function(){return function(e){var t,n,i,r,a,o,s,u,l,c,d,h,p;return D(function(f){if(1==f.g){for(t=[],n=g(e.u),i=n.next();!i.done;i=n.next())for(r=i.value,a=g(r),o=a.next().value,s=a.next().value,u=s[0],l=o,e.u.set(l,s.slice(0,1)),u&&t.push(u.p.catch(Yi)),c=g(s.slice(1)),d=c.next();!d.done;d=c.next())d.value.p.reject(new Ie(2,7,7003,void 0));return e.h&&t.push(e.h.destroy()),T(f,Promise.all(t),2)}for(h=g(e.j.values()),p=h.next();!p.done;p=h.next())p.value.destroy();e.A&&(e.A.release(),e.A=null),e.g&&e.D&&e.g.removeChild(e.D),e.g&&e.P&&(e.g.removeChild(e.P),e.g.load(),e.g.disableRemotePlayback=!1),e.g=null,e.P=null,e.D=null,e.C=null,e.i=null,e.h=null,e.Z=null,e.l.clear(),e.La.clear(),e.j.clear(),e.J=null,e.u.clear(),e.H=null,e.W.clear(),e.O=null,C(f)})}(a)}),this.I=!1,this.V="UNKNOWN",this.fb=this.ib=!1,this.Na=new Vr,this.m=!1,this.ra=null,this.W=new Map,this.ea=this.R=this.oa=this.S=null,this.aa=new Vr,this.g.remote&&(this.M="disconnected"!=this.g.remote.state,this.A.o(this.g.remote,"connect",function(){a.M="disconnected"!=a.g.remote.state}),this.A.o(this.g.remote,"connecting",function(){a.M="disconnected"!=a.g.remote.state}),this.A.o(this.g.remote,"disconnect",function(){a.M="disconnected"!=a.g.remote.state}))}function zs(t,n){if(t.sa=!0,e.ManagedMediaSource){t.D||(t.g.disableRemotePlayback=!0);var i=new ManagedMediaSource;t.A.o(i,"startstreaming",function(){t.sa=!0}),t.A.o(i,"endstreaming",function(){t.sa=!1})}else i=new MediaSource;return t.A.ua(i,"sourceopen",function(){URL.revokeObjectURL(t.ya),n.resolve()}),t.A.ua(t.g,"playing",function(){t.jb=!0}),t.ya=mu(i),t.C.useSourceElements?(t.g.removeAttribute("src"),t.P&&t.g.removeChild(t.P),t.D&&t.g.removeChild(t.D),t.P=ds(t.ya),t.g.appendChild(t.P),t.D&&t.g.appendChild(t.D),t.g.load()):t.g.src=t.ya,i}function Ks(e,t,n,i){"audio"==t&&i&&(i=sr(i,n.mimeType));var r=ki(n.mimeType,i);if(t==it)Xs(e,r,e.I,n.external);else{var a=e.C.forceTransmux;(!Ft(r)||!e.I&&Bi.includes(r))&&(a=!0);var o=Ii(n.mimeType,i);if(a){if(a=tt("audio",(i||"").split(",")),i=tt("video",(i||"").split(",")),a&&i)return e.m=!0,Ks(e,"audio",n,a),void Ks(e,"video",n,i);(i=bi(o))&&(r=i(),e.j.set(t,r),r=r.convertCodecs(t,o))}o=r+e.C.addExtraFeaturesToSourceBuffer(r),la(e.K);try{var s=e.i.addSourceBuffer(o)}catch(t){throw new Ie(2,3,3015,t,"The mediaSource_ status was "+e.i.readyState+" expected 'open'",null)}e.I&&(s.mode=vu),e.A.o(s,"error",function(){var n=e.u.get(t)[0];n.p.reject(new Ie(2,3,3014,e.g.error?e.g.error.code:0,n.uri))}),e.A.o(s,"updateend",function(){return uu(e,t)}),e.l.set(t,s),e.F.set(t,r),e.La.set(t,!!n.drmInfos.length)}}function Ws(e){return e.sa&&!e.M&&!e.G}function Xs(e,t,n,i){e.h||(e.h=new _i(e.Z),e.h&&(e.h.C=e.C.modifyCueCallback));var r=e.h;i=i||e.Ca,e=e.V,"application/cea-608"==t||"application/cea-708"==t?r.i=null:(r.i=zi.get(t)(),r.i.setSequenceMode?r.i.setSequenceMode(n):Dt("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),r.i.setManifestType?r.i.setManifestType(e):Dt("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),r.D=i)}function Ys(e){return!e.G&&(!e.i||"ended"==e.i.readyState)}function Zs(e){return!e.G&&(!e.i||"closed"==e.i.readyState)}function Qs(e,t){return e.l.size?t==it?e.h.g:ns($s(e,t)):null}function Js(e,t){return e.l.size?t==it?e.h.h:is($s(e,t)):null}function $s(e,t){if(e.G||e.M)return null;try{return e.l.get(t).buffered}catch(n){return e.l.has(t),null}}function eu(e,t,n,i,r,a,o,s,u,l,c){var d,h,p,f,v,y,A,b,w,x,S,E,k,I,M,L,R,P,O;return o=void 0!==o&&o,s=void 0!==s&&s,u=void 0!==u&&u,l=void 0!==l&&l,D(function(N){switch(N.g){case 1:if(t!=(d=rt).Va){N.B(2);break}if("HLS"!=e.V){N.B(3);break}return T(N,e.Na,4);case 4:h=N.h,e.h.A=h;case 3:return T(N,function(e,t,n,i,r){var a,o,s,u,l,c,d;return D(function(h){if(1==h.g)return T(h,Promise.resolve(),2);if(!e.i||!e.l)return h.return();if(null==n||null==i)return e.i.parseInit(xe(t)),h.return();for(a=e.D?n:e.A,o={periodStart:e.A,segmentStart:n,segmentEnd:i,vttOffset:a},s=e.i.parseMedia(xe(t),o,r,[]),u=g(s),l=u.next();!l.done;l=u.next())c=l.value,e.C(c,r||null,o);d=s.filter(function(t){return t.startTime>=e.m&&t.startTime<e.u}),e.l.append(d),null==e.g&&(e.g=Math.max(n,e.m)),e.h=Math.min(i,e.u),C(h)})}(e.h,n,i?i.startTime:null,i?i.endTime:null,i?i.T()[0]:null),5);case 5:return N.return();case 2:if(l||!e.m){N.B(6);break}return T(N,eu(e,d.na,n,i,r,a,o,s,u,!0),7);case 7:return T(N,eu(e,d.Ha,n,i,r,a,o,s,u,!0),8);case 8:return N.return();case 6:if(!e.l.has(t))return N.return();if(p=e.l.get(t).timestampOffset,f=e.F.get(t),e.j.has(t)&&(f=e.j.get(t).getOriginalMimeType()),i&&(v=function(e,t,n,i,r,a,o){o=void 0!==o&&o;var s=null,u=[],l=xe(n);if(Bi.includes(a))(n=Cs(l)).length&&i&&((o=n.find(function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description}))&&"number"==typeof o.data&&(s=Math.round(o.data)/1e3),e.O.onMetadata([{cueTime:i.startTime,data:l,frames:n,dts:i.startTime,pts:i.startTime}],0,i.endTime));else if(a.includes("/mp4")&&i&&i.ia){l=new ga;var c=null!=r.emsgSchemeIdUris&&r.emsgSchemeIdUris.length>0||e.C.dispatchAllEmsgBoxes;c&&l.X("emsg",function(t){var n=r.emsgSchemeIdUris;if(0===t.version)var a=t.reader.od(),o=t.reader.od(),s=t.reader.$(),u=t.reader.$(),l=t.reader.$(),c=t.reader.$(),d=i.startTime+u/s;else s=t.reader.$(),u=(d=t.reader.Td()/s+i.timestampOffset)-i.startTime,l=t.reader.$(),c=t.reader.$(),a=t.reader.od(),o=t.reader.od();t=t.reader.ac(t.reader.getLength()-t.reader.Wa(),!0),(n&&n.includes(a)||e.C.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==a?e.O.Vl():(n=d+l/s,e.O.Tl({startTime:d,endTime:n,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:u,eventDuration:l,id:c,messageData:t}),("https://aomedia.org/emsg/ID3"==a||"https://developer.apple.com/streaming/emsg-id3"==a)&&(s=Cs(t)).length&&e.O.onMetadata([{cueTime:d,data:t,frames:s,dts:d,pts:d}],0,n)))});var d=i.ia.timescale;t=d&&!isNaN(d);var h=0,p=!1;t&&l.X("prft",function(t){var n=t.reader,i=t.version;n.$(),t=1e3*(t=n.$())+n.$()/4294967296*1e3,0===i?n=n.$():(i=n.$(),n=4294967296*i+(n=n.$())),t=xs(t),n=new H("prft",n=(new Map).set("detail",{wallClockTime:t,programStartDate:new Date(t-n/d*1e3)})),e.O.onEvent(n)}).box("moof",ma).box("traf",ma).X("tfdt",function(e){p||(h=po(e.reader,e.version).baseMediaDecodeTime/d,p=!0,c||e.parser.stop())}),(c||t)&&l.parse(n,!1,o),p&&0==i.timestampOffset&&(s=h)}else a.includes("/mp4")||a.includes("/webm")||!Fs(l)||(e.W.has(t)||e.W.set(t,new Bs),(u=e.W.get(t)).clearData(),u.gg(i.i),u.parse(l),null!=(l=u.getStartTime(t))&&(s=l),u=u.getMetadata());return{timestamp:s,metadata:u}}(e,t,n,i,r,f,u),y=v.timestamp,A=v.metadata,null!=y&&(null==e.S&&t==d.Ha&&(e.S=y,e.oa=i.startTime,null!=e.R&&(b=0,e.oa==e.ea&&(b=e.S-e.R),e.aa.resolve(b))),null==e.R&&t==d.na&&(e.R=y,e.ea=i.startTime,null!=e.S&&(w=0,e.oa==e.ea&&(w=e.S-e.R),e.aa.resolve(w))),x=y,S=Bi,!e.I&&S.includes(e.F.get(t))&&(x=0),E=i.startTime-x,(Math.abs(p-E)>=.001||o||s)&&(!u||E>0||!p)&&(p=E,e.fb&&(lu(e,t,function(){return au(e,t)},null),lu(e,t,function(){return ou(e,t,p)},null))),(t==d.Ha||!e.l.has(d.Ha))&&e.Na.resolve(p)),A.length)&&e.O.onMetadata(A,p,i?i.endTime:null),a&&t==d.Ha&&(e.h||Xs(e,"application/cea-608",e.I,!1),e.J||(k=f.split(";",1)[0],e.J=new Xt(k)),i?(I=e.J.Uf(n)).length&&function(e,t,n){for(var i=new Map,r=(t=g(t)).next();!r.done;r=t.next()){var a=r.value;r=a.stream,a=a.cue,i.has(r)||i.set(r,[]),Gi(e,a,n),a.startTime>=e.m&&a.startTime<e.u&&(i.get(r).push(a),r==e.F&&e.l.append([a]))}for(t=(n=g(i.keys())).next();!t.done;t=n.next())for(t=t.value,e.j.has(t)||e.j.set(t,[]),a=(r=g(i.get(t))).next();!a.done;a=r.next())a=a.value,e.j.get(t).push(a);Hi(e)}(e.h,I,p):e.J.init(n,s,c)),!e.j.has(t)){N.B(9);break}return T(N,e.j.get(t).transmux(n,r,i,e.i.duration,t),10);case 10:M=N.h,ArrayBuffer.isView(M)?n=M:(null!=(L=M).init&&(R=L.init,lu(e,t,function(){e.H&&_t(e.H,R,p,r),e.l.get(t).appendBuffer(R)},i?i.T()[0]:null)),n=L.data);case 9:if(n=function(e,t,n,i,r){if("mp4"!=Li(e.F.get(r)))return n;var a=null===i,o=e.La.get(r),s=e.O.Qk(),u=!1;i&&i.ia&&(u=i.ia.encrypted),i=i?i.T()[0]:null;var l=Re();return e.C.correctEc3Enca&&a&&"audio"===r&&(n=function(e){e=xe(e);var t=null;return(new ga).box("moov",ma).box("trak",ma).box("mdia",ma).box("minf",ma).box("stbl",ma).X("stsd",va).box("enca",function(e){return t=e.reader.h,Aa(e)}).box("sinf",ma).box("frma",function(e){e.parser.stop(),"ec-3"===vo(e.reader).codec&&t&&2!==t.getUint16(16)&&t.setUint16(16,2)}).parse(e),e}(n)),e.C.insertFakeEncryptionInInit&&o&&l.Ud(s,r)&&(a?n=function(e,t,n){function i(e){d.push({box:e,qj:1701733217})}function r(e){d.push({box:e,qj:1701733238})}function a(e){l=!0,e.parser.stop()}function o(e){c.push(e),ma(e)}var s,u=t=xe(t),l=!1,c=[],d=[];if((new ga).box("moov",o).box("trak",o).box("mdia",o).box("minf",o).box("stbl",o).X("stsd",function(e){s=e,c.push(e),va(e)}).X("encv",a).X("enca",a).X("dvav",r).X("dva1",r).X("dvh1",r).X("dvhe",r).X("dvc1",r).X("dvi1",r).X("hev1",r).X("hvc1",r).X("avc1",r).X("avc3",r).X("ac-3",i).X("ec-3",i).X("ac-4",i).X("Opus",i).X("fLaC",i).X("mp4a",i).parse(t),l)return t;if(0==d.length||!s)throw Ye(t),new Ie(2,3,3019,n);d.reverse();for(var h=(n=g(d)).next();!h.done;h=n.next())h=h.value,u=Ko(e,u,s,h.box,c,h.qj);return Re().zj()?((e=new Uint8Array(t.byteLength+u.byteLength)).set(u),e.set(t,u.byteLength),e):u}(t,n,i):!u&&l.Aj(r)&&(n=function(e){e=xe(e);var t=[];(new ga).box("mdat",function(e){t.push(e)}).parse(e);for(var n=[],i=0;i<t.length;i++){var r=t[i-1],a=t[i];n.push(zo(e.subarray(r?r.start+r.size:0,a.start+a.size)))}return Ze.apply(He,m(n))}(n))),a&&l.He()&&(n=function(e){function t(e){i.push({start:e.start,size:e.size}),ma(e)}var n=xe(e),i=[];return(new ga).box("moov",t).box("trak",t).box("mdia",t).box("minf",t).box("stbl",t).box("stsd",function(e){i.push({start:e.start,size:e.size});for(var t=Ee(n,e.start),r=0;r<e.size-3;r++){var a=t.getUint32(r);1633889587==a?t.setUint32(r,1700998451):1684103987==a&&t.setUint32(r,1684366131)}}).parse(n),n}(n)),n}(e,r,n,i,t),!i||!e.I||t==d.Va){N.B(11);break}if(!o&&!s){N.B(11);break}if(P=i.startTime,"HLS"!=e.V||e.m||t!=d.na||!e.l.has(d.Ha)){N.B(13);break}return T(N,e.aa,14);case 14:O=N.h,Math.abs(O)>.15&&(P-=O);case 13:lu(e,t,function(){return au(e,t)},null),lu(e,t,function(){return ou(e,t,P)},null);case 11:return T(N,lu(e,t,function(){var i=n;e.H&&_t(e.H,i,p,r),e.l.get(t).appendBuffer(i)},i?i.T()[0]:null),15);case 15:C(N)}})}function tu(e,t){var n;return D(function(i){return 1==i.g?t==(n=rt).Va?e.h?T(i,e.h.remove(0,1/0),0):i.return():t===n.Ha&&e.J&&e.h?T(i,e.h.remove(0,1/0),4):i.B(4):6!=i.g?T(i,lu(e,t,function(){return ru(e,t,0,e.i.duration)},null),6):e.m?T(i,lu(e,n.na,function(){return ru(e,n.na,0,e.i.duration)},null),0):i.B(0)})}function nu(e,t,n,i,r,a,o,s,u){var l,c;return D(function(d){return 1==d.g?t==(l=rt).Va?(a||(e.h.A=n),function(e,t,n){e.m=t,e.u=n}(e.h,i,r),d.return()):(c=[],T(d,function(e,t,n,i,r){var a,o,s,u,l,c;return D(function(d){return 1==d.g?(a=rt,o=gu(e,t,n,i,r),s=o.type,u=o.qc,l=o.Pf,(c=r.get(a.na))&&(e.m=c.isAudioMuxedInVideo),s==yu?(e.j.has(t)&&!u?(e.j.get(t).destroy(),e.j.delete(t)):!e.j.has(t)&&u?e.j.set(t,u):u&&(e.j.has(t)&&e.j.get(t).transmux!==u.transmux?(e.j.get(t).destroy(),e.j.set(t,u)):u.destroy()),d.return(!1)):s==bu?T(d,function(e,t,n,i){return lu(e,t,function(){if(t!==it){if(e.F.get(t),Vt()){e.j.has(t)&&(e.j.get(t).destroy(),e.j.delete(t)),i&&e.j.set(t,i);var r=n+e.C.addExtraFeaturesToSourceBuffer(n);e.l.get(t).changeType(r),e.F.set(t,n)}uu(e,t)}},null)}(e,t,l,u),3):s!=Au?d.B(3):(u&&u.destroy(),T(d,pu(e,r),3))):d.return(!0)})}(e,t,o,s,u),2)):(d.h||(c.push(lu(e,t,function(){return au(e,t)},null)),e.m&&c.push(lu(e,l.na,function(){return au(e,l.na)},null))),a||(c.push(lu(e,t,function(){return ou(e,t,n)},null)),e.m&&c.push(lu(e,l.na,function(){return ou(e,l.na,n)},null))),0==i&&r==1/0||(c.push(lu(e,t,function(){return su(e,t,i,r)},null)),e.m&&c.push(lu(e,l.na,function(){return su(e,l.na,i,r)},null))),c.length?T(d,Promise.all(c),0):d.B(0))})}function iu(e){D(function(t){return e.K.g||e.g.error||e.M||e.G||Ys(e)||Zs(e)?t.return():T(t,cu(e,function(){Ys(e)||Zs(e)||e.i.clearLiveSeekableRange()}),0)})}function ru(e,t,n,i){i<=n?uu(e,t):e.l.get(t).remove(n,i)}function au(e,t){var n=e.l.get(t),i=n.appendWindowStart,r=n.appendWindowEnd;n.abort(),n.appendWindowStart=i,n.appendWindowEnd=r,uu(e,t)}function ou(e,t,n){n<0&&(n+=.001),e.l.get(t).timestampOffset=n,uu(e,t)}function su(e,t,n,i){var r=e.l.get(t);r.appendWindowEnd===i&&r.appendWindowStart===n||(r.appendWindowStart=0,r.appendWindowEnd=i,r.appendWindowStart=n),uu(e,t)}function uu(e,t){if(e.G||e.K.g){var n=e.u.get(t);n&&n.length&&((n=n[0])&&n.p&&n.p.resolve(),e.u.set(t,[]))}else(n=e.u.get(t)[0])&&(n.p.resolve(),du(e,t))}function lu(e,t,n,i){return la(e.K),n={start:n,p:new Vr,uri:i},e.u.get(t).push(n),1==e.u.get(t).length&&hu(e,t),n.p}function cu(e,t){var n,i,r,a,o,s,u,l,c,d,h;return D(function(p){switch(p.g){case 1:for(la(e.K),n=[],i=Array.from(e.l.keys()),r=g(i),a=r.next(),o={};!a.done;o={ready:void 0},a=r.next())s=a.value,o.ready=new Vr,u={start:function(e){return function(){return e.ready.resolve()}}(o),p:o.ready,uri:null},(l=e.u.get(s)).push(u),n.push(o.ready),1==l.length&&u.start();return w(p,2),T(p,Promise.all(n),4);case 4:S(p,3);break;case 2:throw E(p);case 3:return w(p,5,6),T(p,t(),6);case 6:for(k(p),c=g(i),d=c.next();!d.done;d=c.next())h=d.value,du(e,h);I(p,0);break;case 5:throw new Ie(2,3,3015,E(p),e.g.error||"No error in the media element",null)}})}function du(e,t){e.u.get(t).shift(),hu(e,t)}function hu(e,t){var n=e.u.get(t)[0];if(n)try{n.start()}catch(i){"QuotaExceededError"==i.name?n.p.reject(new Ie(2,3,3017,t)):Ws(e)?n.p.reject(new Ie(2,3,3015,i,e.g.error||"No error in the media element",n.uri)):n.p.reject(new Ie(2,3,3024,t)),du(e,t)}}function pu(e,t){return cu(e,function(){return function(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A,b,C;return D(function(w){if(1==w.g){if(e.G||e.M)return w.return();for(n=rt,e.G=!0,e.m=!1,i=e.g.currentTime,r=e.g.autoplay,e.g.paused||(e.hb=!0),e.jb&&(e.g.autoplay=!1),x(w,2),e.A.Sa(),a=g(e.j.values()),o=a.next();!o.done;o=a.next())o.value.destroy();for(s=g(e.l.values()),u=s.next();!u.done;u=s.next()){l=u.value;try{e.i.removeSourceBuffer(l)}catch(e){}}return e.j.clear(),e.l.clear(),c=e.i.duration,e.L=new Vr,e.i=zs(e,e.L),T(w,e.L,4)}if(2!=w.g){for(!isNaN(c)&&c?e.i.duration=c:!isNaN(e.ra)&&e.ra&&(e.i.duration=e.ra),d=new Vr,h=e.i.sourceBuffers,p=t.size,f=0,m=function(){++f===p&&(d.resolve(),e.A.Fa(h,"addsourcebuffer",m))},e.A.o(h,"addsourcebuffer",m),v=g(t.keys()),y=v.next();!y.done;y=v.next())A=y.value,b=t.get(A),Ks(e,A,b,b.codecs);return(C=t.get(n.na))&&C.isAudioMuxedInVideo&&(e.m=!0),e.m&&!e.u.has(n.na)&&e.u.set(n.na,[]),e.g.currentTime=i,T(w,d,2)}return k(w),e.G=!1,la(e.K),e.A.ua(e.g,"canplaythrough",function(){e.K.g||(e.g.autoplay=r,e.hb&&(e.hb=!1,e.g.play()))}),I(w,0)})}(e,t)})}function fu(e,t,n,i){var r=!1,a=tt("audio",(i||"").split(",")),o=tt("video",(i||"").split(",")),s=o;"audio"==t&&(s=a),s||(s=i),i=ki(n,s);var u=Di(e.F.get(t)),l=e.C.forceTransmux;if(!Ft(i)||!e.I&&Bi.includes(i)?l=!0:l||n==u||(l=!Re().lg()&&Bi.includes(n)),l&&(n=bi(e=Ii(n,s)))){var c=n();a&&o&&(r=!0),i=c.convertCodecs(t,e)}return t=Ri(Oi(i)),{qc:c,zm:r,Hi:Di(i),codec:t,mimeType:i}}function gu(e,t,n,i,r){if(t==it)return{type:yu,Pf:n,qc:null};var a=Ri(Oi(e.F.get(t))),o=Di(e.F.get(t)),s=fu(e,t,n,i),u=s.qc,l=s.zm,c=s.Hi,d=s.codec;s=s.mimeType;var h=!0;return l&&e.F.has("audio")&&(n=fu(e,"audio",n,i),i=Ri(Oi(e.F.get("audio"))),h=Di(e.F.get("audio")),h=i==n.codec&&h==n.Hi,n.qc&&n.qc.destroy()),a===d&&o===c&&h?{type:yu,Pf:s,qc:u}:(a=!0,(e.m&&!r.has("audio")||l&&u&&!e.j.has(t))&&(a=!1),a&&"smooth"===e.C.codecSwitchingStrategy&&Vt()?{type:bu,Pf:s,qc:u}:(u&&u.destroy(),{type:Au,Pf:s,qc:null}))}(r=Hs.prototype).destroy=function(){return this.K.destroy()},r.init=function(e,t,n,i){t=void 0!==t&&t,n=void 0===n?"UNKNOWN":n,i=void 0!==i&&i;var r,a,o,s,u,l,c=this;return D(function(d){if(1==d.g)return r=rt,T(d,c.L,2);if(3!=d.g)return Ys(c)||Zs(c)?(X("Expected MediaSource to be open during init(); reopening the media source."),c.L=new Vr,c.i=zs(c,c.L),T(d,c.L,3)):d.B(3);for(c.I=t,c.V=n,c.ib=i,c.fb=!c.I&&"HLS"==c.V&&!c.ib,c.W.clear(),c.S=null,c.oa=null,c.R=null,c.ea=null,c.aa=new Vr,a=g(e.keys()),o=a.next();!o.done;o=a.next())s=o.value,u=e.get(s),Ks(c,s,u,u.codecs),c.m?(c.u.set(r.na,[]),c.u.set(r.Ha,[])):c.u.set(s,[]);(l=e.get(r.na))&&l.isAudioMuxedInVideo&&(c.m=!0),C(d)})},r.configure=function(e){this.C=e,this.h&&(this.h.C=e.modifyCueCallback)},r.Oc=function(){var e={total:this.G?[]:os(this.g.buffered),audio:os($s(this,"audio")),video:os($s(this,"video")),text:[]};if(this.h){var t=this.h.g,n=this.h.h;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},r.remove=function(e,t,n,i){var r,a,o=this;return D(function(s){return 1==s.g?(e==(r=rt).Ha&&o.J&&(o.J.remove(i),a=o.h.g||0,o.h.remove(a,n)),e==r.Va?T(s,o.h.remove(t,n),0):n>t?T(s,lu(o,e,function(){return ru(o,e,t,n)},null),5):s.B(0)):o.m?T(s,lu(o,r.na,function(){return ru(o,r.na,t,n)},null),0):s.B(0)})},r.flush=function(e){var t,n=this;return D(function(i){return 1==i.g?e==(t=rt).Va?i.return():T(i,lu(n,e,function(){n.g.currentTime-=.001,uu(n,e)},null),2):n.m?T(i,lu(n,t.na,function(){var e=t.na;n.g.currentTime-=.001,uu(n,e)},null),0):i.B(0)})},r.endOfStream=function(e){var t=this;return D(function(n){return T(n,cu(t,function(){Ys(t)||Zs(t)||(e?t.i.endOfStream(e):t.i.endOfStream())}),0)})},r.Fb=function(e){var t=this;return D(function(n){return T(n,cu(t,function(){if(t.C.durationReductionEmitsUpdateEnd&&e<t.i.duration)for(var n=g(t.l.keys()),i=n.next();!i.done;i=n.next()){i=i.value;var r={start:function(){},p:new Vr,uri:null};t.u.get(i).unshift(r)}t.i.duration=e,t.ra=e}),0)})},r.getDuration=function(){return this.i.duration};var mu=e.URL.createObjectURL,vu="sequence",yu="none",Au="reset",bu="changeType";function Tu(e,t,n){this.i=e,this.F=t,this.A=this.l=1/0,this.h=1,this.g=this.j=null,this.C=0,this.D=!0,this.J=!1,this.I=0,this.G=void 0===n||n,this.H=0,this.u=!1,this.m=e}function Cu(e,t,n,i){var r=this;this.A=i,this.g=e,this.F=t,this.h=n,this.j=new Mt,this.m=!1,this.l=0,this.D=!1,this.H=this.G=0,this.u=function(e){if(!e.h.stallEnabled)return null;var t=e.h.stallThreshold,n=e.h.stallSkip;return new xu(new Su(e.g),t,function(){return D(function(t){if(1==t.g)return os(e.g.buffered).length?n?(e.g.currentTime+=n,t.B(2)):T(t,e.g.play(),3):t.return();if(2!=t.g){if(!e.g)return t.return();e.g.pause(),e.g.play()}e.H++,e.A(new H("stalldetected")),C(t)})})}(this),this.C=!1,this.j.o(e,"waiting",function(){return wu(r)}),this.i=new Wi(function(){wu(r)}).xa(this.h.gapJumpTimerTime)}function wu(e){if(0!=e.g.readyState){if(e.g.seeking){if(!e.m)return}else e.m=!1;if(!e.g.paused||e.g.currentTime==e.l&&(e.g.autoplay||e.g.currentTime!=e.l)){var t;if(!(t=!e.u)){var n=(t=e.u).h,i=Eu(n),r=n.g.currentTime,a=Date.now()/1e3;t.g==r&&t.m==i||(t.l=a,t.g=r,t.m=i,t.i=!1),(i=(r=a-t.l)>=t.u&&i&&!t.i)&&(t.j&&t.j(t.g,r),t.i=!0,t.g=n.g.currentTime),t=!i}t&&(t=e.g.currentTime,i=function(e,t,n){return e&&e.length&&!ts(e)&&(e=os(e).findIndex(function(e,i,r){return e.start>t&&(0==i||r[i-1].end-t<=n)}))>=0?e:null}(n=e.g.buffered,t,e.h.gapDetectionThreshold),null==i||0==i&&!e.C||(r=n.start(i),(a=e.h.gapPadding)&&(r=Math.ceil(100*(r+a))/100),r>=e.F.Lb()||r-t<.001||(0!=i&&n.end(i-1),function(e,t){e.D=!0,e.j.ua(e.g,"seeked",function(){e.D=!1}),e.g.currentTime=t}(e,r),t==e.l&&(e.l=r),e.G++,e.A(new H("gapjumped")))))}}}function xu(e,t,n){this.h=e,this.m=Eu(e),this.g=e.g.currentTime,this.l=Date.now()/1e3,this.i=!1,this.u=t,this.j=n}function Su(e){var t=this;this.g=e,this.h=new Mt,this.i=!1,this.h.o(this.g,"audiofocuspaused",function(){t.i=!0}),this.h.o(this.g,"audiofocusgranted",function(){t.i=!1}),this.h.o(this.g,"audiofocuslost",function(){t.i=!0})}function Eu(e){if(e.g.paused||0==e.g.playbackRate||e.i||0==e.g.buffered.length)var t=!1;else e:{t=e.g.currentTime;for(var n=(e=g(os(e.g.buffered))).next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function ku(e,t,n,i){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?i():(t=Iu.value().get(t),n.ua(e,t,i))}(r=Tu.prototype).getDuration=function(){return this.l},r.Wk=function(){return this.h},r.Nj=function(e){this.i=e},r.Fb=function(e){this.l=e},r.cl=function(){return this.i},r.Kj=function(e){this.C=e},r.sd=function(e){e&&!this.D&&(this.J=!0),this.D=e},r.hg=function(e){this.A=e},r.yf=function(){return this.A},r.bi=function(e){this.F=e},r.Lk=function(){return this.F},r.tj=function(e,t){if(0!=e.length){var n=(Date.now()+this.C)/1e3;if(0!=(e=e.filter(function(e){return e.start+t<n})).length){var i=e[e.length-1].end+t;this.Qf(e[0].start+t),this.h=e.reduce(function(e,t){return Math.max(e,t.end-t.start)},this.h),this.g=Math.max(this.g,i),null!=this.i&&this.G&&!this.u&&(this.i=n-this.g-this.h)}}},r.Ce=function(e){if(0!=e.length){for(var t=e[0].startTime,n=e[0].endTime,i=(Date.now()+this.C)/1e3,r=(e=g(e)).next();!r.done;r=e.next())i<(r=r.value).startTime||(t=Math.min(t,r.startTime),n=Math.max(n,r.endTime),this.h=Math.max(this.h,r.endTime-r.startTime));this.Qf(t),this.g=Math.max(this.g,n),null!=this.i&&this.G&&!this.u&&(this.i=i-this.g-this.h)}},r.sj=function(e,t){this.Qf(e),t==1/0||this.U()||(this.g=Math.max(this.g,t))},r.Xk=function(){return this.g},r.Kf=function(){this.u=!0},r.Jl=function(){return this.u},r.di=function(e){this.m=e},r.Pk=function(){return this.m},r.Qf=function(e){null==this.j?this.j=e:this.J||(this.j=Math.min(this.j,e))},r.Kh=function(e){this.h=Math.max(this.h,e)},r.offset=function(e){null!=this.j&&(this.j+=e),null!=this.g&&(this.g+=e)},r.U=function(){return this.l==1/0&&!this.D},r.ld=function(){return this.l!=1/0&&!this.D},r.Mb=function(){return Math.max(this.I,this.Rc()-this.A)},r.Pj=function(e){this.I=e},r.Rc=function(){return this.U()||this.ld()?Math.min(Math.max(0,(Date.now()+this.C)/1e3-this.h-this.i)+this.H,this.l):this.g?Math.min(this.g,this.l):this.l},r.qe=function(e){var t=Math.max(this.j,this.I);return this.A==1/0?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.Rc()-this.A+e,this.Lb()))},r.fc=function(){return this.qe(0)},r.Lb=function(){return Math.max(0,this.Rc()-(this.U()||this.ld()?this.F:0))},r.dk=function(){return!(null==this.i||null!=this.g&&this.G)},r.Jj=function(e){this.H=e},r.Bk=function(){return this.H},G("shaka.media.PresentationTimeline",Tu),Tu.prototype.getAvailabilityTimeOffset=Tu.prototype.Bk,Tu.prototype.setAvailabilityTimeOffset=Tu.prototype.Jj,Tu.prototype.usingPresentationStartTime=Tu.prototype.dk,Tu.prototype.getSeekRangeEnd=Tu.prototype.Lb,Tu.prototype.getSeekRangeStart=Tu.prototype.fc,Tu.prototype.getSafeSeekRangeStart=Tu.prototype.qe,Tu.prototype.getSegmentAvailabilityEnd=Tu.prototype.Rc,Tu.prototype.setUserSeekStart=Tu.prototype.Pj,Tu.prototype.getSegmentAvailabilityStart=Tu.prototype.Mb,Tu.prototype.isInProgress=Tu.prototype.ld,Tu.prototype.isLive=Tu.prototype.U,Tu.prototype.offset=Tu.prototype.offset,Tu.prototype.notifyMaxSegmentDuration=Tu.prototype.Kh,Tu.prototype.notifyMinSegmentStartTime=Tu.prototype.Qf,Tu.prototype.getInitialProgramDateTime=Tu.prototype.Pk,Tu.prototype.setInitialProgramDateTime=Tu.prototype.di,Tu.prototype.isStartTimeLocked=Tu.prototype.Jl,Tu.prototype.lockStartTime=Tu.prototype.Kf,Tu.prototype.getMaxSegmentEndTime=Tu.prototype.Xk,Tu.prototype.notifyPeriodDuration=Tu.prototype.sj,Tu.prototype.notifySegments=Tu.prototype.Ce,Tu.prototype.notifyTimeRange=Tu.prototype.tj,Tu.prototype.getDelay=Tu.prototype.Lk,Tu.prototype.setDelay=Tu.prototype.bi,Tu.prototype.getSegmentAvailabilityDuration=Tu.prototype.yf,Tu.prototype.setSegmentAvailabilityDuration=Tu.prototype.hg,Tu.prototype.setStatic=Tu.prototype.sd,Tu.prototype.setClockOffset=Tu.prototype.Kj,Tu.prototype.getPresentationStartTime=Tu.prototype.cl,Tu.prototype.setDuration=Tu.prototype.Fb,Tu.prototype.setPresentationStartTime=Tu.prototype.Nj,Tu.prototype.getMaxSegmentDuration=Tu.prototype.Wk,Tu.prototype.getDuration=Tu.prototype.getDuration,Cu.prototype.release=function(){this.j&&(this.j.release(),this.j=null),null!=this.i&&(this.i.stop(),this.i=null),this.u&&(this.u.release(),this.u=null),this.g=this.F=this.A=null},Cu.prototype.Tf=function(){this.C=!0,this.i&&this.i.xa(this.h.gapJumpTimerTime),wu(this)},xu.prototype.release=function(){this.h&&this.h.release(),this.j=this.h=null},Su.prototype.release=function(){this.h&&this.h.release(),this.h=null};var Iu=new Le(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function Mu(e,t,n,i){var r=this;this.g=e,this.m=t,this.A=n,this.l=null,this.j=function(){return null==r.l&&(r.l=i()),r.l},this.u=!1,this.h=new Mt,this.i=new Ou(e),ku(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){Pu(r,r.j())})}function Lu(e){return e.u?e.g.currentTime:e.j()}function Ru(e,t){e.g.readyState>0?Nu(e.i,t):ku(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){Pu(e,e.j())})}function Pu(e,t){Math.abs(e.g.currentTime-t)<.001?Du(e):(e.h.ua(e.g,"seeking",function(){Du(e)}),Nu(e.i,e.g.currentTime&&0!=e.g.currentTime?e.g.currentTime:t))}function Du(e){e.u=!0,e.h.o(e.g,"seeking",function(){return e.m()}),e.A(e.g.currentTime)}function Ou(e){var t=this;this.g=e,this.m=10,this.j=this.l=this.i=0,this.h=new Wi(function(){t.i<=0||t.g.currentTime!=t.l||t.g.currentTime===t.j?t.h.stop():(t.g.currentTime=t.j,t.i--)})}function Nu(e,t){e.l=e.g.currentTime,e.j=t,e.i=e.m,e.g.currentTime=t,e.h.xa(.1)}function Uu(e){this.g=e,this.i=!1,this.h=null,this.j=new Mt}function Bu(e){return e.g.getStartDate&&(e=e.g.getStartDate().getTime(),!isNaN(e))?e/1e3:null}function _u(e,t){return(e=e.g.seekable).length>0&&(t=Math.max(e.start(0),t),t=Math.min(e.end(e.length-1),t)),t}function ju(e,t,n,i,r,a){var o=this;this.h=e,this.g=t.presentationTimeline,this.l=n,this.A=r,this.u=null,this.i=new Cu(e,t.presentationTimeline,n,a),this.j=new Mu(e,function(){e:{var e=o.i;e.m=!0,e.C=!1,e.i&&e.i.xa(e.h.gapJumpTimerTime),wu(e);var t=Lu(o.j);if(e=Vu(o,t),!Gt()&&Math.abs(e-t)>.001){t=!1;var n=Re().Fj();if(n){var i=Date.now()/1e3;(!o.u||o.u<i-n)&&(o.u=i,t=!0)}else t=!0;if(t){Ru(o.j,e),e=void 0;break e}}o.A(),e=void 0}return e},function(e){var t=o.i;t.g.seeking&&!t.m&&(t.m=!0,t.l=e),t.i&&t.i.xa(t.h.gapJumpTimerTime),wu(t)},function(){return qu(o,i)}),this.m=new Wi(function(){if(0!=o.h.readyState&&!o.h.paused){var e=Lu(o.j),t=o.g.fc(),n=o.g.Lb();n-t<3&&(t=n-3),e<t&&(e=Vu(o,e),o.h.currentTime=e)}})}function qu(e,t){return null==t?t=e.g.getDuration()<1/0?e.g.fc():e.g.Lb():t instanceof Date?t=t.getTime()/1e3-(e.g.m||e.g.i):t<0&&(t=e.g.Lb()+t),Fu(e,Gu(e,t))}function Fu(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function Vu(e,t){var n=e.l.rebufferingGoal,i=e.l.safeSeekOffset,r=e.g.fc(),a=e.g.Lb(),o=e.g.getDuration();a-r<3&&(r=a-3);var s=e.g.qe(n),u=e.g.qe(i);return n=e.g.qe(n+i),t>=o?Fu(e,t):t>a?a-e.l.safeSeekEndOffset:t<r?e.g.U()&&e.l.returnToEndOfLiveWindowWhenOutside?a-e.l.safeSeekEndOffset:rs(e.h.buffered,u)?u:n:t>=s||rs(e.h.buffered,t)?t:n}function Gu(e,t){var n=e.g.fc();return t<n?n:t>(e=e.g.Lb())?e:t}function Hu(e){this.g=e,this.m=null,this.i=0,this.u=!1}function zu(e){return e.g[0]||null}function Ku(e,t,n){return new Hu([e=new Zo(e,e+t,function(){return n},0,null,null,e,e,e+t)])}function Wu(e,t,n,i){this.i=e,this.h=t,this.g=n,this.reverse=i}function Xu(){Hu.call(this,[]),this.h=[]}function Yu(e){var t=this;this.g=e,this.j=!1,this.i=this.g.xf(),this.h=new Wi(function(){t.g.pj(.25*t.i)})}function Zu(e){e.h.stop();var t=e.j?0:e.i;if(t>=0)try{return void(e.g.xf()!=t&&e.g.ei(t))}catch(e){}e.h.xa(.25),0!=e.g.xf()&&e.g.ei(0)}function Qu(e){var t=this;this.j=e,this.h=new Mt,this.g=new Set,this.i=new Wi(function(){Ju(t,!1)}).Ka(),e.paused||this.i.xa(.25),this.h.o(e,"playing",function(){t.i.Ka().xa(.25)}),this.h.o(e,"pause",function(){t.i.stop()})}function Ju(e,t){for(var n=e.j.currentTime,i=(e=g(e.g)).next();!i.done;i=e.next())i.value.j(n,t)}function $u(e){ee.call(this),this.g=new Map,this.h=e}function el(e,t,n){return!!((e=e.h()[n])&&e.length>0&&(n=e[e.length-1].end,t>=e[0].start&&t<n))}function tl(e){var t={bandwidth:e.bandwidth||0,audioSamplingRate:null,codecs:e.codecs,contentType:e.type,frameRate:null,height:null,mimeType:e.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:e.roles,language:null};return"video"==e.type&&(t.frameRate=e.frameRate||null,t.height=e.height||null,t.pixelAspectRatio=e.pixelAspectRatio||null,t.width=e.width||null),"audio"==e.type&&(t.audioSamplingRate=e.audioSamplingRate,t.channelsCount=e.channelsCount,t.label=e.label||null,t.language=e.language),t}function nl(e){ee.call(this),this.h=new Map,this.i=e,this.g=null}function il(e,t){var n=t.schemeIdUri+"_"+t.id+"_"+t.startTime.toFixed(1)+"_"+t.endTime.toFixed(1);e.h.has(n)||(e.h.set(n,t),t=new H("regionadd",new Map([["region",t]])),e.dispatchEvent(t),function(e){e.g||(e.g=new Wi(function(){for(var t=e.i(),n=g(e.h),i=n.next();!i.done;i=n.next()){var r=g(i.value);i=r.next().value,(r=r.next().value).endTime<t.start&&(e.h.delete(i),i=new H("regionremove",new Map([["region",r]])),e.dispatchEvent(i))}!e.h.size&&e.g&&(e.g.stop(),e.g=null)}).xa(2))}(e))}function rl(e,t,n,i,r){this.m=e,this.i=t,this.l=n,this.g=new Map,this.j=new Map,this.h=null,this.u=i,this.A=r||function(e,t){return!(t.fastSwitching&&e.nd&&e.ye)}}function al(e,t){e.l=t;for(var n=(e=g(e.g.values())).next();!n.done;n=e.next())n.value.g=t}function ol(e,t,n){if(n=void 0!==n&&n,!e.i.segmentIndex)return Promise.resolve();if(e.h||(e.h=e.i.segmentIndex.ec(t,!0,e.u)),!e.h)return Promise.resolve();for(n&&e.h.next(),t=[];e.g.size<e.m&&(n=e.h.next().value);){var i=!0;if(n.isPreload()&&null!=n.endByte&&(i=!1),2==n.Tc()&&(i=!1),n.hc(!1)&&(i=!1),i&&n.ia&&t.push(sl(e,n.ia)),i&&!e.g.has(n)&&(i=new pl(e.l),t.push(fl(i,n,e.i)),e.g.set(n,i)),!e.A(n,e.i))break}return cl(e),Promise.all(t)}function sl(e,t){if(!e.i.segmentIndex||t.hc()||Array.from(e.j.keys()).some(function(e){return Yo(e,t)}))return Promise.resolve();var n=new pl(e.l),i=fl(n,t,e.i);return e.j.set(t,n),i}function ul(e,t){for(var n=(t=g(t.keys())).next();!n.done;n=t.next())(n=n.value)&&hl(e,n)}function ll(e){ul(e,e.g),ul(e,e.j),e.h=null}function cl(e){if(e.g.size)for(var t=Array.from(e.g.keys()),n=g(e.j.keys()),i=n.next(),r={};!i.done;r={Dh:void 0},i=n.next())r.Dh=i.value,t.some(function(e){return function(t){return Yo(t.ia,e.Dh)}}(r))||hl(e,r.Dh)}function dl(e,t){e.m=t;for(var n=Array.from(e.g.keys());n.length>t;){var i=n.pop();i&&hl(e,i)}cl(e)}function hl(e,t){var n=e.g;t instanceof Xo&&(n=e.j),e=n.get(t),n.delete(t),e&&e.abort()}function pl(e){this.g=e,this.De=this.mi=null}function fl(e,t,n){var i=new Uint8Array(0);return e.De=e.g(t,n,function(t){return D(function(n){if(1==n.g)return i=i.byteLength>0?Ze(i,t):t,e.mi?T(n,e.mi(i),3):n.B(0);i=new Uint8Array(0),C(n)})}),e.De.promise.catch(function(e){return e instanceof Ie&&7001==e.code?Promise.resolve():Promise.reject(e)})}function gl(e){var t=Di(e);return{type:t.split("/")[0],mimeType:t,codecs:e=Oi(e),language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,Oe:null,colorGamut:null,frameRate:null}}function ml(e,t,n){function i(e){o=e.name;var t=e.reader;t.skip(24);var n=t.Ia(),i=t.Ia();t.skip(50),p=String(n),h=String(i),e.reader.Pa()&&ma(e)}function r(e){var t=mo(e.reader);f=t.channelCount,m=t.sampleRate,a(e.name)}function a(e){switch(e=e.toLowerCase()){case"avc1":case"avc3":u.push(e+".42E01E"),c=!0;break;case"hev1":case"hvc1":u.push(e+".1.6.L93.90"),c=!0;break;case"dvh1":case"dvhe":u.push(e+".05.04"),c=!0;break;case"vp09":u.push(e+".00.10.08"),c=!0;break;case"av01":u.push(e+".0.01M.08"),c=!0;break;case"mp4a":s.push("mp4a.40.2"),l=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":s.push(e),l=!0;break;case"apac":s.push("apac.31.00"),l=!0}}var o,s=[],u=[],l=!1,c=!1,d=null,h=null,p=null,f=null,m=null,v=null,y=null;if((new ga).box("moov",ma).box("trak",ma).box("mdia",ma).X("mdhd",function(e){d=fo(e.reader,e.version).language}).box("minf",ma).box("stbl",ma).X("stsd",va).box("mp4a",function(e){var t=mo(e.reader);f=t.channelCount,m=t.sampleRate,e.reader.Pa()?ma(e):a(e.name)}).box("esds",function(e){e=e.reader;for(var t,n,i="mp4a";e.Pa();){t=e.ba();for(var r=e.ba();128&r;)r=e.ba();if(3==t)e.Ia(),128&(r=e.ba())&&e.Ia(),64&r&&e.skip(e.ba()),32&r&&e.Ia();else if(4==t)n=e.ba(),e.skip(12);else if(5==t)break}n&&(i+="."+yo(n),5==t&&e.Pa()&&(31===(n=(248&(t=e.ba()))>>3)&&e.Pa()&&(n=32+((7&t)<<3)+((224&e.ba())>>5)),i+="."+n)),s.push(i),l=!0}).box("ac-3",r).box("ec-3",r).box("ac-4",r).box("Opus",r).box("fLaC",r).box("apac",r).box("avc1",i).box("avc3",i).box("hev1",i).box("hvc1",i).box("dva1",i).box("dvav",i).box("dvh1",i).box("dvhe",i).box("vp09",i).box("av01",i).box("avcC",function(e){var t=o||"";switch(o){case"dvav":t="avc3";break;case"dva1":t="avc1"}(e=e.reader).skip(1),e=t+"."+yo(e.ba())+yo(e.ba())+yo(e.ba()),u.push(e),c=!0}).box("hvcC",function(e){var t=o||"";switch(o){case"dvh1":t="hvc1";break;case"dvhe":t="hev1"}var n=e.reader;n.skip(1);var i=["","A","B","C"][(e=n.ba())>>6],r=31&e,a=n.$(),s=(32&e)>>5?"H":"L";e=[n.ba(),n.ba(),n.ba(),n.ba(),n.ba(),n.ba()],n=n.ba();for(var l=0,d=0;d<32&&(l|=1&a,31!=d);d++)l<<=1,a>>=1;for(t=t+"."+i+r+"."+yo(l,!0),t+="."+s+n,i="",r=e.length;r--;)((s=e[r])||i)&&(i="."+s.toString(16).toUpperCase()+i);t+=i,u.push(t),c=!0}).box("dvcC",function(e){var t=o||"";switch(o){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var n=e.reader;n.skip(2),e=n.ba(),n=n.ba(),u.push(t+"."+Ao(e>>1&127)+"."+Ao(e<<5&32|n>>3&31)),c=!0}).box("dvvC",function(e){var t=o||"";switch(o){case"hvc1":t="dvh1";break;case"hev1":t="dvhe";break;case"avc1":t="dva1";break;case"avc3":t="dvav";break;case"av01":t="dav1"}var n=e.reader;n.skip(2),e=n.ba(),n=n.ba(),u.push(t+"."+Ao(e>>1&127)+"."+Ao(e<<5&32|n>>3&31)),c=!0}).X("vpcC",function(e){var t=o||"",n=e.reader;e=n.ba();var i=n.ba();n=n.ba()>>4&15,u.push(t+"."+Ao(e)+"."+Ao(i)+"."+Ao(n)),c=!0}).box("av1C",function(e){var t=o||"";if("dav1"===o)t="av01";var n=e.reader;n.skip(1);var i=(e=n.ba())>>>5,r=(64&(n=n.ba()))>>6;u.push(t+"."+i+"."+Ao(31&e)+(n>>>7?"H":"M")+"."+Ao(2===i&&r?(32&n)>>5?12:10:r?10:8)+"."+((16&n)>>4)+"."+((8&n)>>3)+((4&n)>>2)+(3&n)+"."+Ao(1)+"."+Ao(1)+"."+Ao(1)+".0"),c=!0}).box("enca",Aa).box("encv",ya).box("sinf",ma).box("frma",function(e){a(e=vo(e.reader).codec)}).box("colr",function(e){u=u.map(function(t){if(t.startsWith("av01.")){var n=e.reader,i=n.Wa(),r=n.ac(4,!1),a=String.fromCharCode(r[0]);if(a+=String.fromCharCode(r[1]),a+=String.fromCharCode(r[2]),"nclx"===(a+=String.fromCharCode(r[3]))){r=n.Ia(),a=n.Ia();var o=n.Ia(),s=n.ba()>>7,u=t.split(".");10==u.length&&(u[6]=Ao(r),u[7]=Ao(a),u[8]=Ao(o),u[9]=String(s),t=u.join("."))}n.seek(i)}return t});var t=function(e){var t=null,n=null,i=e.ac(4,!1),r=String.fromCharCode(i[0]);if(r+=String.fromCharCode(i[1]),r+=String.fromCharCode(i[2]),"nclx"===(r+=String.fromCharCode(i[3]))){switch(e.Ia()){case 1:case 5:case 6:case 7:t="srgb";break;case 9:t="rec2020";break;case 11:case 12:t="p3"}switch(i=e.Ia(),e.Ia(),i){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:t,Oe:n}}(e.reader),n=t.colorGamut;v=t.Oe,y=n}).parse(e||t,!0,!0),!s.length&&!u.length)return null;var A=l&&!c,b=new Map;if(c&&!n){n=new Xt("video/mp4"),e&&n.init(e);try{n.Uf(t);for(var T=g(n.zg()),C=T.next();!C.done;C=T.next()){var w=C.value;b.set(w,w)}}catch(e){}n.fe()}return{type:A?"audio":"video",mimeType:A?"audio/mp4":"video/mp4",codecs:vl(s.concat(u)).join(", "),language:d,height:h,width:p,channelCount:f,sampleRate:m,closedCaptions:b,Oe:v,colorGamut:y,frameRate:null}}function vl(e){for(var t=new Set,n=[],i=(e=g(e)).next();!i.done;i=e.next()){var r=Pi(i=i.value);t.has(r)||(n.push(i),t.add(r))}return t=nt("audio",n),i=nt("video",n),e=nt(it,n),i=function(e){if(e.length<=1)return e;var t=e.find(function(e){return e.startsWith("dvav.")||e.startsWith("dva1.")||e.startsWith("dvh1.")||e.startsWith("dvhe.")||e.startsWith("dav1.")||e.startsWith("dvc1.")||e.startsWith("dvi1.")});return t?Ft('video/mp4; codecs="'+t+'"')?[t]:e.filter(function(e){return e!=t}):e}(i),t=t.concat(i).concat(e),n.length&&!t.length?n:t}function yl(t,n,i){var r,a,o,s,u;return D(function(l){if(1==l.g)return(r=n).cryptoKey?l.B(2):T(l,r.fetchKey(),3);if(!(a=r.iv))for(a=xe(new ArrayBuffer(16)),o=r.firstMediaSequenceNumber+i,s=a.byteLength-1;s>=0;s--)a[s]=255&o,o>>=8;return u="CBC"==n.blockCipherMode?{name:"AES-CBC",iv:a}:{name:"AES-CTR",counter:a,length:64},l.return(e.crypto.subtle.decrypt(u,r.cryptoKey,t))})}function Al(e,t,n,i,r){return e=ea(e,i,r),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function bl(e,t){var n=this;this.g=t,this.j=e,this.i=null,this.L=new Map,this.F=1,this.C=this.u=null,this.S=0,this.h=new Map,this.M=!1,this.V=null,this.D=!1,this.l=new ua(function(){return function(e){var t,n,i,r,a,o;return D(function(s){if(1==s.g){for(e.A&&e.A.stop(),e.A=null,e.K&&e.K.stop(),e.K=null,e.G&&(e.G.release(),e.G=null),t=[],n=g(e.h.values()),i=n.next();!i.done;i=n.next())ql(r=i.value),t.push(Fl(r)),r.ma&&(ll(r.ma),r.ma=null);for(a=g(e.m.values()),o=a.next();!o.done;o=a.next())ll(o.value);return T(s,Promise.all(t),2)}e.h.clear(),e.m.clear(),e.g=null,e.j=null,e.i=null,e.I=null,C(s)})}(n)}),this.P=Date.now()/1e3,this.m=new Map,this.R={projection:null,hfov:null},this.Z=0,this.W=1/0,this.H=null,this.O=[],this.A=new Wi(function(){if(n.j&&n.g)if(n.j.presentationTimeline.U()){var e=n.j.presentationTimeline.fc(),t=n.j.presentationTimeline.Lb();t-e>1?function(e,t,n){D(function(i){return e.K.g||e.g.error||e.M||e.G||Ys(e)||Zs(e)?i.return():T(i,cu(e,function(){Ys(e)||Zs(e)||e.i.setLiveSeekableRange(t,n)}),0)})}(n.g.ha,e,t):iu(n.g.ha)}else iu(n.g.ha),n.A&&n.A.stop();else n.A&&n.A.stop()}),this.I=null,this.J=!1,this.K=new Wi(function(){var e=n.g.video;!e.ended&&n.I&&(n.J=!0,e.currentTime=n.I,n.I=null)}),this.G=new Mt}function Tl(e,t){for(var n=e.g.Za()<0,i=g(e.h.values()),r=i.next();!r.done;r=i.next())(r=r.value).Ba&&r.Ba.Yd(n),r.ma&&r.ma.Yd(n);for(r=(i=g(e.m.values())).next();!r.done;r=i.next())r.value.Yd(n);(n=e.h.get("video"))&&(i=n.stream)&&(t?(t=i.trickModeVideo)&&!n.Yc&&(xl(e,t,!1,0,!1),n.Yc=i):(t=n.Yc)&&(n.Yc=null,xl(e,t,!0,0,!1)))}function Cl(e,t,n,i,r,a){n=void 0!==n&&n,i=void 0===i?0:i,r=void 0!==r&&r,a=void 0!==a&&a,e.u=t,e.M&&(t.video&&xl(e,t.video,n,i,r,a),t.audio&&xl(e,t.audio,n,i,r,a))}function wl(e,t){D(function(n){if(1==n.g)return e.H=null,e.C=t,e.M?t.segmentIndex?n.B(2):T(n,t.createSegmentIndex(),2):n.return();xl(e,t,!0,0,!1),C(n)})}function xl(e,t,n,i,r,a){var o=e.h.get(t.type);o||t.type!=it?o&&(o.Yc&&(t.trickModeVideo?(o.Yc=t,t=t.trickModeVideo):o.Yc=null),o.stream!=t||r)&&(e.m.has(t)?o.ma=e.m.get(t):o.ma&&function(e,t){t&&t!==e.i&&(ll(e),e.i=t)}(o.ma,t),t.type==it&&o.stream!=t&&(r=ki(t.mimeType,t.codecs),Xs(e.g.ha,r,e.j.sequenceMode,t.external)),!e.m.has(o.stream)&&o.stream.closeSegmentIndex&&(o.Ra?(r="("+o.type+":"+o.stream.id+")",e.L.has(r)||e.L.set(r,o.stream.closeSegmentIndex)):o.stream.closeSegmentIndex()),r=o.stream.isAudioMuxedInVideo!=t.isAudioMuxedInVideo,o.stream=t,o.Ba=null,o.Gg=!!a,t.dependencyStream?o.Nc=kl(e,t.dependencyStream):o.Nc=null,zl(e),r&&(o.xb=null,o.Ac=null,o.zc=null,t.isAudioMuxedInVideo&&(t=null,"video"===o.type?t=e.h.get("audio"):"audio"===o.type&&(t=e.h.get("video")),t&&(Fl(t).catch(function(){}),t.xb=null,t.Ac=null,t.zc=null,El(e,t),Sl(e,t).catch(function(t){e.g&&e.g.onError(t)})))),n?o.dc?o.be=!0:o.Ra?(o.uc=!0,o.Cd=i,o.be=!0):(ql(o),_l(e,o,!0,i).catch(function(t){e.g&&e.g.onError(t)})):o.Ra||o.yb||jl(e,o,0),Sl(e,o).catch(function(t){e.g&&e.g.onError(t)})):function(e,t){var n,i,r,a,o;D(function(s){switch(s.g){case 1:return n=rt,e.S++,i=e.S,w(s,2),T(s,tu(e.g.ha,n.Va),4);case 4:S(s,3);break;case 2:r=E(s),e.g&&e.g.onError(r);case 3:a=ki(t.mimeType,t.codecs),Xs(e.g.ha,a,e.j.sequenceMode,t.external),(e.g.ha.Z.isTextVisible()||e.i.alwaysStreamText)&&e.S==i&&(o=kl(e,t),e.h.set(n.Va,o),jl(e,o,0)),C(s)}})}(e,t)}function Sl(e,t){var n,i,r;return D(function(a){if(1==a.g)return t.$a?(n=t.stream,i=t.$a,n.segmentIndex?a.B(2):T(a,n.createSegmentIndex(),2)):a.return();if(4!=a.g)return!(r=n.dependencyStream)||r.segmentIndex?a.B(4):T(a,r.createSegmentIndex(),4);if(t.$a!=i||t.stream!=n)return a.return();var o=e.g.Qc(),s=Js(e.g.ha,t.type),u=t.stream.segmentIndex.find(t.Ua?t.Ua.endTime:o),l=null==u?null:t.stream.segmentIndex.get(u);u=l?Qo(l):null,l&&!u&&(u=(l.endTime-l.getStartTime())*(t.stream.bandwidth||e.u.bandwidth)/8),u?((l=l.ia)&&(u+=(l.endByte?l.endByte+1-l.startByte:null)||0),o=8*u/(l=e.g.getBandwidthEstimate())<(s||0)-o-e.i.rebufferingGoal||t.$a.h.g>u):o=!0,o&&t.$a.abort(),C(a)})}function El(e,t){t.dc||t.uc||(t.Ra?(t.uc=!0,t.Cd=0):null==Qs(e.g.ha,t.type)?null==t.yb&&jl(e,t,0):(ql(t),_l(e,t,!1,0).catch(function(t){e.g&&e.g.onError(t)})))}function kl(e,t){var n={stream:t,type:t.type,Ba:null,ma:Il(e,t),Ua:null,xb:null,Jf:null,Ac:null,zc:null,Hf:null,If:null,Yc:null,endOfStream:!1,Ra:!1,yb:null,uc:!1,Cd:0,be:!1,dc:!1,rd:!0,Gg:!1,Sh:!1,se:!1,$a:null,Nc:null};return t.dependencyStream&&(n.Nc=kl(e,t.dependencyStream)),n}function Il(e,t){if("video"===t.type&&e.i.disableVideoPrefetch||"audio"===t.type&&e.i.disableAudioPrefetch||t.type===it&&("application/cea-608"==t.mimeType||"application/cea-708"==t.mimeType)||t.type===it&&e.i.disableTextPrefetch)return null;if(e.m.has(t))return e.m.get(t);var n=e.h.get(t.type);return(n=n&&n.ma)&&t===n.i?n:e.i.segmentPrefetchLimit>0?new rl(e.i.segmentPrefetchLimit,t,function(t,n,i){return Bl(t,n,i||null,e.i.retryParameters,e.g.Cc)},e.g.Za()<0,e.g.xm):null}function Ml(t,n){var i,r,a,o,s,u,l,c,d;return D(function(h){switch(h.g){case 1:if(la(t.l),i=rt,n.Ra||null==n.yb||n.dc)return h.return();if(n.yb=null,!n.uc){h.B(2);break}return T(h,_l(t,n,n.be,n.Cd),3);case 3:return h.return();case 2:if(function(e,t){for(var n=g(e.L.entries()),i=n.next();!i.done;i=n.next()){var r=g(i.value);i=r.next().value,r=r.next().value,i.includes(t.type)&&(r(),e.L.delete(i))}}(t,n),n.stream.segmentIndex){h.B(4);break}return r=n.stream,w(h,5),T(h,n.stream.createSegmentIndex(),7);case 7:S(h,6);break;case 5:return a=E(h),T(h,Vl(t,n,a),8);case 8:return h.return();case 6:if(r!=n.stream)return r.closeSegmentIndex&&r.closeSegmentIndex(),n.Ra||n.yb||jl(t,n,0),h.return();case 4:if(!n.Nc){h.B(9);break}if(n.Nc.stream.segmentIndex){h.B(9);break}return w(h,11),T(h,n.Nc.stream.createSegmentIndex(),13);case 13:S(h,9);break;case 11:E(h);case 9:w(h,14),o=function(t,n){if(Nl(n))return function(e,t){var n=Js(e,"video")||0;Vi(e.h,t,n)}(t.g.ha,n.stream.originalId||""),null;if(n.type==it&&function(e){e.h&&Vi(e.h,"",0)}(t.g.ha),n.stream.isAudioMuxedInVideo&&"audio"==n.type)return null;if(n.type!=it&&Zs(t.g.ha))return Gl(t,!0),null;var i=t.i.updateIntervalSeconds/Math.max(1,Math.abs(t.g.Za()));if(!Ws(t.g.ha)&&n.type!=it)return i/2;var r=t.g.Qc();if("audio"===n.type)for(var a=g(t.m.keys()),o=a.next();!o.done;o=a.next())(o=t.m.get(o.value)).cb(r,!0),ol(o,r);a=n.Ua?n.Ua.endTime:r;var s=function(e,t,n){return t==it?null==(e=e.h).h||e.h<n?0:e.h-Math.max(n,e.g):as(e=$s(e,t),n)}(t.g.ha,n.type,r);o=Math.max(1,Math.max(t.i.rebufferingGoal,t.i.bufferingGoal)*t.F);var u=t.j.presentationTimeline.getDuration()-a,l=Js(t.g.ha,n.type);if(u<1e-6&&l)return n.endOfStream=!0,"video"==n.type&&(t=t.h.get(it))&&Nl(t)&&(t.endOfStream=!0),null;if(n.endOfStream=!1,s>=o)return i/2;if(u=!n.Ba,l=Ll(t,n,r,l),!l)return i;s=n.xb;var c=l.ia;s&&c&&Yo(c,s)&&(s.g=c.g),s=!1,u&&n.Gg&&(s=!0,n.Gg=!1),u=1/0;for(var d=(c=g(c=Array.from(t.h.values()))).next();!d.done;d=c.next())Nl(d=d.value)||d.Ba&&!d.Ba.current()||(u=Math.min(u,d.Ua?d.Ua.endTime:r));return a>=u+t.j.presentationTimeline.h?i:(n.ma&&n.Ba&&!t.m.has(n.stream)&&(n.ma.cb(l.startTime+.001),ol(n.ma,l.startTime).catch(function(){})),Hl(t)&&function(e,t,n){if(t.type===it)return!1;var i=t.xb;if(!i)return!1;var r=n.ia;if(n=i.g!==r.g,"reset_to_encrypted"===e.i.crossBoundaryStrategy&&(i.encrypted||r.encrypted||(n=!1),i.encrypted&&(e.i.crossBoundaryStrategy="keep")),"RESET_ON_ENCRYPTION_CHANGE"===e.i.crossBoundaryStrategy&&i.encrypted==r.encrypted&&(n=!1),"keep"===e.i.crossBoundaryStrategy&&i.mimeType&&r.mimeType){var a=Ri(Oi(i.mimeType)),o=Ri(Oi(i.mimeType));i.mimeType==r.mimeType&&a==o&&(n=!1)}return n&&(e.J||t.rd)&&(e.J=!1,Gl(e,!0).then(function(){var t=(new Map).set("oldEncrypted",i.encrypted).set("newEncrypted",r.encrypted);e.g.onEvent(new H("boundarycrossed",t))})),n}(t,n,l)||(function(t,n,i,r,a){var o,s,u,l,c,d,h,p,f,m,v,y,A,b,x,k;return D(function(I){switch(I.g){case 1:if(o=rt,s=n.stream,u=n.Ba,n.Ra=!0,w(I,2),2==r.Tc())throw new Ie(1,1,1011);return T(I,function(e,t,n,i){var r,a,o,s,u,l,c,d,h,p,f,m,v,y,A,b;return D(function(C){switch(C.g){case 1:if(r=rt,a=null==t.Ua,o=[],s=Math.max(0,Math.max(n.appendWindowStart,e.Z)-.1),u=Math.min(n.appendWindowEnd,e.W)+.1,l=n.codecs||t.stream.codecs,c=Pi(l),d=Di(n.mimeType||t.stream.mimeType),(h=n.timestampOffset)==t.Jf&&s==t.Ac&&u==t.zc&&c==t.Hf&&d==t.If){C.B(2);break}if(p=t.Hf&&t.If&&function(e,t,n,i,r){return(e=gu(e,t,n,i,r)).qc&&e.qc.destroy(),e.type==Au}(e.g.ha,t.type,d,l,Wl(e)),!p){C.B(3);break}if(f=null,t.type===r.Ha?f=e.h.get(r.na):t.type===r.na&&(f=e.h.get(r.Ha)),!f){C.B(3);break}return T(C,Fl(f).catch(function(){}),5);case 5:f.xb=null,f.Ac=null,f.zc=null,El(e,f);case 3:return T(C,Pl(e,t,h,s,u,n,c,d),2);case 2:return Yo(n.ia,t.xb)||(t.xb=n.ia,n.l&&n.ia&&(m=Ul(e,t,n.ia),v=function(){var a,o,s,u,l,c,d,h,p,f,v;return D(function(y){switch(y.g){case 1:return w(y,2),T(y,m,4);case 4:return a=y.h,la(e.l),o=null,s=new Map,u={projection:null,hfov:null},t.stream&&(l=t.stream.videoLayout)&&((c=l.split("/")).includes("PROJ-RECT")?u.projection="rect":c.includes("PROJ-EQUI")?u.projection="equi":c.includes("PROJ-HEQU")?u.projection="hequ":c.includes("PROJ-PRIM")?u.projection="prim":c.includes("PROJ-AIV")&&(u.projection="hequ")),(d=new ga).box("moov",ma).box("trak",ma).box("mdia",ma).X("mdhd",function(e){o=fo(e.reader,e.version).timescale}).box("hdlr",function(e){switch((e=e.reader).skip(8),e.od()){case"soun":s.set(r.na,o);break;case"vide":s.set(r.Ha,o)}o=null}),t.type!==r.Ha||u.projection||d.box("minf",ma).box("stbl",ma).X("stsd",va).box("encv",ya).box("avc1",ya).box("avc3",ya).box("hev1",ya).box("hvc1",ya).box("dvav",ya).box("dva1",ya).box("dvh1",ya).box("dvhe",ya).box("dvc1",ya).box("dvi1",ya).box("vexu",ma).box("proj",ma).X("prji",function(e){e=e.reader.od(),u.projection=e}).box("hfov",function(e){e=e.reader.$()/1e3,u.hfov=e}),d.parse(a,!0,!0),t.type===r.Ha&&function(e,t){if(e.R.projection!=t.projection||e.R.hfov!=t.hfov){if(null!=t.projection||null!=t.hfov){var n=(new Map).set("detail",t);n=new H("spatialvideoinfo",n)}else n=new H("nospatialvideoinfo");n.cancelable=!0,e.g.onEvent(n),e.R=t}}(e,u),s.has(t.type)?n.ia.timescale=s.get(t.type):null!=o&&(n.ia.timescale=o),(h=t.stream.segmentIndex)instanceof Xu&&(p=function(e,t){for(var n=(e=g(e.h)).next();!n.done;n=e.next())if(null!=(n=n.value).find(t))return n.pf();return-1}(h,n.startTime)),f=t.stream.closedCaptions&&t.stream.closedCaptions.size>0,T(y,e.g.Ii(t.type,a),5);case 5:return T(y,eu(e.g.ha,t.type,a,null,t.stream,f,t.rd,i,!1,!1,p),6);case 6:S(y,0);break;case 2:throw v=E(y),t.xb=null,v}})},y=n.startTime,a&&(null!=(A=Js(e.g.ha,t.type))&&(y=A)),e.g.Ul(y,n.ia),o.push(v()))),b=t.Ua?t.Ua.i:-1,n.i!=b&&o.push(function(e,t,n){var i,r;return D(function(a){return 1==a.g?t==(i=rt).Va?a.return():(t==i.Ha&&(e.Na=new Vr),!e.I||(r=Js(e,t))&&Math.abs(r-n)<.15?a.return():(lu(e,t,function(){return au(e,t)},null),e.m&&lu(e,i.na,function(){return au(e,i.na)},null),T(a,lu(e,t,function(){return ou(e,t,n)},null),2))):e.m?T(a,lu(e,i.na,function(){return ou(e,i.na,n)},null),0):a.B(0)})}(e.g.ha,t.type,n.startTime)),T(C,Promise.all(o),0)}})}(t,n,r,a),4);case 4:return la(t.l),t.D?I.return():(l="video/mp4"==s.mimeType||"audio/mp4"==s.mimeType,c=e.ReadableStream,t.i.lowLatencyMode&&t.j.isLowLatency&&c&&l&&("HLS"!=t.j.type||r.u)?(h=new Uint8Array(0),f=p=!1,v=function(e){var o,u,l;return D(function(c){switch(c.g){case 1:if(p)return c.return();if(f=!0,la(t.l),t.D)return c.return();if(w(c,2),h=Ze(h,e),o=!1,u=0,(new ga).box("mdat",function(e){u=e.size+e.start,o=!0}).parse(h,!1,!0),!o){c.B(4);break}return l=h.subarray(0,u),h=h.subarray(u),T(c,Dl(t,n,i,s,r,l,!0,a),5);case 5:n.ma&&n.Ba&&ol(n.ma,r.startTime,!0);case 4:S(c,0);break;case 2:m=E(c),C(c)}})},T(I,Ul(t,n,r,v),9)):T(I,Ul(t,n,r),7));case 7:return d=I.h,la(t.l),t.D?I.return():(la(t.l),n.uc?(n.Ra=!1,jl(t,n,0),I.return()):T(I,Dl(t,n,i,s,r,d,!1,a),6));case 9:if(y=I.h,m)throw m;if(f){I.B(10);break}return p=!0,la(t.l),t.D?I.return():n.uc?(n.Ra=!1,jl(t,n,0),I.return()):T(I,Dl(t,n,i,s,r,y,!1,a),10);case 10:n.ma&&n.Ba&&ol(n.ma,r.startTime,!0);case 6:if(la(t.l),t.D)return I.return();n.Ua=r,u.next(),n.Ra=!1,n.Sh=!1,A=t.g.ha.Oc(),b=A[n.type],JSON.stringify(b),n.uc||(x=null,n.type===o.Ha?x=t.h.get(o.na):n.type===o.na&&(x=t.h.get(o.Ha)),x&&x.type==o.na?t.g.Tf(r,n.stream,x.stream.isAudioMuxedInVideo):t.g.Tf(r,n.stream,n.stream.codecs.includes(","))),ql(n),jl(t,n,0),S(I,0);break;case 2:if(k=E(I),la(t.l,k),t.D)return I.return();if(n.Ra=!1,7001==k.code)n.Ra=!1,ql(n),jl(t,n,0),I.B(0);else{if(n.type!=o.Va||!t.i.ignoreTextStreamFailures)return 3017==k.code?T(I,function(e,t,n){var i,r,a,o;return D(function(s){if(1==s.g){if(i=Array.from(e.h.values()),i.some(function(e){return e!=t&&e.Sh}))return s.B(2);if(r=0===e.i.maxDisabledTime&&1011==n.code?1:e.i.maxDisabledTime,e.g.disableStream(t.stream,r))return s.return();if(e.i.avoidEvictionOnQuotaExceededError)return jl(e,t,4),s.return();if((a=Math.round(100*e.F))>20)e.F-=.2;else{if(!(a>4))return t.se=!0,e.D=!0,e.g.onError(n),s.return();e.F-=.04}return t.Sh=!0,o=e.g.Qc(),T(s,Ol(e,t,o),2)}jl(e,t,4),C(s)})}(t,n,k),0):(n.se=!0,1==k.category&&n.ma&&hl(n.ma,r),k.severity=2,T(I,Vl(t,n,k),0));t.h.delete(o.Va),I.B(0)}}})}(t,n,r,l,s).catch(function(){}),n.Nc&&Rl(t,n.Nc,r,o)),null)}(t,n),null!=o&&(jl(t,n,o),n.se=!1),S(h,15);break;case 14:return s=E(h),T(h,Vl(t,n,s),16);case 16:return h.return();case 15:if(n.type===i.Va)return h.return();if(u=[n],l=n.type===i.na?i.Ha:i.na,(c=t.h.get(l))&&u.push(c),!t.M||!u.every(function(e){return e.endOfStream})){h.B(0);break}return T(h,t.g.ha.endOfStream(),18);case 18:la(t.l),0!=(d=t.g.ha.getDuration())&&d<t.j.presentationTimeline.getDuration()&&t.j.presentationTimeline.Fb(d),C(h)}})}function Ll(e,t,n,i){if(t.Ba)return(n=t.Ba.current())&&t.Ua&&Math.abs(t.Ua.startTime-n.startTime)<.001&&(n=t.Ba.next().value),n;if(t.Ua||i)return n=t.Ua?t.Ua.endTime:i,e=e.g.Za()<0,t.stream.segmentIndex&&(t.Ba=t.stream.segmentIndex.ec(n,!1,e)),t.Ba&&t.Ba.next().value;i=e.j.sequenceMode||Hl(e)?0:e.i.inaccurateManifestTolerance;var r=Math.max(n-i,0);e=e.g.Za()<0;var a=null;return i&&(t.stream.segmentIndex&&(t.Ba=t.stream.segmentIndex.ec(r,!1,e)),a=t.Ba&&t.Ba.next().value),a||(t.stream.segmentIndex&&(t.Ba=t.stream.segmentIndex.ec(n,!1,e)),a=t.Ba&&t.Ba.next().value),a}function Rl(e,t,n,i){var r,a,o,s,u,l,c,d,h,p;return D(function(f){switch(f.g){case 1:for(r=t.stream,s=(o=(a=r.segmentIndex)&&a.ec(n))&&o.next().value;s&&e.O.includes(s.startTime);)s=o&&o.next().value;if(!s){f.B(0);break}if(!(u=s.ia)||Yo(u,t.xb)){f.B(3);break}return t.xb=u,w(f,4),T(f,Ul(e,t,u),6);case 6:l=f.h;var g=e.g.ha;g.H&&_t(g.H,l,0,r),e.O=[],S(f,3);break;case 4:throw c=E(f),t.xb=null,c;case 3:if(t.Ua&&t.Ua==s){f.B(0);break}return t.Ua=s,w(f,8),T(f,Ul(e,t,s),10);case 10:d=f.h,(g=e.g.ha).H&&_t(g.H,d,0,r),e.O.push(s.startTime),S(f,9);break;case 8:throw h=E(f),t.Ua=null,h;case 9:if(p=Math.max.apply(Math,[0].concat(m(e.O))),e.g.Qc()+i>p)return T(f,Rl(e,t,s.startTime,i),0);f.B(0)}})}function Pl(e,t,n,i,r,a,o,s){var u,l,c,d,h;return D(function(p){switch(p.g){case 1:if(u=rt,l=Wl(e),w(p,2),t.Ac=i,t.zc=r,o&&(t.Hf=o),s&&(t.If=s),t.Jf=n,c=e.j.sequenceMode||"HLS"==e.j.type,d=null,t.type===u.Ha?d=e.h.get(u.na):t.type===u.na&&(d=e.h.get(u.Ha)),!(d&&d.stream&&d.stream.isAudioMuxedInVideo)){p.B(4);break}return T(p,nu(e.g.ha,d.type,n,i,r,c,d.stream.mimeType,d.stream.codecs,l),4);case 4:return T(p,nu(e.g.ha,t.type,n,i,r,c,a.mimeType||t.stream.mimeType,a.codecs||t.stream.codecs,l),6);case 6:S(p,0);break;case 2:throw h=E(p),t.Ac=null,t.zc=null,t.Hf=null,t.If=null,t.Jf=null,h}})}function Dl(e,t,n,i,r,a,o,s){var u,l,c,d;return o=void 0!==o&&o,s=void 0!==s&&s,D(function(h){switch(h.g){case 1:return u=i.closedCaptions&&i.closedCaptions.size>0,e.i.shouldFixTimestampOffset&&(l="video/mp4"==i.mimeType||"audio/mp4"==i.mimeType,c=null,r.ia&&(c=r.ia.timescale),l&&c&&"video"===i.type&&"DASH"==e.j.type&&(new ga).box("moof",ma).box("traf",ma).X("tfdt",function(n){var i,a,o,s,u;return D(function(l){return i=po(n.reader,n.version),(a=i.baseMediaDecodeTime)?(o=-a/c,(Number(t.Jf)||0)<o?(s=t.Ac,u=t.zc,T(l,Pl(e,t,o,s,u,r),0)):l.B(0)):l.return()})}).parse(a,!1,o)),T(h,Ol(e,t,n),2);case 2:return la(e.l),d=t.rd,t.rd=!1,T(h,e.g.Ii(t.type,a),3);case 3:return T(h,eu(e.g.ha,t.type,a,r,i,u,d,s,o),4);case 4:la(e.l),C(h)}})}function Ol(e,t,n){var i,r,a,o,s,u,l,c,d;return D(function(h){return 1==h.g?((i=t.stream.segmentIndex)instanceof Xu&&(i.cb(e.j.presentationTimeline.Mb()),r=[],function(e,t){for(var n=(e=g(e.h)).next();!n.done;n=e.next())t(n.value)}(i,function(e){r.push(e.pf())})),a=Math.max(e.i.bufferBehind*e.F,e.j.presentationTimeline.h),null==(o=Qs(e.g.ha,t.type))?(e.H==t&&(e.H=null),h.return()):(s=n-o,u=e.i.evictionGoal,l=e.j.presentationTimeline.fc(),c=e.j.presentationTimeline.Lb(),d=s-a,c-l>u&&(d=Math.max(s-a,l-u-o)),d<=u?h.return():T(h,e.g.ha.remove(t.type,o,o+d,r),2))):4!=h.g?(la(e.l),e.H?T(h,Ol(e,e.H,n),4):h.B(0)):(la(e.l),void C(h))})}function Nl(e){return e&&e.type==it&&("application/cea-608"==e.stream.mimeType||"application/cea-708"==e.stream.mimeType)}function Ul(e,t,n,i){var r,a,o,s,u;return D(function(l){switch(l.g){case 1:if(r=n.hc())return l.return(r);if(a=null,t.ma){var c=t.ma,d=c.g;n instanceof Xo&&(d=c.j),d.has(n)?(c=d.get(n),i&&(c.mi=i),a=c.De):a=null}return a||(a=Bl(n,t.stream,i||null,e.i.retryParameters,e.g.Cc)),o=0,t.Ba&&(o=t.Ba.h),t.$a=a,T(l,a.promise,2);case 2:if(s=l.h,t.$a=null,u=s.data,!n.aesKey){l.B(3);break}return T(l,yl(u,n.aesKey,o),4);case 4:u=l.h;case 3:return l.return(u)}})}function Bl(e,t,n,i,r,a){a=void 0!==a&&a;var o=e instanceof Zo?e:void 0,s=o?1:0;return(e=Al(e.T(),e.startByte,e.endByte,i,n)).contentType=t.type,r.request(aa,e,{type:s,stream:t,segment:o,isPreload:a})}function _l(e,t,n,i){var r,a;return D(function(o){return 1==o.g?(t.uc=!1,t.be=!1,t.Cd=0,t.dc=!0,t.Ua=null,t.Ba=null,t.ma&&!e.m.has(t.stream)&&ll(t.ma),i?(r=e.g.Qc(),a=e.g.ha.getDuration(),T(o,e.g.ha.remove(t.type,r+i,a),3)):T(o,tu(e.g.ha,t.type),4)):3!=o.g?(la(e.l),n?T(o,e.g.ha.flush(t.type),3):o.B(3)):(la(e.l),t.dc=!1,t.endOfStream=!1,t.Ra||t.yb||jl(e,t,0),void C(o))})}function jl(e,t,n){var i=t.type;(i!=it||e.h.has(i))&&(t.yb=new Ki(function(){var n;return D(function(i){return 1==i.g?(w(i,2),T(i,Ml(e,t),4)):2!=i.g?S(i,0):(n=E(i),e.g&&e.g.onError(n),void C(i))})}).Y(n))}function ql(e){null!=e.yb&&(e.yb.stop(),e.yb=null)}function Fl(e){return D(function(t){return e.$a?T(t,e.$a.abort(),0):t.B(0)})}function Vl(e,t,n){var i;return D(function(r){if(1==r.g)return 3024==n.code?(t.Ra=!1,ql(t),jl(e,t,0),r.return()):T(r,qr(e.V),2);if(la(e.l),1===n.category&&1003!=n.code){if(t.Yc)return Tl(e,!1),r.return();i=0===e.i.maxDisabledTime&&1011==n.code?1:e.i.maxDisabledTime,n.handled=e.g.disableStream(t.stream,i),n.handled&&(n.severity=1)}n.handled&&1011==n.code||e.g.onError(n),n.handled||e.i.failureCallback(n),C(r)})}function Gl(e,t){var n,i,r,a,o,s;return t=void 0!==t&&t,D(function(u){if(1==u.g){if(n=Date.now()/1e3,i=e.i.minTimeBetweenRecoveries,!t){if(!e.i.allowMediaSourceRecoveries||n-e.P<i)return u.return(!1);e.P=n}return r=rt,(a=e.h.get(r.na))&&(ql(a),a.$a&&(a.$a.abort(),a.$a=null),a.xb=null,a.Ac=null,a.zc=null,a.Ra=!1,a.uc=!1,a.Cd=0,a.be=!1,a.dc=!1,a.Ba&&a.Ba.Vh()),(o=e.h.get(r.Ha))&&(ql(o),o.$a&&(o.$a.abort(),o.$a=null),o.xb=null,o.Ac=null,o.zc=null,o.Ra=!1,o.uc=!1,o.Cd=0,o.be=!1,o.dc=!1,o.Ba&&o.Ba.Vh()),s=e.g.video.paused,T(u,pu(e.g.ha,Wl(e)),2)}return!o||o.dc||o.Ra||o.yb||jl(e,o,0),!a||a.dc||a.Ra||a.yb||jl(e,a,0),s||e.g.video.play(),u.return(!0)})}function Hl(e){if("keep"!==e.i.crossBoundaryStrategy)return!0;var t=Re();if(Vt()&&t.bd()){if(!t.lg())for(n=(t=g(e.h.keys())).next();!n.done;n=t.next())if((n=e.h.get(n.value)).type!==rt.Va&&(n=n.stream)&&n.fullMimeTypes&&n.fullMimeTypes.size>1){for(e=new Set,n=(t=g(n.fullMimeTypes)).next();!n.done;n=t.next())e.add(Li(n.value));return e.size>1}}else for(var n=(t=g(e.h.keys())).next();!n.done;n=t.next())if((n=e.h.get(n.value)).type!==rt.Va&&(n=n.stream)&&n.fullMimeTypes&&n.fullMimeTypes.size>1)return!0;return!1}function zl(e){e.G.Sa(),Hl(e)&&(e.G.o(e.g.video,"waiting",function(){return Kl(e)}),e.G.o(e.g.video,"timeupdate",function(){return Kl(e)}))}function Kl(e){if(Hl(e)){e.K.stop();var t=e.g.Qc(),n=e.h.get("video")||e.h.get("audio");n&&(n=n.xb)&&null!==n.g&&((t=n.g-t)<0||t>1||(e.I=n.g+.1,e.K.Y(t)))}}function Wl(e,t){function n(t){if(t.fullMimeTypes&&t.fullMimeTypes.size>1&&e.h.has(t.type)){var n=e.h.get(t.type),i=Js(e.g.ha,n.type),r=e.g.Qc();(n=Ll(e,n,r,i))&&n.codecs&&n.mimeType&&(t.codecs=n.codecs,t.mimeType=n.mimeType)}}t=void 0!==t&&t;var i=new Map,r=e.u.audio;return r&&(n(r),i.set("audio",r)),(r=e.u.video)&&(n(r),i.set("video",r)),t&&e.C&&i.set(it,e.C),i}function Xl(){}function Yl(e,t,n,i,r){var a,o=r in i,s=o?n.constructor==Object&&0==Object.keys(i).length:n.constructor==Object&&0==Object.keys(n).length,u=o||s,l=!0;for(a in t){var c=r+"."+a,d=o?i[r]:n[a];u||a in n?void 0===t[a]?void 0===d||u?delete e[a]:e[a]=dn(d):s?e[a]=t[a]:d.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=dn(d)),c=Yl(e[a],t[a],d,i,c),l=l&&c):typeof t[a]!=typeof d||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=d.constructor?(X("Invalid config, wrong type for "+c),l=!1):"function"==typeof n[a]&&n[a].length!=t[a].length?(Y("Unexpected number of arguments for "+c),e[a]=t[a]):e[a]=Array.isArray(e[a])?t[a].slice():t[a]:(X("Invalid config, unrecognized key "+c),l=!1)}return l}function Zl(e,t){for(var n={},i=n,r=0,a=0;!((r=e.indexOf(".",r))<0);)0!=r&&"\\"==e[r-1]||(i[a=e.substring(a,r).replace(/\\\./g,".")]={},i=i[a],a=r+1),r+=1;return i[e.substring(a).replace(/\\\./g,".")]=t,n}function Ql(e,t){return e&&t}function Jl(e,t){function n(e){return e&&"object"==typeof e&&!Array.isArray(e)}return e=function e(t,i){return Object.keys(t).reduce(function(r,a){var o=t[a];return i.hasOwnProperty(a)?o instanceof HTMLElement&&i[a]instanceof HTMLElement?o.isEqualNode(i[a])||(r[a]=o):n(o)&&n(i[a])?(o=e(o,i[a]),(Object.keys(o).length>0||!n(o))&&(r[a]=o)):Array.isArray(o)&&Array.isArray(i[a])?kt(o,i[a])||(r[a]=o):Number.isNaN(o)&&Number.isNaN(i[a])||o!==i[a]&&(r[a]=o):r[a]=o,r},{})}(e,t),function e(t){for(var i=g(Object.keys(t)),r=i.next();!r.done;r=i.next())if(!(t[r=r.value]instanceof HTMLElement))if(n(t[r])&&0===Object.keys(t[r]).length)delete t[r];else{var a=t[r];Array.isArray(a)&&0===a.length||"function"==typeof t[r]?delete t[r]:n(t[r])&&(e(t[r]),0===Object.keys(t[r]).length&&delete t[r])}}(e),e}function $l(){}function ec(e){return new ae(e=_e(e)).Ib}function tc(e,t,n){function i(e){Ee(a).setUint32(o,e.byteLength,!0),o+=4,a.set(xe(e),o),o+=e.byteLength}if(!n||!n.byteLength)throw new Ie(2,6,6015);var r;r="string"==typeof t?qe(t,!0):t,e=qe(e=_e(e),!0);var a=new Uint8Array(12+e.byteLength+r.byteLength+n.byteLength),o=0;return i(e),i(r),i(n),a}function nc(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,tc(e,n=_e(e).split("skd://").pop(),t))}function ic(e,t){2===e&&(e=t.drmInfo)&&Nr(e.keySystem)&&(t.headers["Content-Type"]="application/octet-stream")}function rc(e,t,n){for(n=void 0===n||n,this.h=e,this.g=new Set([e]),t=(e=g(t=t||[])).next();!t.done;t=e.next())this.add(t.value,n)}function ac(e,t){if(e.mimeType!=t.mimeType)return!1;if(e=e.codecs.split(",").map(function(e){return Pi(e)}),t=t.codecs.split(",").map(function(e){return Pi(e)}),e.length!=t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function oc(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;for(var n=(e=g(e)).next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function sc(){this.g=null}function uc(e,t){return e.filter(function(e){return!(e.audio&&e.audio.channelsCount&&e.audio.channelsCount>t)}).sort(function(e,t){return e.audio||t.audio?e.audio?t.audio?(t.audio.channelsCount||0)-(e.audio.channelsCount||0):1:-1:0})}function lc(e,t){return e.filter(function(e){return!e.audio||e.audio.codecs==t})}function cc(){}function dc(){var t=1/0,n=Re();navigator.connection&&navigator.connection.saveData&&(t=360);var i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(t,n,i){return"apple"===e.shakaMediaKeysPolyfill&&"skd"==n&&(n=i.serverCertificate,t=tc(t,i=ec(t),n)),t},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:!1,minHdcpVersion:"",ignoreDuplicateInitData:!0,defaultAudioRobustnessForWidevine:"SW_SECURE_CRYPTO",defaultVideoRobustnessForWidevine:"SW_SECURE_DECODE"},r="reload";Vt()&&n.bd()&&(r="smooth");var a={trackSelectionCallback:function(e){return D(function(t){return t.return(e)})},downloadSizeCallback:function(e){var t;return D(function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?T(n,navigator.storage.estimate(),3):n.return(!0):(t=n.h,n.return(t.usage+e<.95*t.quota))})},progressCallback:function(e,t){return Ql([e,t])},usePersistentLicense:!0,numberOfParallelDownloads:5},o={drm:i,manifest:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,disableIFrames:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,ignoreSupplementalCodecs:!1,updatePeriod:-1,ignoreDrmInfo:!1,enableAudioGroups:!0,dash:{clockSyncUri:"",disableXlinkProcessing:!0,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2":"com.apple.fps","urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c":"com.huawei.wiseplay"},manifestPreprocessor:fc,manifestPreprocessorTXml:gc,sequenceMode:!1,useStreamOnceInPeriodFlattening:!1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:n.vd(),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,allowLowLatencyByteRangeOptimization:!0,allowRangeRequestsToGuessMimeType:!1},mss:{manifestPreprocessor:fc,manifestPreprocessorTXml:gc,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}},streaming:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(e){return Ql([e])},rebufferingGoal:0,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:0,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,safeSeekEndOffset:0,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!0,preferNativeDash:!1,preferNativeHls:!1,updateIntervalSeconds:1,observeQualityChanges:!1,maxDisabledTime:30,segmentPrefetchLimit:1,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:!1,dontChooseCodecs:!1,shouldFixTimestampOffset:!1,avoidEvictionOnQuotaExceededError:!1,crossBoundaryStrategy:"keep",returnToEndOfLiveWindowWhenOutside:!1},networking:{forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3},mediaSource:{codecSwitchingStrategy:r,addExtraFeaturesToSourceBuffer:function(e){return Ql([e],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,correctEc3Enca:!1,modifyCueCallback:function(e,t){return Ql([e,t])},dispatchAllEmsgBoxes:!1,useSourceElements:!0,durationReductionEmitsUpdateEnd:!0},offline:a,abrFactory:function(){return new Ir},adaptationSetCriteriaFactory:function(){return new(Function.prototype.bind.apply(sc,[null].concat(m(O.apply(0,arguments)))))},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:5,minTimeToSwitch:0,preferNetworkInformationBandwidth:!1,removeLatencyFromFirstPacketTime:!0},autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredAudioRole:"",preferredVideoRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferredTextFormats:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25,fontScaleFactor:1},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[],version:1,targets:[]},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1,poster:!0},ads:{customPlayheadTracker:!1,skipPlayDetection:!1,supportsMultipleMediaElements:!0,disableHLSInterstitial:!1,disableDASHInterstitial:!1,allowPreloadOnDomElements:!0,allowStartInMiddleOfInterstitial:!0},ignoreHardwareResolution:!1,queue:{preloadNextUrlWindow:1/0,preloadPrevItem:!0,repeatMode:0}};return a.trackSelectionCallback=function(e){return D(function(t){return t.return(function(e,t,n){var i=n;"AUTO"==i&&(n=e.some(function(e){return!(!e.hdr||"HLG"!=e.hdr)}),i=Re().Id(n));var r=e.filter(function(e){return!("variant"!=e.type||e.hdr&&e.hdr!=i)});n=[];var a=mt(t,r.map(function(e){return e.language}));a&&(n=r.filter(function(e){return dt(e.language)==a})),0==n.length&&(n=r.filter(function(e){return e.primary})),0==n.length&&(r.map(function(e){return e.language}),n=r);var o=n.filter(function(e){return e.height&&e.height<=480});for(o.length&&(o.sort(function(e,t){return t.height-e.height}),n=o.filter(function(e){return e.height==o[0].height})),t=[],n.length&&(r=Math.floor(n.length/2),n.sort(function(e,t){return e.bandwidth-t.bandwidth}),t.push(n[r])),e=g(e),n=e.next();!n.done;n=e.next())(n=n.value).type!=it&&"image"!=n.type||t.push(n);return t}(e,o.preferredAudioLanguage,o.preferredVideoHdrLevel))})},n.ab(o)}function hc(){return{streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}}}function pc(e,t,n){var i={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:[],audioRobustness:[],sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return Yl(e,t,n||dc(),i,"")}function fc(e){return Ql([e],e)}function gc(e){return Ql([e],e)}function mc(){this.g=null,this.h=[]}function vc(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration);for(var i=(e=g(e.h)).next();!i.done;i=e.next())n+=(i=i.value).state==t?i.duration:0;return n}function yc(){this.i=this.h=null,this.g=[]}function Ac(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function bc(){this.D=this.V=NaN,this.l="",this.j=this.jj=this.A=this.C=this.K=this.F=this.u=this.m=this.J=this.G=this.i=this.R=this.S=this.M=this.O=this.P=NaN,this.L=0,this.H=this.I=NaN,this.g=new mc,this.h=new yc}function Tc(e,t,n){e.V=t,e.D=n}function Cc(e,t){e.j=isNaN(e.j)?t:e.j+t}function wc(e){for(var t=e.V,n=e.D,i=e.l,r=e.C,a=e.O,o=e.P,s=e.M,u=e.S,l=e.R,c=e.A,d=e.i,h=e.G,p=e.J,f=e.m,m=vc(e.g,"playing"),v=vc(e.g,"paused"),y=vc(e.g,"buffering"),A=e.u,b=e.F,T=e.K,C=e.jj,w=e.j,x=e.L,S=e.I,E=e.H,k=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],i=g(e.h),r=i.next();!r.done;r=i.next())n.push(t(r.value));return e.g&&n.push(t(e.g)),n}(e.g),I=[],M=(e=g(e.h.g)).next();!M.done;M=e.next())M=M.value,I.push({timestamp:M.timestamp,id:M.id,type:M.type,fromAdaptation:M.fromAdaptation,bandwidth:M.bandwidth});return{width:t,height:n,currentCodecs:i,streamBandwidth:r,decodedFrames:a,droppedFrames:o,corruptedFrames:s,stallsDetected:u,gapsJumped:l,estimatedBandwidth:c,completionPercent:d,loadLatency:h,manifestTimeSeconds:p,drmTimeSeconds:f,playTime:m,pauseTime:v,bufferingTime:y,licenseTime:A,liveLatency:b,maxSegmentDuration:T,manifestSizeBytes:C,bytesDownloaded:w,nonFatalErrorCount:x,manifestPeriodCount:S,manifestGapCount:E,stateHistory:k,switchHistory:I}}function xc(e,t,n,i){ee.call(this),this.M=e,this.S=t,this.ya=i.networkingEngine,this.m=n,this.D=null,this.sa=0,this.La=i.Dd,this.G=i.Nl,this.Na=i.Ol,this.g=i.config,this.l=this.H=this.h=null,this.ea=!1,this.I=i.Zl,this.oa=!1,this.i=null,this.Z=!1,this.A=null,this.L=new Map,this.ra=!1,this.Ca=i.Yl,this.V=new bc,this.aa=new Vr,this.C=new Vr,this.O=null,this.j=!1,this.W=i.kk,this.R=this.u=null,this.P=!1,this.K=[],this.J=[],this.F=!0}function Sc(e,t,n){(e=t?e.J:e.K)?e.push(n):n()}function Ec(e,t){if(e.O=t,e.P=!0,e.K)for(var n=(t=g(e.K)).next();!n.done;n=t.next())(n=n.value)();e.K=null}function kc(e){if(e.j)throw new Ie(2,7,7003)}function Ic(e,t){e.dispatchEvent(new H("onstatechange",(new Map).set("state",t)))}function Mc(e,t){var n,i,r;return D(function(a){switch(a.g){case 1:return!e.h||e.i?a.return():(Ic(e,"drm-engine"),e.sa=Date.now()/1e3,e.i=e.La(),e.G.h=e.i,e.i.configure(e.g.drm,function(){return e.F}),n=mr(e.h.variants),i=!0,e.h&&e.h.presentationTimeline&&(i=e.h.presentationTimeline.U()),T(a,Ma(e.i,n,e.h.offlineSessionIds,i),2));case 2:if(kc(e),!t){a.B(3);break}return T(a,e.i.cc(t),4);case 4:kc(e);case 3:return T(a,to(e.G,e.h),5);case 5:if(!a.h){a.B(0);break}return r=new H("trackschanged",void 0),T(a,Promise.resolve(),7);case 7:e.dispatchEvent(r),C(a)}})}function Lc(e){if(!e.A){var t=e.g.abrFactory;e.A=t(),e.A.configure(e.g.abr)}return t=mr(e.h.variants),t=e.D.create(t),e.A.setVariants(Array.from(t.values())),e.A.chooseVariant(!0)}function Rc(e,t,n){var i,r,a,o,s;return D(function(u){return 1==u.g?(i=e.g.streaming.segmentPrefetchLimit||2,r=new rl(i,t,function(t,n,i){return Bl(t,n,i||null,e.g.streaming.retryParameters,e.ya,e.F)},!1),e.L.set(t.id,r),t.segmentIndex?u.B(2):T(u,t.createSegmentIndex(),2)):(a="number"==typeof e.m?e.m:0,o=t.segmentIndex.ec(a),s=null,o&&((s=o.current())||(s=o.next().value)),s||(s=zu(t.segmentIndex)),s?n?s.ia?T(u,sl(r,s.ia),0):u.B(0):T(u,ol(r,s.startTime),0):u.B(0))})}function Pc(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}function Dc(e,t){ee.call(this);var n=this;this.i=e,this.l=t,this.g=new Map,this.m=[{zd:null,yd:Uc,kd:function(e,t){return Oc(n,"enter",e,t)}},{zd:Nc,yd:Uc,kd:function(e,t){return Oc(n,"enter",e,t)}},{zd:Bc,yd:Uc,kd:function(e,t){return Oc(n,"enter",e,t)}},{zd:Uc,yd:Nc,kd:function(e,t){return Oc(n,"exit",e,t)}},{zd:Uc,yd:Bc,kd:function(e,t){return Oc(n,"exit",e,t)}},{zd:Nc,yd:Bc,kd:function(e,t){t?Oc(n,"skip",e,t):(Oc(n,"enter",e,t),Oc(n,"exit",e,t))}},{zd:Bc,yd:Nc,kd:function(e,t){return Oc(n,"skip",e,t)}}],this.h=new Mt,this.h.o(this.i,"regionremove",function(e){n.g.delete(e.region)})}function Oc(e,t,n,i){t=new H(t,new Map([["region",n],["seeking",i]])),e.dispatchEvent(t)}Mu.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.m=function(){},this.g=null},Ou.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},(r=Uu.prototype).ready=function(){var e=this;ku(this.g,HTMLMediaElement.HAVE_FUTURE_DATA,this.j,function(){!function(){if(null==e.h||0==e.h&&e.g.duration!=1/0)e.i=!0;else{var t=e.g.currentTime,n=null;if("number"==typeof e.h)n=e.h;else if(e.h instanceof Date){var i=Bu(e);null!==i&&(n=e.h.getTime()/1e3-i,n=_u(e,n))}null==n?e.i=!0:(n<0&&(n=Math.max(0,t+n)),t!=n?(e.j.ua(e.g,"seeking",function(){e.i=!0}),e.g.currentTime=n):e.i=!0)}}()})},r.release=function(){this.j&&(this.j.release(),this.j=null),this.g=null},r.Ag=function(e){this.h=this.i?this.h:e},r.$e=function(){var e=this.i?this.g.currentTime:this.h;return e instanceof Date&&(e=_u(this,e=e.getTime()/1e3-(Bu(this)||0))),e||0},r.Bi=function(){return 0},r.zi=function(){return 0},r.Ai=function(){return!1},r.rj=function(){},r.fj=function(){var e=is(this.g.buffered);return null!=e&&e>=this.g.duration-1},(r=ju.prototype).ready=function(){this.m.xa(.25)},r.release=function(){this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.m&&(this.m.stop(),this.m=null),this.h=this.j=this.g=this.l=null,this.A=function(){}},r.Ag=function(e){Ru(this.j,qu(this,e))},r.$e=function(){var e=Lu(this.j);return this.h.readyState>0&&!this.h.paused?Gu(this,e):e},r.Bi=function(){return this.i.H},r.zi=function(){return this.i.G},r.Ai=function(){return this.i.D},r.rj=function(){this.i.Tf()},r.fj=function(){if(this.g.U()){var e=this.g.Rc(),t=is(this.h.buffered);if(null!=t&&t>=e)return!0}return!1},(r=Hu.prototype).getNumReferences=function(){return this.g.length},r.getNumEvicted=function(){return this.i},r.release=function(){this.u||(this.g=[],this.m&&this.m.stop(),this.m=null)},r.Ql=function(){this.u=!0},r.Kb=function(e){for(var t=g(this.g),n=t.next();!n.done;n=t.next())e(n.value)},r.find=function(e){for(var t=this.g.length-1,n=t;n>=0;--n){var i=this.g[n],r=n<t?this.g[n+1].startTime:i.endTime;if(e>=i.startTime&&e<r)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},r.get=function(e){return 0==this.g.length||(e-=this.i)<0||e>=this.g.length?null:this.g[e]},r.offset=function(e){if(!this.u)for(var t=g(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},r.Mf=function(e){if(!this.u&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter(function(e){return Math.round(1e3*e.startTime)/1e3<t}),this.g.push.apply(this.g,m(e))}},r.Ae=function(e,t){var n=this;e=e.filter(function(e){return e.endTime>t&&(0==n.g.length||e.endTime>n.g[0].startTime)}),this.Mf(e),this.cb(t)},r.cb=function(e){if(!this.u){var t=this.g.length;this.g=this.g.filter(function(t){return t.endTime>e}),this.i+=t-this.g.length}},r.Gd=function(e,t,n){if(n=void 0!==n&&n,!this.u){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;0!=this.g.length&&((t=new Zo((e=this.g[this.g.length-1]).startTime,t,e.D,e.startByte,e.endByte,e.ia,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.g,e.tilesLayout,e.C,e.h,e.status,e.aesKey)).mimeType=e.mimeType,t.codecs=e.codecs,t.i=e.i,this.g[this.g.length-1]=t)}},r.qg=function(e,t){var n=this;this.u||(this.m&&this.m.stop(),this.m=new Wi(function(){var e=t();e?n.g.push.apply(n.g,m(e)):(n.m.stop(),n.m=null)}),this.m.xa(e))},Hu.prototype[Symbol.iterator]=function(){return this.ec(0)},Hu.prototype.ec=function(e,t,n){t=void 0!==t&&t,n=void 0!==n&&n;var i=this.find(e);if(null==i)return null;var r=this.get(i);n?i++:i--;var a=-1;if(r&&r.g.length>0)for(var o=r.g.length-1;o>=0;--o){var s=r.g[o];if(e>=s.startTime&&e<s.endTime){if(!t){for(;o&&!s.l;)o--,s=r.g[o];if(!s.l)return X("No independent partial segment found!"),null}n?i--:i++,a=o-1;break}}return new Wu(this,i,a,n)},Hu.prototype.pf=function(){return-1},G("shaka.media.SegmentIndex",Hu),Hu.forSingleSegment=Ku,Hu.prototype.getIteratorForTime=Hu.prototype.ec,Hu.prototype.updateEvery=Hu.prototype.qg,Hu.prototype.fit=Hu.prototype.Gd,Hu.prototype.evict=Hu.prototype.cb,Hu.prototype.mergeAndEvict=Hu.prototype.Ae,Hu.prototype.offset=Hu.prototype.offset,Hu.prototype.get=Hu.prototype.get,Hu.prototype.find=Hu.prototype.find,Hu.prototype.markImmutable=Hu.prototype.Ql,Hu.prototype.release=Hu.prototype.release,Hu.prototype.getNumEvicted=Hu.prototype.getNumEvicted,Hu.prototype.getNumReferences=Hu.prototype.getNumReferences,(r=Wu.prototype).Yd=function(e){this.reverse=e},r.wk=function(){return this.h},r.current=function(){var e=this.i.get(this.h);return e&&e.g.length>0&&e.m&&this.g>=e.g.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&e.g.length>0?e.g[this.g]:e},r.next=function(){var e=this.i.get(this.h);return this.reverse?e&&e.g.length>0?(this.g--,this.g<0&&(this.h--,this.g=(e=this.i.get(this.h))&&e.g.length>0?e.g.length-1:0)):(this.h--,this.g=0):e&&e.g.length>0?(this.g++,e.m&&this.g==e.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),{value:e=this.current(),done:!e}},r.Vh=function(){var e=this.current();if(e&&e.nd&&!e.l&&(e=this.i.get(this.h))&&e.g.length>0)for(var t=e.g[this.g];t.l&&!(this.g<=0);)this.g--,t=e.g[this.g]},G("shaka.media.SegmentIterator",Wu),Wu.prototype.resetToLastIndependent=Wu.prototype.Vh,Wu.prototype.next=Wu.prototype.next,Wu.prototype.current=Wu.prototype.current,Wu.prototype.currentPosition=Wu.prototype.wk,Wu.prototype.setReverse=Wu.prototype.Yd,p(Xu,Hu),(r=Xu.prototype).clone=function(){var e=new Xu;return e.h=this.h.slice(),e.i=this.i,e},r.release=function(){this.h=[]},r.Kb=function(e){for(var t=g(this.h),n=t.next();!n.done;n=t.next())n.value.Kb(e)},r.find=function(e){for(var t=this.i,n=g(this.h),i=n.next();!i.done;i=n.next()){var r=(i=i.value).find(e);if(null!=r)return r+t;t+=i.getNumEvicted()+i.getNumReferences()}return null},r.get=function(e){for(var t=this.i,n=g(this.h),i=n.next();!i.done;i=n.next()){var r=(i=i.value).get(e-t);if(r)return r;r=i.getNumReferences(),t+=i.getNumEvicted()+r}return null},r.offset=function(){},r.Mf=function(){},r.cb=function(e){if(this.h.length){var t=this.h[0];t.cb(e),0==t.getNumReferences()&&(this.h.shift(),this.i+=t.getNumEvicted(),t.release(),this.cb(e))}},r.Ae=function(){},r.Gd=function(){},r.qg=function(){},G("shaka.media.MetaSegmentIndex",Xu),Xu.prototype.updateEvery=Xu.prototype.qg,Xu.prototype.fit=Xu.prototype.Gd,Xu.prototype.mergeAndEvict=Xu.prototype.Ae,Xu.prototype.evict=Xu.prototype.cb,Xu.prototype.merge=Xu.prototype.Mf,Xu.prototype.offset=Xu.prototype.offset,Xu.prototype.get=Xu.prototype.get,Xu.prototype.find=Xu.prototype.find,Xu.prototype.forEachTopLevelReference=Xu.prototype.Kb,Xu.prototype.release=Xu.prototype.release,Yu.prototype.release=function(){this.set(this.jd()),this.h&&(this.h.stop(),this.h=null),this.g=null},Yu.prototype.set=function(e){this.i=e,Zu(this)},Yu.prototype.jd=function(){return this.g.jd()},Qu.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i.stop();for(var e=g(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()},p($u,ee),$u.prototype.release=function(){this.g.clear(),ee.prototype.release.call(this)},$u.prototype.j=function(e){for(var t=g(this.g.values()),n=t.next();!n.done;n=t.next()){var i=(n=n.value).Sg;e:{for(var r=n.Ge,a=r.length-1;a>=0;a--){var o=r[a];if(o.position<=e){r=o.Od;break e}}r=null}a=r&&!(i===r||i&&r&&i.bandwidth==r.bandwidth&&i.audioSamplingRate==r.audioSamplingRate&&i.codecs==r.codecs&&i.contentType==r.contentType&&i.frameRate==r.frameRate&&i.height==r.height&&i.mimeType==r.mimeType&&i.channelsCount==r.channelsCount&&i.pixelAspectRatio==r.pixelAspectRatio&&i.width==r.width),o=r&&i&&r.label&&i.label&&i.label!==r.label;var s=r&&i&&r.language&&i.language&&i.language!==r.language;i=r&&i&&r.roles&&i.roles&&!It(i.roles,r.roles),(o||s||i)&&el(this,e,r.contentType)&&(n.Sg=r,i=new H("audiotrackchange",new Map([["quality",r],["position",e]])),this.dispatchEvent(i)),a&&el(this,e,r.contentType)&&(n.Sg=r,JSON.stringify(r),n=new H("qualitychange",new Map([["quality",r],["position",e]])),this.dispatchEvent(n))}},p(nl,ee),nl.prototype.release=function(){this.h.clear(),this.g&&(this.g.stop(),this.g=null),ee.prototype.release.call(this)},rl.prototype.cb=function(e,t){t=void 0!==t&&t;for(var n=g(this.g.keys()),i=n.next();!i.done;i=n.next())e>(i=i.value).endTime&&hl(this,i);t&&cl(this)},rl.prototype.Yd=function(e){this.u=e,this.h&&this.h.Yd(e)},pl.prototype.abort=function(){this.De&&this.De.abort()},G("shaka.config.CrossBoundaryStrategy",{KEEP:"keep",RESET:"reset",RESET_TO_ENCRYPTED:"reset_to_encrypted",RESET_ON_ENCRYPTION_CHANGE:"RESET_ON_ENCRYPTION_CHANGE"}),(r=bl.prototype).destroy=function(){return this.l.destroy()},r.configure=function(e){if(this.i=e,this.V=new jr({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0),e.disableAudioPrefetch){var t=this.h.get("audio");t&&t.ma&&(ll(t.ma),t.ma=null);for(var n=(t=g(this.m.keys())).next();!n.done;n=t.next())n=n.value,ll(this.m.get(n)),this.m.delete(n)}for(e.disableTextPrefetch&&(t=this.h.get(it))&&t.ma&&(ll(t.ma),t.ma=null),e.disableVideoPrefetch&&(t=this.h.get("video"))&&t.ma&&(ll(t.ma),t.ma=null),n=(t=g(this.h.keys())).next();!n.done;n=t.next())(n=this.h.get(n.value)).ma?(dl(n.ma,e.segmentPrefetchLimit),e.segmentPrefetchLimit>0||(ll(n.ma),n.ma=null)):e.segmentPrefetchLimit>0&&(n.ma=Il(this,n.stream));e.disableAudioPrefetch||function(e){for(var t=e.i.segmentPrefetchLimit,n=e.i.prefetchAudioLanguages,i=g(e.j.variants),r=i.next(),a={};!r.done;a={Sb:void 0},r=i.next())if(a.Sb=r.value,a.Sb.audio)if(e.m.has(a.Sb.audio)){if(dl(r=e.m.get(a.Sb.audio),t),!(t>0&&n.some(function(e){return function(t){return ut(e.Sb.audio.language,t)}}(a)))){var o=e.h.get(a.Sb.audio.type);r!==(o&&o.ma)&&ll(r),e.m.delete(a.Sb.audio)}}else t<=0||!n.some(function(e){return function(t){return ut(e.Sb.audio.language,t)}}(a))||!(r=Il(e,a.Sb.audio))||(a.Sb.audio.segmentIndex||a.Sb.audio.createSegmentIndex(),e.m.set(a.Sb.audio,r))}(this)},r.start=function(e){var t=this;return D(function(n){if(1==n.g)return T(n,function(e,t){var n,i,r,a,o,s,u;return D(function(l){if(1==l.g){if(!e.u)throw new Ie(2,5,5006);return n=Wl(e,!0),T(l,e.g.ha.init(n,e.j.sequenceMode,e.j.type,e.j.ignoreManifestTimestampsInSegmentsMode),2)}for(la(e.l),e.updateDuration(),i=g(n.keys()),r=i.next();!r.done;r=i.next())a=r.value,o=n.get(a),e.h.has(a)||(s=kl(e,o),t.has(o.id)&&(al(u=t.get(o.id),function(t,n,i){return Bl(t,n,i||null,e.i.retryParameters,e.g.Cc)}),s.ma=u),e.h.set(a,s),jl(e,s,0));zl(e),C(l)})}(t,e||new Map),2);la(t.l),t.M=!0,C(n)})},r.rd=function(){if(this.g){for(var e=this.g.Qc(),t=g(this.h.keys()),n=t.next();!n.done;n=t.next()){var i,r=n.value;if(n=this.h.get(r),(i=!this.J)&&(i=this.g.ha,r==it?i=null!=(i=i.h).g&&null!=i.h&&(e>=i.g&&e<i.h):i=rs(i=$s(i,r),e),i=!i),i){if(this.P=0,n.ma&&(n.ma.h=null),"audio"===n.type)for(var a=(i=g(this.m.values())).next();!a.done;a=i.next())a.value.h=null;n.Ba=null,(null!=Js(this.g.ha,r)||n.Ra)&&El(this,n),n.$a&&(n.$a.abort(),n.$a=null),r===it&&((r=this.g.ha).J&&r.J.fe()),n.rd=!0}!this.J||n.dc||n.Ra||n.yb||jl(this,n,0)}Hl(this)&&Kl(this)}},r.updateDuration=function(){var e=Gt(),t=this.j.presentationTimeline.getDuration();t<1/0?(e&&(this.A&&this.A.stop(),iu(this.g.ha)),this.g.ha.Fb(t)):e?(this.A&&this.A.xa(.5),this.g.ha.Fb(1/0)):this.g.ha.Fb(4294967296)},G("shaka.util.ConfigUtils",Xl),Xl.getDifferenceFromConfigObjects=Jl,Xl.convertToConfigObject=Zl,Xl.mergeConfigObjects=Yl,G("shaka.config.RepeatMode",{OFF:0,ALL:1,SINGLE:2}),G("shaka.drm.FairPlay",$l),$l.commonFairPlayResponse=function(e,t){if(2===e&&(e=t.originalRequest.drmInfo)&&Nr(e.keySystem)){try{var n=Ue(t.data)}catch(e){return}if(e=!1,"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6),e=!0),!e)try{var i=JSON.parse(n);i.ckc&&(n=i.ckc,e=!0),i.CkcMessage&&(n=i.CkcMessage,e=!0),i.License&&(n=i.License,e=!0)}catch(e){}e&&(t.data=we(We(n)))}},$l.muxFairPlayRequest=function(e,t){ic(e,t)},$l.expressplayFairPlayRequest=function(e,t){if(2===e){var n=t.drmInfo;n&&Nr(n.keySystem)&&ic(e,t)}},$l.conaxFairPlayRequest=function(e,t){ic(e,t)},$l.ezdrmFairPlayRequest=function(e,t){ic(e,t)},$l.verimatrixFairPlayRequest=function(e,t){2===e&&(e=t.drmInfo)&&Nr(e.keySystem)&&(e=Ke(e=xe(t.body)),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=je("spc="+e))},$l.muxInitDataTransform=function(e,t,n){return nc(e,t,n)},$l.expressplayInitDataTransform=function(e,t,n){return nc(e,t,n)},$l.conaxInitDataTransform=function(t,n,i){if("skd"!==n)return t;n=i.serverCertificate,i=_e(t).split("skd://").pop().split("?").shift(),i=e.atob(i);var r=new ArrayBuffer(2*i.length);r=Se(r);for(var a=0,o=i.length;a<o;a++)r[a]=i.charCodeAt(a);return tc(t,r,n)},$l.ezdrmInitDataTransform=function(e,t,n){return"skd"!==t?e:(t=n.serverCertificate,tc(e,n=_e(e).split(";").pop(),t))},$l.verimatrixInitDataTransform=function(e,t,n){return nc(e,t,n)},$l.initDataTransform=tc,$l.defaultGetContentId=ec,$l.isFairPlaySupported=function(){var e;return D(function(t){return 1==t.g?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},w(t,2),T(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):2!=t.g?t.return(!0):(E(t),t.return(!1))})},rc.prototype.add=function(e,t){var n,i=this.h;if(t=void 0===t||t,!(n=!!i.audio!=!!e.audio||!!i.video!=!!e.video||i.language!=e.language)&&(n=i.audio&&e.audio)){n=i.audio;var r=e.audio;n=!(!((!n.channelsCount||!r.channelsCount||n.channelsCount>2||r.channelsCount>2)&&n.channelsCount!=r.channelsCount||n.spatialAudio!==r.spatialAudio||t&&!ac(n,r))&&oc(n.roles,r.roles)&&n.groupId===r.groupId)}return!n&&(n=i.video&&e.video)&&(i=i.video,n=e.video,n=!((!t||ac(i,n))&&oc(i.roles,n.roles))),!n&&(this.g.add(e),!0)},rc.prototype.values=function(){return this.g.values()},G("shaka.media.AdaptationSet",rc),sc.prototype.configure=function(e){this.g=e},sc.prototype.getConfiguration=function(){return this.g},sc.prototype.create=function(e){var t;if(this.g.language){var n=function(e,t){t=dt(t);var n=mt(t,e.map(function(e){return gt(e)}));return n?e.filter(function(e){return n==gt(e)}):[]}(e,this.g.language);n.length&&(t=n)}t||(t=(t=e.filter(function(e){return e.primary})).length?t:e),e=function(e,t){return e.filter(function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)})}(t,this.g.role),e.length&&(t=e),e=function(e,t){return e.filter(function(e){return!!e.video&&(t?e.video.roles.includes(t):0==e.video.roles.length)})}(t,this.g.videoRole),e.length&&(t=e),this.g.videoLayout&&(e=function(e,t){return e.filter(function(e){return!e.video||!e.video.videoLayout||e.video.videoLayout==t})}(t,this.g.videoLayout),e.length&&(t=e)),this.g.hdrLevel&&(e=function(e,t){if("AUTO"==t){var n=e.some(function(e){return!(!e.video||!e.video.hdr||"HLG"!=e.video.hdr)});t=Re().Id(n)}return e.filter(function(e){return!e.video||!e.video.hdr||e.video.hdr==t})}(t,this.g.hdrLevel),e.length&&(t=e));var i=[this.g.channelCount,this.g.preferredAudioChannelCount];if((e=i.filter(function(e,t){return e&&i.indexOf(e)===t})).length)for(n=(e=g(e)).next();!n.done;n=e.next())if((n=uc(t,n.value)).length){t=n;break}this.g.audioLabel&&(e=function(e,t){return e.filter(function(e){return!(!e.audio||!e.audio.label)&&e.audio.label.toLowerCase()==t.toLowerCase()})}(t,this.g.audioLabel),e.length&&(t=e)),this.g.videoLabel&&(e=function(e,t){return e.filter(function(e){return!(!e.video||!e.video.label)&&e.video.label.toLowerCase()==t.toLowerCase()})}(t,this.g.videoLabel),e.length&&(t=e)),e=function(e,t){return e.filter(function(e){return!e.audio||e.audio.spatialAudio==t})}(t,this.g.spatialAudio),e.length&&(t=e);var r=[this.g.audioCodec,this.g.activeAudioCodec].concat(m(this.g.preferredAudioCodecs));if((e=r.filter(function(e,t){return e&&r.indexOf(e)===t})).length)for(n=(e=g(e)).next();!n.done;n=e.next())if((n=lc(t,n.value)).length){t=n;break}return new rc(t[0],t,!("smooth"==this.g.codecSwitchingStrategy&&Vt()))},G("shaka.util.PlayerConfiguration",cc),cc.mergeConfigObjects=pc,cc.createDefaultForLL=hc,cc.createDefault=dc,p(xc,ee),(r=xc.prototype).getStartTime=function(){return this.m},r.hd=function(){return this.M},r.rh=function(){return this.h},r.getStats=function(){return this.V},r.al=function(){return this.u?lr(this.u):null},r.$k=function(){return this.R?cr(this.R):null},r.start=function(){var t,n=this;D(function(i){switch(i.g){case 1:return T(i,Promise.resolve(),2);case 2:return w(i,3),T(i,function(e){var t,n,i,r,a;return D(function(o){switch(o.g){case 1:if(Ic(e,"manifest-parser"),e.l||(e.H=lo(e.M,e.S),e.l=e.H(),e.l.configure(e.g.manifest,function(){return e.F})),t=Date.now()/1e3,Ic(e,"manifest"),e.h){o.B(2);break}return T(o,e.l.start(e.M,e.Na),3);case 3:return e.h=o.h,Pc(e.h),T(o,function(e){var t,n,i,r,a;return D(function(o){if(e.D||(e.D=e.g.adaptationSetCriteriaFactory(),e.D.configure({language:e.g.preferredAudioLanguage,role:e.g.preferredAudioRole,videoRole:e.g.preferredVideoRole,channelCount:e.g.preferredAudioChannelCount,hdrLevel:e.g.preferredVideoHdrLevel,spatialAudio:e.g.preferSpatialAudio,videoLayout:e.g.preferredVideoLayout,audioLabel:e.g.preferredAudioLabel,videoLabel:e.g.preferredVideoLabel,codecSwitchingStrategy:e.g.mediaSource.codecSwitchingStrategy,audioCodec:"",activeAudioCodec:"",activeAudioChannelCount:0,preferredAudioCodecs:e.g.preferredAudioCodecs,preferredAudioChannelCount:e.g.preferredAudioChannelCount})),1!=e.h.variants.length&&"HLS"!=e.h.type)return o.B(0);if(!(t=Lc(e)))return o.B(0);for(n=[],i=g([t.video,t.audio]),r=i.next();!r.done;r=i.next())(a=r.value)&&!a.segmentIndex&&n.push(a.createSegmentIndex());return n.length>0?T(o,Promise.all(n),0):o.B(0)})}(e),2);case 2:return e.aa.resolve(),n=new H("manifestparsed",void 0),T(o,Promise.resolve(),5);case 5:if(e.dispatchEvent(n),0==e.h.variants.length)throw new Ie(2,4,4036);if(Pc(e.h),!no(e.G,e.h)){o.B(6);break}return i=new H("trackschanged",void 0),T(o,Promise.resolve(),7);case 7:kc(e),e.dispatchEvent(i);case 6:r=Date.now()/1e3,a=r-t,e.V.J=a,C(o)}})}(n),5);case 5:if(kc(n),"webkit"===e.shakaMediaKeysPolyfill){i.B(6);break}return T(i,Mc(n),7);case 7:kc(n);case 6:if(!n.W){i.B(8);break}return T(i,function(e){var t,n,i,r,a;return D(function(o){return!e.u&&(t=Lc(e))&&(e.u=t),e.u?(n=e.h.presentationTimeline.U(),i=[],(r=e.u).video&&i.push(Rc(e,r.video,n)),r.audio&&i.push(Rc(e,r.audio,n)),(a=vr(e.h.textStreams,e.g.preferredTextLanguage,e.g.preferredTextRole,e.g.preferForcedSubs)[0]||null)&&Cr(r.audio,a,e.g)&&(i.push(Rc(e,a,n)),e.R=a),T(o,Promise.all(i),0)):o.B(0)})}(n),9);case 9:kc(n);case 8:if(!n.W||!n.i){i.B(10);break}return T(i,function(e){return D(function(t){return 1==t.g?e.K?T(t,e.m,3):t.B(0):T(t,Promise.all(e.V.map(function(e){return e.promise})),0)})}(n.i),11);case 11:kc(n);case 10:n.C.resolve(),S(i,0);break;case 3:(t=E(i))instanceof Ie&&(7001==t.code||7003==t.code)||n.C.reject(t),C(i)}})},r.dispatchEvent=function(e){return this.O?this.O.dispatchEvent(e):ee.prototype.dispatchEvent.call(this,e)},r.onError=function(e){2===e.severity&&(this.C.reject(e),this.destroy());var t=(new Map).set("detail",e);t=new H("error",t),this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)},r.configure=function(e,t){e=Zl(e,t),pc(this.g,e)},r.getConfiguration=function(){return dn(this.g)},r.Em=function(){return this.C},r.destroy=function(){var e,t,n=this;return D(function(i){if(1==i.g)return n.j=!0,!n.l||n.ea?i.B(2):T(i,n.l.stop(),2);if(4!=i.g)return n.A&&n.A.release(),n.I&&!n.oa&&n.I.release(),!n.i||n.Z?i.B(4):T(i,n.i.destroy(),4);if(n.L.size>0&&!n.ra)for(e=g(n.L.values()),t=e.next();!t.done;t=e.next())ll(t.value);C(i)})},G("shaka.media.PreloadManager",xc),xc.prototype.destroy=xc.prototype.destroy,xc.prototype.waitForFinish=xc.prototype.Em,xc.prototype.getPrefetchedTextTrack=xc.prototype.$k,xc.prototype.getPrefetchedVariantTrack=xc.prototype.al,p(Dc,ee),Dc.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,ee.prototype.release.call(this)},Dc.prototype.j=function(e,t){if(!this.l||0!=e){this.l=!1;for(var n=g(this.i.h.values()),i=n.next();!i.done;i=n.next()){i=i.value;var r=this.g.get(i),a=e<i.startTime?Nc:e>i.endTime?Bc:Uc;this.g.set(i,a);for(var o=g(this.m),s=o.next();!s.done;s=o.next())(s=s.value).zd==r&&s.yd==a&&s.kd(i,t)}}};var Nc=1,Uc=2,Bc=3;function _c(e,t,n){var i,r,a,o,s,u,l;return D(function(c){switch(c.g){case 1:return i=jc(e),(r=qc.get(i))?c.return(r):(a=0,o=ea([e],n),w(c,2),o.method="HEAD",T(c,t.request(a,o).promise,4));case 4:s=c.h,r=s.headers["content-type"],S(c,3);break;case 2:if(!(u=E(c))||1002!=u.code&&1001!=u.code){c.B(3);break}return o.method="GET",T(c,t.request(a,o).promise,6);case 6:l=c.h,r=l.headers["content-type"];case 3:return c.return(r?r.toLowerCase().split(";").shift():"")}})}function jc(e){return 1==(e=new ae(e).Tb.split("/").pop().split(".")).length?"":e.pop().toLowerCase()}for(var qc=(new Map).set("mp4","video/mp4").set("m4v","video/mp4").set("m4a","audio/mp4").set("webm","video/webm").set("weba","audio/webm").set("mkv","video/webm").set("ts","video/mp2t").set("ogv","video/ogg").set("ogg","audio/ogg").set("mpg","video/mpeg").set("mpeg","video/mpeg").set("mov","video/quicktime").set("m3u8","application/x-mpegurl").set("mpd","application/dash+xml").set("ism","application/vnd.ms-sstr+xml").set("mp3","audio/mpeg").set("aac","audio/aac").set("flac","audio/flac").set("wav","audio/wav").set("sbv","text/x-subviewer").set("srt","text/srt").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml").set("lrc","application/x-subtitle-lrc").set("ssa","text/x-ssa").set("ass","text/x-ssa").set("jpeg","image/jpeg").set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif").set("html","text/html").set("htm","text/html"),Fc={ach:"Lwo",ady:"Адыгэбзэ",af:"Afrikaans","af-NA":"Afrikaans (Namibia)","af-ZA":"Afrikaans (South Africa)",ak:"Tɕɥi",ar:"العربية","ar-AR":"العربية","ar-MA":"العربية","ar-SA":"العربية (السعودية)","ay-BO":"Aymar aru",az:"Azərbaycan dili","az-AZ":"Azərbaycan dili","be-BY":"Беларуская",bg:"Български","bg-BG":"Български",bn:"বাংলা","bn-IN":"বাংলা (ভারত)","bn-BD":"বাংলা(বাংলাদেশ)","bs-BA":"Bosanski",ca:"Català","ca-ES":"Català",cak:"Maya Kaqchikel","ck-US":"ᏣᎳᎩ (tsalagi)",cs:"Čeština","cs-CZ":"Čeština",cy:"Cymraeg","cy-GB":"Cymraeg",da:"Dansk","da-DK":"Dansk",de:"Deutsch","de-AT":"Deutsch (Österreich)","de-DE":"Deutsch (Deutschland)","de-CH":"Deutsch (Schweiz)",dsb:"Dolnoserbšćina",el:"Ελληνικά","el-GR":"Ελληνικά",en:"English","en-GB":"English (UK)","en-AU":"English (Australia)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-IN":"English (India)","en-PI":"English (Pirate)","en-UD":"English (Upside Down)","en-US":"English (US)","en-ZA":"English (South Africa)","en@pirate":"English (Pirate)",eo:"Esperanto","eo-EO":"Esperanto",es:"Español","es-AR":"Español (Argentine)","es-419":"Español (Latinoamérica)","es-CL":"Español (Chile)","es-CO":"Español (Colombia)","es-EC":"Español (Ecuador)","es-ES":"Español (España)","es-LA":"Español (Latinoamérica)","es-NI":"Español (Nicaragua)","es-MX":"Español (México)","es-US":"Español (Estados Unidos)","es-VE":"Español (Venezuela)",et:"eesti keel","et-EE":"Eesti (Estonia)",eu:"Euskara","eu-ES":"Euskara",fa:"فارسی","fa-IR":"فارسی","fb-LT":"Leet Speak",ff:"Fulah",fi:"Suomi","fi-FI":"Suomi","fo-FO":"Føroyskt",fr:"Français","fr-CA":"Français (Canada)","fr-FR":"Français (France)","fr-BE":"Français (Belgique)","fr-CH":"Français (Suisse)","fy-NL":"Frysk",ga:"Gaeilge","ga-IE":"Gaeilge (Gaelic)",gl:"Galego","gl-ES":"Galego","gn-PY":"Avañe'ẽ","gu-IN":"ગુજરાતી","gx-GR":"Ἑλληνική ἀρχαία",he:"עברית‏","he-IL":"עברית‏",hi:"हिन्दी","hi-IN":"हिन्दी",hr:"Hrvatski","hr-HR":"Hrvatski",hsb:"Hornjoserbšćina",ht:"Kreyòl",hu:"Magyar","hu-HU":"Magyar","hy-AM":"Հայերեն",id:"Bahasa Indonesia","id-ID":"Bahasa Indonesia",is:"Íslenska","is-IS":"Íslenska (Iceland)",it:"Italiano","it-IT":"Italiano",ja:"日本語","ja-JP":"日本語","jv-ID":"Basa Jawa","ka-GE":"ქართული","kk-KZ":"Қазақша",km:"ភាសាខ្មែរ","km-KH":"ភាសាខ្មែរ",kab:"Taqbaylit",kn:"ಕನ್ನಡ","kn-IN":"ಕನ್ನಡ (India)",ko:"한국어","ko-KR":"한국어 (韩国)",ku:"Kurdî","ku-TR":"Kurdî",la:"Latin","la-VA":"Latin",lb:"Lëtzebuergesch","li-NL":"Lèmbörgs",lt:"Lietuvių","lt-LT":"Lietuvių",lv:"Latviešu","lv-LV":"Latviešu",mai:"मैथिली, মৈথিলী","mg-MG":"Malagasy",mk:"Македонски","mk-MK":"Македонски (Македонски)",ml:"മലയാളം","ml-IN":"മലയാളം","mn-MN":"Монгол",mr:"मराठी","mr-IN":"मराठी",ms:"Bahasa Melayu","ms-MY":"Bahasa Melayu",mt:"Malti","mt-MT":"Malti",my:"ဗမာစကာ",nb:"Norsk (bokmål)","nb-NO":"Norsk (bokmål)",ne:"नेपाली","ne-NP":"नेपाली",nl:"Nederlands","nl-BE":"Nederlands (België)","nl-NL":"Nederlands (Nederland)","nn-NO":"Norsk (nynorsk)",no:"Norsk",oc:"Occitan","or-IN":"ଓଡ଼ିଆ",pa:"ਪੰਜਾਬੀ","pa-IN":"ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",pl:"Polski","pl-PL":"Polski","ps-AF":"پښتو",pt:"Português","pt-BR":"Português (Brasil)","pt-PT":"Português (Portugal)","qu-PE":"Qhichwa","rm-CH":"Rumantsch",ro:"Română","ro-RO":"Română",ru:"Русский","ru-RU":"Русский","sa-IN":"संस्कृतम्","se-NO":"Davvisámegiella","si-LK":"පළාත",sk:"Slovenčina","sk-SK":"Slovenčina (Slovakia)",sl:"Slovenščina","sl-SI":"Slovenščina","so-SO":"Soomaaliga",sq:"Shqip","sq-AL":"Shqip",sr:"Српски","sr-RS":"Српски (Serbia)",su:"Basa Sunda",sv:"Svenska","sv-SE":"Svenska",sw:"Kiswahili","sw-KE":"Kiswahili",ta:"தமிழ்","ta-IN":"தமிழ்",te:"తెలుగు","te-IN":"తెలుగు",tg:"забо́ни тоҷикӣ́","tg-TJ":"тоҷикӣ",th:"ภาษาไทย","th-TH":"ภาษาไทย (ประเทศไทย)",tl:"Filipino","tl-PH":"Filipino",tlh:"tlhIngan-Hol",tr:"Türkçe","tr-TR":"Türkçe","tt-RU":"татарча",uk:"Українська","uk-UA":"Українська",ur:"اردو","ur-PK":"اردو",uz:"O'zbek","uz-UZ":"O'zbek",vi:"Tiếng Việt","vi-VN":"Tiếng Việt","xh-ZA":"isiXhosa",yi:"ייִדיש","yi-DE":"ייִדיש (German)",zh:"中文","zh-HANS":"中文简体","zh-HANT":"中文繁體","zh-CN":"中文（中国）","zh-HK":"中文（香港）","zh-SG":"中文（新加坡）","zh-TW":"中文（台灣）","zu-ZA":"isiZulu"},Vc=g(Object.keys(Fc)),Gc=Vc.next();!Gc.done;Gc=Vc.next()){var Hc=Gc.value;Fc[Hc.toLowerCase()]=Fc[Hc]}function zc(e,t){if(e.lineBreak)return"\n";if(e.nestedCues.length)return e.nestedCues.map(function(t){return zc(t,e)}).join("");if(!e.payload)return e.payload;var n=[],i=e.fontWeight>=hi,r=e.fontStyle==fi,a=e.textDecoration.includes(mi);return i&&n.push(["b"]),r&&n.push(["i"]),a&&n.push(["u"]),""==(r=e.color)&&t&&(r=t.color),i="",(r=Kc(r))&&(i+="."+r),""==(r=e.backgroundColor)&&t&&(r=t.backgroundColor),(t=Kc(r))&&(i+=".bg_"+t),i&&n.push(["c",i]),n.reduceRight(function(e,t){var n=g(t);return"<"+(t=n.next().value)+(void 0===(n=n.next().value)?"":n)+">"+e+"</"+t+">"},e.payload)}function Kc(e){var t=(e=e.toLowerCase()).replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(t?e="#"+(256|parseInt(t[1],10)).toString(16).slice(1)+(256|parseInt(t[2],10)).toString(16).slice(1)+(256|parseInt(t[3],10)).toString(16).slice(1):e.startsWith("#")&&e.length>7&&(e=e.slice(0,7)),e){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Wc(e,t){for(var n=[],i=(e=g(Xc(e))).next();!i.done;i=e.next())if((i=i.value).isContainer)n.push.apply(n,m(Wc(i.nestedCues,i)));else{var r=i.clone();r.nestedCues=[],r.payload=zc(i,t),n.push(r)}return n}function Xc(e){for(var t=[],n=(e=g(e)).next(),i={};!n.done;i={Pg:void 0},n=e.next())i.Pg=n.value,t.some(function(e){return function(t){return Xn(e.Pg,t)}}(i))||t.push(i.Pg);return t}function Yc(e){function t(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()}if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.id=t(e.startTime.toString())+t(e.endTime.toString())+t(e.payload),n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,e.size&&(n.size=e.size);try{n.align=e.textAlign}catch(e){}return"center"==e.textAlign&&"center"!=n.align&&(n.align="middle"),"vertical-lr"==e.writingMode?n.vertical="lr":"vertical-rl"==e.writingMode&&(n.vertical="rl"),1==e.lineInterpretation&&(n.snapToLines=!1),null!=e.line&&(n.line=e.line),null!=e.position&&(n.position=e.position),n}function Zc(e,t){var n=Wc(t),i=[];t=e.cues?Array.from(e.cues):[];for(var r=(n=g(n)).next(),a={};!r.done;a={Kd:void 0},r=n.next())a.Kd=r.value,!t.some(function(e){return function(t){return t.startTime==e.Kd.startTime&&t.endTime==e.Kd.endTime&&t.text==e.Kd.payload}}(a))&&a.Kd.payload&&(r=Yc(a.Kd))&&i.push(r);for(n=(t=g(t=i.slice().sort(function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?i.indexOf(t)-i.indexOf(e):i.indexOf(e)-i.indexOf(t)}))).next();!n.done;n=t.next())e.addCue(n.value)}function Qc(e,t){var n=!1;"disabled"===e.mode&&(n=!0,e.mode="hidden");for(var i=0;i<e.cues.length;){var r=e.cues[i];t(r)?e.removeCue(r):i++}n&&(e.mode="disabled")}function Jc(e){var t=this;this.i=e,this.l=new Mt,this.j=null,this.h=new Map,this.g=-1,this.A=!1,this.u=null,this.D=function(){t.l.Fa(t.i,"textchanged",t.m),t.l.Fa(t.j.textTracks,"change",t.C);for(var e=g(t.h.values()),n=e.next();!n.done;n=e.next())n.value.remove();t.h.clear(),t.g=-1,t.j=null},this.m=function(){for(var e=new Map,n=t.i.yc(),i=(n=g(n)).next();!i.done;i=n.next()){if(i=i.value,t.h.has(i.id)){var r=t.h.get(i.id);i.active||"disabled"===r.track.mode||(r.track.mode="disabled"),t.h.delete(i.id)}else{(r=t.j.ownerDocument.createElement("track")).kind=$c(i);var a=r,o=void 0;if(i.label)o=i.label;else if(i.language)if(i.language in Fc)o=Fc[i.language];else{var s=ft(i.language);s in Fc&&(o=Fc[s]+" ("+i.language+")")}o||(o=i.originalTextId,i.language&&i.language!==i.originalTextId&&(o+=" ("+i.language+")")),a.label=o,i.language in Fc&&(r.srclang=i.language),r.src="data:,WEBVTT",r.track.mode="disabled",t.j.appendChild(r)}e.set(i.id,r),i.active&&(t.g=i.id)}for(i=(n=g(t.h.values())).next();!i.done;i=n.next())i.value.remove();t.g>-1&&(e.has(t.g)?"disabled"===(n=e.get(t.g).track).mode&&(n.mode=t.A?"showing":"hidden"):t.g=-1),t.h=e},this.C=function(){if(!t.u){var e=t.j;t.u=new Wi(function(){if(t.u=null,t.j===e){var n=-1,i=!1;if(t.h.has(t.g)){var r=t.h.get(t.g);"showing"===r.track.mode?(n=t.g,i=!0):"hidden"===r.track.mode&&(n=t.g)}if(!i)for(r=(i=g(t.h)).next();!r.done;r=i.next()){var a=g(r.value);if(r=a.next().value,"showing"===(a=a.next().value).track.mode){n=r;break}n<0&&"hidden"===a.track.mode&&(n=r)}for(r=(i=g(t.h)).next();!r.done;r=i.next())r=(a=g(r.value)).next().value,a=a.next().value,r!==n&&"disabled"!==a.track.mode&&(a.track.mode="disabled");t.g!==n&&(t.g=n,n>-1&&t.i.fg({id:n})),t.i.Zd(n>-1&&"showing"===t.h.get(n).track.mode)}}).Y(0)}},this.l.o(e,"loaded",function(){return t.enableTextDisplayer()}),this.enableTextDisplayer()}function $c(e){var t=Re();return e.forced&&"WEBKIT"===t.Ja()?"forced":"caption"===e.kind||e.roles&&e.roles.some(function(e){return e.includes("transcribes-spoken-dialog")})&&e.roles.some(function(e){return e.includes("describes-music-and-sound")})?"captions":"subtitles"}function ed(e,t){for(Dt("SimpleTextDisplayer","Please migrate to NativeTextDisplayer"),this.h=e,this.i=t,this.g=null,t=(e=g(Array.from(this.h.textTracks))).next();!t.done;t=e.next())"metadata"!==(t=t.value).kind&&"chapters"!==t.kind&&(t.mode="disabled",t.label==this.i&&(this.g=t));this.g&&(this.g.mode="hidden")}function td(e){e.h&&!e.g&&(e.g=e.h.addTextTrack("subtitles",e.i),e.g.mode="hidden")}function nd(){}function id(t,n){var i=this;this.m=!1,this.h=[],this.j=t,this.u=n,this.D=this.A=null,this.g=us("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.C=new Wi(function(){i.j.paused||sd(i)}),rd(this),this.l=new Map,this.i=new Mt,this.i.o(document,"fullscreenchange",function(){sd(i,!0)}),this.i.o(this.j,"seeking",function(){sd(i,!0)}),this.i.o(this.j,"ratechange",function(){rd(i)}),this.i.o(this.j,"resize",function(){var e=i.j,t=e.videoWidth;e=e.videoHeight,i.A=t&&e?t/e:null}),this.F=null,"ResizeObserver"in e&&(this.F=new ResizeObserver(function(){sd(i,!0)}),this.F.observe(this.g)),this.G=new Map}function rd(e){e.C&&(e.h.length?e.C.xa((e.D?e.D.captionsUpdatePeriod:.25)/Math.max(1,Math.abs(e.j.playbackRate))):e.C.stop())}function ad(e,t){for(;null!=t;){if(t==e.g)return!0;t=t.parentElement}return!1}function od(e,t,n,i,r){for(var a=!1,o=[],s=[],u=(t=g(t)).next();!u.done;u=t.next()){u=u.value,r.push(u);var l=e.l.get(u),c=u.startTime<=i&&u.endTime>i,d=l?l.hk:null;l&&(o.push(l.Rg),l.qd&&o.push(l.qd),c||(a=!0,e.l.delete(u),l=null)),c&&(s.push(u),l?ad(e,d)||(a=!0):(ud(e,u,r),d=(l=e.l.get(u)).hk,a=!0)),u.nestedCues.length>0&&d&&od(e,u.nestedCues,d,i,r),r.pop()}if(a){for(r=(i=g(o)).next();!r.done;r=i.next())(r=r.value).parentElement&&r.parentElement.removeChild(r);for(s.sort(function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime}),i=(s=g(s)).next();!i.done;i=s.next())(i=e.l.get(i.value)).qd?(i.qd.contains(n)&&i.qd.removeChild(n),n.appendChild(i.qd),i.qd.appendChild(i.Rg)):n.appendChild(i.Rg)}}function sd(e,t){if(e.g){var n=e.j.currentTime;if(!e.m||void 0!==t&&t){for(var i=(t=g(e.G.values())).next();!i.done;i=t.next())ps(i.value);ps(e.g),e.l.clear(),e.G.clear()}e.m&&od(e,e.h,e.g,n,[])}}function ud(e,t,n){var i=n.length>1,r=i?"span":"div";t.lineBreak&&(r="br"),t.rubyTag&&(r=t.rubyTag),i=!i&&t.nestedCues.length>0;var a=us(r);if("br"!=r&&function(e,t,n,i,r){var a=t.style,o=0==n.nestedCues.length,s=i.length>1;a.whiteSpace="pre-wrap";var u=n.payload.replace(/\s+$/g,function(e){return" ".repeat(e.length)});if(a.webkitTextStrokeColor=n.textStrokeColor,a.webkitTextStrokeWidth=n.textStrokeWidth,a.color=n.color,a.direction=n.direction,a.opacity=n.opacity,a.paddingLeft=ld(n.linePadding,n,e.u),a.paddingRight=ld(n.linePadding,n,e.u),a.textCombineUpright=n.textCombineUpright,a.textShadow=n.textShadow,n.backgroundImage)a.backgroundImage="url('"+n.backgroundImage+"')",a.backgroundRepeat="no-repeat",a.backgroundSize="contain",a.backgroundPosition="center",n.backgroundColor&&(a.backgroundColor=n.backgroundColor),a.width="100%",a.height="100%";else{if(n.nestedCues.length)var l=t;else l=us("span"),t.appendChild(l);n.border&&(l.style.border=n.border),r||((t=function(e,t){for(var n=e.length-1;n>=0;n--){var i=t(e[n]);if(i||0===i)return i}return null}(i,function(e){return e.backgroundColor}))?l.style.backgroundColor=t:u&&(l.style.backgroundColor="rgba(0, 0, 0, 0.8)")),u&&(l.setAttribute("translate","no"),l.textContent=u)}s&&!i[i.length-1].isContainer?a.display="inline":(a.display="flex",a.flexDirection="column",a.alignItems="center","left"==n.textAlign||"start"==n.textAlign?(a.width="100%",a.alignItems="start"):"right"!=n.textAlign&&"end"!=n.textAlign||(a.width="100%",a.alignItems="end"),a.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end");o||(a.margin="0"),a.fontFamily=n.fontFamily,a.fontWeight=n.fontWeight.toString(),a.fontStyle=n.fontStyle,a.letterSpacing=n.letterSpacing,a.fontSize=ld(n.fontSize,n,e.u,e.D?e.D.fontScaleFactor:1),i=n.line,null!=i&&(o=n.lineInterpretation,o==oi&&(o=1,s=16,e.A&&e.A<1&&(s=32),i=i<0?100+i/s*100:i/s*100),1==o&&(a.position="absolute",n.writingMode==ai?(a.width="100%",n.lineAlign==si?a.top=i+"%":"end"==n.lineAlign&&(a.bottom=100-i+"%")):"vertical-lr"==n.writingMode?(a.height="100%",n.lineAlign==si?a.left=i+"%":"end"==n.lineAlign&&(a.right=100-i+"%")):(a.height="100%",n.lineAlign==si?a.right=i+"%":"end"==n.lineAlign&&(a.left=100-i+"%")))),a.lineHeight=n.lineHeight,e=function(e){var t=e.direction,n=e.positionAlign;return e=e.textAlign,n!==$n?n:"left"===e||"start"===e&&t===ri||"end"===e&&"rtl"===t?"line-left":"right"===e||"start"===e&&"rtl"===t||"end"===e&&t===ri?"line-right":"center"}(n),"line-left"==e?(a.cssFloat="left",null!==n.position&&(a.position="absolute",n.writingMode==ai?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%")):"line-right"==e?(a.cssFloat="right",null!==n.position&&(a.position="absolute",n.writingMode==ai?(a.right=100-n.position+"%",a.width="auto"):a.bottom=n.position+"%")):null!==n.position&&50!=n.position&&(a.position="absolute",n.writingMode==ai?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%",n.size&&(a.transform="translateX(-50%)")),a.textAlign=n.textAlign,a.textDecoration=n.textDecoration.join(" "),a.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&a.writingMode==n.writingMode||(a.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==ai?a.width=n.size+"%":a.height=n.size+"%")}(e,a,t,n,i),n=null,t.region&&t.region.id){var o=t.region,s=e.A===4/3?2.5:1.9;if(n=o.id+"_"+o.width+"x"+o.height+(o.heightUnits==en?"%":"px")+"-"+o.viewportAnchorX+"x"+o.viewportAnchorY+(o.viewportAnchorUnits==en?"%":"px"),e.G.has(n))n=e.G.get(n);else{r=us("span");var u=o.heightUnits==en?"%":"px",l=o.widthUnits==en?"%":"px",c=o.viewportAnchorUnits==en?"%":"px";r.id="shaka-text-region---"+n,r.classList.add("shaka-text-region"),r.style.position="absolute";var d=o.height,h=o.width;2===o.heightUnits&&(d=5.33*o.height,u="%"),2===o.widthUnits&&(h=o.width*s,l="%"),r.style.height=d+u,r.style.width=h+l,2===o.viewportAnchorUnits?(s=o.viewportAnchorY/75*100,u=o.viewportAnchorX/(e.A===4/3?160:210)*100,s-=o.regionAnchorY*d/100,u-=o.regionAnchorX*h/100,r.style.top=s+"%",r.style.left=u+"%"):(r.style.top=o.viewportAnchorY-o.regionAnchorY*d/100+c,r.style.left=o.viewportAnchorX-o.regionAnchorX*h/100+c),0!==o.heightUnits&&0!==o.widthUnits&&0!==o.viewportAnchorUnits&&(o=Math.max(0,Math.min(100-(parseInt(r.style.width.slice(0,-1),10)||0),parseInt(r.style.left.slice(0,-1),10)||0)),r.style.top=Math.max(0,Math.min(100-(parseInt(r.style.height.slice(0,-1),10)||0),parseInt(r.style.top.slice(0,-1),10)||0))+"%",r.style.left=o+"%"),r.style.display="flex",r.style.flexDirection="column",r.style.alignItems="center",r.style.justifyContent="before"==t.displayAlign?"flex-start":"center"==t.displayAlign?"center":"flex-end",e.G.set(n,r),n=r}}r=a,i&&((r=us("span")).classList.add("shaka-text-wrapper"),r.style.backgroundColor=t.backgroundColor,r.style.lineHeight="normal",a.appendChild(r)),e.l.set(t,{Rg:a,hk:r,qd:n})}function ld(e,t,n,i){i=void 0===i?1:i;var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(r[1]),unit:r[2]}:null;if(!r)return e;switch(e=r.unit,i*=r.value,e){case"%":return i/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*i/t.cellResolution.rows+"px";default:return i+e}}function cd(e,t){this.g=t,this.j=e,this.F=new Map,this.l=void 0,this.D=!1,this.J=!0,this.u=this.I=!1,this.C=this.A=void 0,this.H=0,this.K={request:!1,response:!1,event:!1},this.m={},this.i=new Mt,this.G=[],this.h=null}function dd(e){if(e.G)for(var t=g(e.G),n=t.next();!n.done;n=t.next())n.value.stop();e.G=[]}function hd(e){return(e=e.g.targets)?e.filter(function(e){return e.mode===$d&&e.enabled}):[]}function pd(e){return(e=e.g.targets)?e.filter(function(e){return e.mode===Jd&&!0===e.enabled}):[]}function fd(t){return t.g.sessionId||(t.g.sessionId=e.crypto.randomUUID()),{v:t.g.version,sf:t.l,sid:t.g.sessionId,cid:t.g.contentId,mtp:t.j.getBandwidthEstimate()/1e3}}function gd(e,t,n){if(n=void 0===n?{}:n,t=wd(e,t=Object.assign({e:t,ts:Date.now()},n),$d),n=e.g.targets,!(e.g.version<Od)&&n){var i=hd(e);n=Array.from(new Set([].concat(m(Vd),m(zd))));for(var r=(i=g(i)).next();!r.done;r=i.next()){var a=yd((r=r.value).includeKeys||[],n);a.includes(Yd)||a.push(Yd),a=Ad(t,a);var o=r.events||[],s=a.e,u=a.sta;s&&(!Kd.includes(s)||!("ps"!==s||u&&Wd.includes(u))||o&&o.length>0&&!o.includes(s))||vd(e,a,r)}}}function md(e,t,n){if(e.g.enabled){n=wd(e,n,Qd);var i=bd({mode:Qd,useHeaders:e.g.useHeaders,includeKeys:e.g.includeKeys||[]});e.m[i]||(e.m[i]={request:1,response:1}),n.sn=e.m[i].request++,function(e,t,n){if(n)e=Sd(e),Object.keys(e).length&&Object.assign(t.headers,e);else{var i=xd(e);i&&(t.uris=t.uris.map(function(e){return Ed(e,i)}))}}(n=Ad(n,i=yd(i=e.g.includeKeys||[],e.g.version==Od?Array.from(new Set([].concat(m(Vd),m(Gd)))):Fd)),t,e.g.useHeaders)}}function vd(e,t,n,i){var r={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},a=n.url;if(n.useHeaders){if(t=Sd(t),!Object.keys(t).length)return;i&&Object.assign(i.headers,t),i=ea([a],r),Object.assign(i.headers,t)}else{if(!(t=xd(t)))return;a=Ed(a,t),i&&(i.uri=a),i=ea([a],r)}e.j.Vb().request(9,i)}function yd(e,t){if(!e||0===e.length)return t;for(var n=g(e),i=n.next();!i.done;i=n.next())t.includes(i.value);return e.filter(function(e){return t.includes(e)})}function Ad(e,t){return Object.keys(e).reduce(function(n,i){return t.includes(i)&&(n[i]=e[i]),n},{})}function bd(e){var t=Object.keys(e).sort().reduce(function(t,n){return"enabled"!==n&&(t[n]=e[n]),t},{});return JSON.stringify(t)}function Td(e,t){if(!(t=e.j.Oc()[t]).length)return 0;var n=e.h?e.h.currentTime:0;return(e=t.find(function(e){return e.start<=n&&e.end>=n}))?1e3*(e.end-n):0}function Cd(e,t,n){var i=t.segment,r=0;i&&(r=i.endTime-i.startTime),(r={d:1e3*r,st:e.j.U()?Ud:Nd}).ot=function(e){if(0===e.type)return Rd;if(e=e.stream){var t=e.type;if("video"==t)return e.codecs&&e.codecs.includes(",")?Ld:Md;if("audio"==t)return Id;if("text"==t)return"application/mp4"===e.mimeType?Dd:Pd}}(t);var a=r.ot===Md||r.ot===Id||r.ot===Ld||r.ot===Dd;if(t=t.stream){var o=e.j.Za();if(a&&(r.bl=function(e,t){if(!(t=e.j.Oc()[t]).length)return NaN;var n=e.h?e.h.currentTime:0;return(e=t.find(function(e){return e.start<=n&&e.end>=n}))?1e3*(e.end-n):NaN}(e,t.type),r.ot!==Dd)){var s=Td(e,t.type);r.dl=o?s/Math.abs(o):s}if(t.bandwidth&&(r.br=t.bandwidth/1e3),t.segmentIndex&&i){if((o=t.segmentIndex.ec(i.endTime,!0,o<0))&&(o=o.next().value)&&o!=i){if(n&&!It(i.T(),o.T())){var u=o.T()[0];s=new URL(u);var l=new URL(n);if(s.origin!==l.origin)n=u;else{n=s.pathname.split("/").slice(1),u=l.pathname.split("/").slice(1,-1),l=Math.min(n.length,u.length);for(var c=0;c<l&&n[c]===u[c];c++)n.shift(),u.shift();for(;u.length;)u.shift(),n.unshift("..");n=n.join("/")+s.search+s.hash}r.nor=n}!o.startByte&&!o.endByte||i.startByte==o.startByte&&i.endByte==o.endByte||(n=o.startByte+"-",o.endByte&&(n+=o.endByte),r.nrr=n)}o=e.j.Za()||1,n=Td(e,t.type)||500,i=(t=t.bandwidth)?t*(i.endTime-i.startTime)/1e3/(n/o/1e3)*e.g.rtpSafetyFactor:NaN,isNaN(i)||(r.rtp=i)}}return a&&r.ot!==Dd&&(r.tb=function(e,t){var n=e.j.Nb();if(!n.length)return NaN;e=n[0];for(var i=(n=g(n)).next();!i.done;i=n.next())"variant"===(i=i.value).type&&i.bandwidth>e.bandwidth&&(e=i);switch(t){case Md:return e.videoBandwidth||NaN;case Id:return e.audioBandwidth||NaN;default:return e.bandwidth}}(e,r.ot)/1e3),r}function wd(e,t,n){Object.assign(t,fd(e)),t.pr=e.j.Za();var i=t.ot===Md||t.ot===Ld;return e.I&&i&&(t.bs=!0,t.su=!0,e.I=!1),null==t.su&&(t.su=e.J),e.j.U()&&(i=Oh(e.j),t.ltc=i||void 0),document.hidden&&(t.bg=!0),null==(i=e.C&&e.A?e.C-(e.H||e.A):void 0)||e.K[n]||(t.msd=i,e.K[n]=!0),t}function xd(e){function t(e){return 100*n(e/100)}function n(e){return Math.round(e)}function i(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e}for(var r=[],a={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(e){return encodeURIComponent(e)},rtp:t,tb:n,ttfb:n,ttlb:n},o=Object.keys(e||{}).sort(),s=(o=g(o)).next();!s.done;s=o.next()){var u=e[s=s.value];if(i(u)&&("v"!==s||1!==u)&&("pr"!=s||1!==u)){var l=a[s];l&&(u=l(u));var c;c="string"===(l=typeof u)&&"ot"!==s&&"sf"!==s&&"st"!==s?s+"="+JSON.stringify(u):"boolean"===l?s:"symbol"===l?s+"="+u.description:s+"="+u,r.push(c)}}return r.join(",")}function Sd(e){for(var t=Object.keys(e),n={},i=["Object","Request","Session","Status"],r=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,url:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,ltc:1,ttfb:1,ttlb:1,ts:1,rc:1,cmsdd:1,cmsds:1,sn:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,msd:2,bs:3,rtp:3,bg:3},o=(t=g(t)).next();!o.done;o=t.next())r[null!=a[o=o.value]?a[o]:1][o]=e[o];for(e=0;e<r.length;e++)(a=xd(r[e]))&&(n["CMCD-"+i[e]]=a);return n}function Ed(e,t){return!t||e.includes("offline:")?e:((e=new ae(e)).g.set("CMCD",t),e.toString())}(r=Jc.prototype).configure=function(){},r.remove=function(e,t){return!!this.i&&(this.h.has(this.g)&&Qc(this.h.get(this.g).track,function(n){return n.startTime<t&&n.endTime>e}),!0)},r.append=function(e){this.h.has(this.g)&&Zc(this.h.get(this.g).track,e)},r.destroy=function(){return this.i&&(this.j&&this.D(),this.i=null),this.l&&(this.l.release(),this.l=null),Promise.resolve()},r.isTextVisible=function(){return this.A},r.setTextVisibility=function(e){if(this.A=e,this.h.has(this.g)){var t=this.h.get(this.g).track;"disabled"!==t.mode&&(e=e?"showing":"hidden",t.mode!==e&&(t.mode=e))}else if(this.i&&3===this.i.l)if(t=Array.from(this.i.h.textTracks).filter(function(e){return["captions","subtitles","forced"].includes(e.kind)}),e){e=null;for(var n=(t=g(t)).next();!n.done;n=t.next()){if("showing"===(n=n.value).mode){e=null;break}e||"hidden"!==n.mode||(e=n)}e&&(e.mode="showing")}else for(t=(e=g(t)).next();!t.done;t=e.next())"showing"===(t=t.value).mode&&(t.mode="hidden")},r.setTextLanguage=function(){},r.enableTextDisplayer=function(){!this.j&&this.i&&2===this.i.l&&(this.j=this.i.h,this.l.ua(this.i,"unloading",this.D),this.l.o(this.i,"textchanged",this.m),this.l.o(this.j.textTracks,"change",this.C),this.m())},G("shaka.text.NativeTextDisplayer",Jc),Jc.prototype.enableTextDisplayer=Jc.prototype.enableTextDisplayer,Jc.prototype.setTextLanguage=Jc.prototype.setTextLanguage,Jc.prototype.setTextVisibility=Jc.prototype.setTextVisibility,Jc.prototype.isTextVisible=Jc.prototype.isTextVisible,Jc.prototype.destroy=Jc.prototype.destroy,Jc.prototype.append=Jc.prototype.append,Jc.prototype.remove=Jc.prototype.remove,Jc.prototype.configure=Jc.prototype.configure,(r=ed.prototype).configure=function(){},r.remove=function(e,t){return!!this.g&&(Qc(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0)},r.append=function(e){this.g&&Zc(this.g,e)},r.destroy=function(){return this.g&&(Qc(this.g,function(){return!0}),this.g.mode="disabled"),this.g=this.h=null,Promise.resolve()},r.isTextVisible=function(){return!!this.g&&"showing"==this.g.mode},r.setTextVisibility=function(e){e&&!this.g&&td(this),this.g&&(this.g.mode=e?"showing":"hidden")},r.setTextLanguage=function(){},r.enableTextDisplayer=function(){td(this)},G("shaka.text.SimpleTextDisplayer",ed),ed.prototype.enableTextDisplayer=ed.prototype.enableTextDisplayer,ed.prototype.setTextLanguage=ed.prototype.setTextLanguage,ed.prototype.setTextVisibility=ed.prototype.setTextVisibility,ed.prototype.isTextVisible=ed.prototype.isTextVisible,ed.prototype.destroy=ed.prototype.destroy,ed.prototype.append=ed.prototype.append,ed.prototype.remove=ed.prototype.remove,ed.prototype.configure=ed.prototype.configure,(r=nd.prototype).configure=function(){},r.remove=function(){},r.append=function(){},r.destroy=function(){},r.isTextVisible=function(){return!1},r.setTextVisibility=function(){},r.setTextLanguage=function(){},r.enableTextDisplayer=function(){},G("shaka.text.StubTextDisplayer",nd),nd.prototype.enableTextDisplayer=nd.prototype.enableTextDisplayer,nd.prototype.setTextLanguage=nd.prototype.setTextLanguage,nd.prototype.setTextVisibility=nd.prototype.setTextVisibility,nd.prototype.isTextVisible=nd.prototype.isTextVisible,nd.prototype.destroy=nd.prototype.destroy,nd.prototype.append=nd.prototype.append,nd.prototype.remove=nd.prototype.remove,nd.prototype.configure=nd.prototype.configure,(r=id.prototype).configure=function(e){this.D=e,rd(this),sd(this,!0)},r.append=function(e){for(var t=[].concat(m(this.h)),n=(e=g(Xc(e))).next(),i={};!n.done;i={Qg:void 0},n=e.next())i.Qg=n.value,t.some(function(e){return function(t){return Xn(t,e.Qg)}}(i))||this.h.push(i.Qg);this.h.length&&rd(this),sd(this)},r.destroy=function(){return this.g?(this.g.parentElement&&this.u.removeChild(this.g),this.g=null,this.m=!1,this.h=[],this.C&&(this.C.stop(),this.C=null),this.l.clear(),this.i&&(this.i.release(),this.i=null),this.F&&(this.F.disconnect(),this.F=null),Promise.resolve()):Promise.resolve()},r.remove=function(e,t){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter(function(n){return n.startTime<e||n.endTime>=t}),sd(this,n>this.h.length),this.h.length||rd(this),!0},r.isTextVisible=function(){return this.m},r.setTextVisibility=function(e){(this.m=e)?(this.g.parentElement||this.u.appendChild(this.g),sd(this,!0)):this.g.parentElement&&this.u.removeChild(this.g)},r.setTextLanguage=function(e){e&&"und"!=e?this.g.setAttribute("lang",e):this.g.setAttribute("lang","")},r.enableTextDisplayer=function(){},G("shaka.text.UITextDisplayer",id),id.prototype.enableTextDisplayer=id.prototype.enableTextDisplayer,id.prototype.setTextLanguage=id.prototype.setTextLanguage,id.prototype.setTextVisibility=id.prototype.setTextVisibility,id.prototype.isTextVisible=id.prototype.isTextVisible,id.prototype.remove=id.prototype.remove,id.prototype.destroy=id.prototype.destroy,id.prototype.append=id.prototype.append,id.prototype.configure=id.prototype.configure,G("shaka.text.WebVttGenerator",function(){}),cd.prototype.setMediaElement=function(t){this.h=t,function(t){t.i.o(t.h,"playing",function(){t.C||(t.C=Date.now()),gd(t,"ps",{td:"p"})}),t.i.o(t.h,"volumechange",function(){gd(t,t.h.muted?"m":"um")}),t.i.o(t.h,"play",function(){t.A||(t.A=Date.now(),gd(t,"ps",{td:"s"}))}),t.i.o(t.h,"pause",function(){gd(t,"ps",{td:"a"})}),t.i.o(t.j,"buffering",function(){gd(t,"ps",{td:"w"})}),t.i.o(t.h,"seeking",function(){return gd(t,"ps",{td:"k"})}),t.i.o(document,"fullscreenchange",function(){gd(t,document.fullscreenElement?"pe":"pc")});var n=t.h;(n.webkitPresentationMode||n.webkitSupportsFullscreen)&&t.i.o(n,"webkitpresentationmodechanged",function(){n.webkitPresentationMode?gd(t,"inline"!==n.webkitPresentationMode?"pe":"pc"):n.webkitSupportsFullscreen&&gd(t,n.webkitDisplayingFullscreen?"pe":"pc")}),t.i.o(t.h,"enterpictureinpicture",function(){gd(t,"pe")}),t.i.o(t.h,"leavepictureinpicture",function(){gd(t,"pc")}),"documentPictureInPicture"in e&&t.i.o(e.documentPictureInPicture,"enter",function(e){gd(t,"pe"),t.i.ua(e.window,"pagehide",function(){gd(t,"pc")})}),t.i.o(document,"visibilitychange",function(){document.hidden?gd(t,"b",{bg:!0}):gd(t,"b")}),t.i.o(t.j,"complete",function(){gd(t,"ps",{td:"e"})})}(this)},cd.prototype.configure=function(e){this.g=e,function(e){dd(e);for(var t=hd(e),n=(t=g(t)).next();!n.done;n=t.next())if(void 0===(n=n.value.timeInterval)&&(n=Xd),n>=1){var i=new Wi(function(){return gd(e,Zd)});i.xa(n),e.G.push(i)}}(this)};var kd="m",Id="a",Md="v",Ld="av",Rd="i",Pd="c",Dd="tt",Od=2,Nd="v",Ud="l",Bd="d",_d="ld",jd="h",qd="lh";G("shaka.util.CmcdManager.StreamingFormat",{DASH:Bd,dn:_d,HLS:jd,fn:qd,wn:"s",OTHER:"o"});var Fd="br bl bs cid d dl mtp nor nrr ot pr rtp sf sid st su tb v".split(" "),Vd="br ab bl tbl bs cdn cid ltc mtp pr sf sid bg sta st ts tpb tb lb tab lab pt ec msd v sn".split(" "),Gd="ab bl tbl bs cdn cid d dl ltc mtp nor ot pr rtp sf sid bg sta st su ts tpb tb lb tab lab pt ec msd v".split(" "),Hd="d dl nor ot rtp rc su ttfb ttfbb ttlb url cmsdd cmsds".split(" "),zd=["e","sta"],Kd="ps e t c b m um pe pc".split(" "),Wd="spawkrfeqd".split(""),Xd=10,Yd="ts",Zd="t",Qd="request",Jd="response",$d="event";function eh(e){this.h=e,this.g=null}function th(e){return!e||"false"!==e.toLowerCase()&&(/^[-0-9]/.test(e)?parseInt(e,10):e.replace(/["]+/g,""))}(r=eh.prototype).configure=function(e){this.h=e},r.Xi=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(ih)?1e3*this.g.get(ih):null},r.Wi=function(){return this.h.enabled&&this.g&&this.g.has(nh)?1e3*this.g.get(nh):null},r.fl=function(){return this.h.enabled&&this.g&&this.g.has(rh)?this.g.get(rh):null},r.hl=function(){return this.h.enabled&&this.g&&this.g.has(ah)?this.g.get(ah):null},r.getBandwidthEstimate=function(e){var t=this.Wi();if(!t)return e;var n=this.h.estimatedThroughputWeightRatio;return n>0&&n<=1?e*(1-n)+t*n:e},G("shaka.util.CmsdManager",eh),eh.prototype.getBandwidthEstimate=eh.prototype.getBandwidthEstimate,eh.prototype.getRoundTripTime=eh.prototype.hl,eh.prototype.getResponseDelay=eh.prototype.fl,eh.prototype.getEstimatedThroughput=eh.prototype.Wi,eh.prototype.getMaxBitrate=eh.prototype.Xi;var nh="etp",ih="mb",rh="rd",ah="rtt";function oh(){this.g=null,this.h=[]}function sh(e,t){return D(function(n){if(1==n.g)return e.g?T(n,new Promise(function(t){return e.h.push(t)}),2):n.B(2);e.g=t,C(n)})}function uh(t,n,i){n=void 0===n?null:n,ee.call(this);var r=this;this.l=fp,this.h=null,this.Qe=n,this.W=!1,this.bf=new Mt,this.Re=new Mt,this.j=new Mt,this.kc=new Mt,this.Hc=new Mt,this.G=this.H=this.F=this.J=null,this.cf=0,this.ea=new oh,this.O=this.Z=this.V=this.i=this.Gc=this.I=this.m=this.Ne=this.R=this.Di=this.ra=this.K=this.fb=this.Ca=this.Pe=this.P=this.La=this.L=this.jb=null,this.aa=!1,this.Ve=this.u=null,this.Ue=1e9,this.Ze=[],this.Dc=new Map,this.ib=[],this.Bg=-1,this.g=_h(this),this.Dg={streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}},this.S=null,this.df=-1,this.Ob=null,this.sa={width:1/0,height:1/0},this.Te=new eo(this.g,this.sa,null),this.Xe=[],this.C=null,this.M=this.g.adaptationSetCriteriaFactory(),this.M.configure({language:this.g.preferredAudioLanguage,role:this.g.preferredAudioRole,videoRole:this.g.preferredVideoRole,channelCount:0,hdrLevel:this.g.preferredVideoHdrLevel,spatialAudio:this.g.preferSpatialAudio,videoLayout:this.g.preferredVideoLayout,audioLabel:this.g.preferredAudioLabel,videoLabel:this.g.preferredVideoLabel,codecSwitchingStrategy:this.g.mediaSource.codecSwitchingStrategy,audioCodec:"",activeAudioCodec:"",activeAudioChannelCount:0,preferredAudioCodecs:this.g.preferredAudioCodecs,preferredAudioChannelCount:this.g.preferredAudioChannelCount}),this.Vd=this.g.preferredTextLanguage,this.ee=this.g.preferredTextRole,this.ce=this.g.preferForcedSubs,this.Se=[],i&&i(this),this.K=new cd(this,this.g.cmcd),this.ra=new eh(this.g.cmsd),this.J=xh(this),this.ae=this.oa=this.ya=this.D=null,this.Fg=!1,this.Cg=[],this.Eg=new Wi(function(){return D(function(e){return 1==e.g?r.oa?T(e,r.cc(r.ae,!0),3):e.B(0):4!=e.g?T(e,r.load(r.oa),4):(r.Fg?r.ae.pause():r.ae.play(),r.oa=null,r.Fg=!1,void C(e))})}),Ap&&(this.D=Ap(),this.D.configure(this.g.ads),this.Hc.o(this.D,"ad-content-pause-requested",function(e){var t;return D(function(n){if(1==n.g)return r.Eg.stop(),r.oa?n.B(0):(r.ae=r.h,r.Fg=r.isEnded(),t=e.saveLivePosition||!1,T(n,r.Ri(!0,t),3));r.oa=n.h,C(n)})}),this.Hc.o(this.D,"ad-content-resume-requested",function(e){if(e=e.offset||0,r.oa){var t=r.oa;t.m&&e&&("number"==typeof t.m?t.m+=e:t.m.setTime(t.m.getTime()+1e3*e))}r.Eg.Y(.1)}),this.Hc.o(this.D,"ad-content-attach-requested",function(){return D(function(e){return r.h||!r.ae?e.B(0):T(e,r.cc(r.ae,!0),0)})})),bp&&(this.ya=bp(this),this.ya.configure(this.g.queue)),this.bf.o(e,"online",function(){rp(r),r.Wh()}),this.We=new Wi(function(){for(var e=Date.now()/1e3,t=!1,n=!0,i=g(r.i.variants),a=i.next();!a.done;a=i.next())(a=a.value).disabledUntilTime>0&&a.disabledUntilTime<=e&&(a.disabledUntilTime=0,t=!0),a.disabledUntilTime>0&&(n=!1);n&&r.We.stop(),t&&Kh(r,!1,void 0,!1,!1)}),this.Na=null,t&&(Dt("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.cc(t,!0)),this.A=null}function lh(e){null!=e.R&&(jt(e.R),e.R.release(),e.R=null)}function ch(e,t){return new H(e,t)}function dh(e,t){yp.set(e,t)}function hh(){return e.Promise||Y("A Promise implementation or polyfill is required"),!(!(e.Promise&&e.Uint8Array&&Array.prototype.forEach)||(navigator.userAgent||"").includes("Trident/"))&&(Re(),!!uy()||""!=fs().canPlayType("application/x-mpegurl"))}function ph(e,t){e.dispatchEvent(ch("onstatechange",(new Map).set("state",t)))}function fh(e,t){var n;return D(function(i){return 1==i.g?(n=++e.cf,T(i,sh(e.ea,t),2)):n!=e.cf?(e.ea.release(),i.return(!0)):i.return(!1)})}function gh(e,t){var n,i,r;return t=void 0!==t&&t,D(function(a){if(1==a.g)return n=null,e.i&&e.I&&e.Gc&&e.V&&e.g?(i=e.h.currentTime,e.U()&&!t&&(i=null),T(a,vh(e,e.V,i,e.Z,e.g,!0,!1),3)):a.B(2);if(2!=a.g){n=a.h,e.Xe.push(n),e.I&&e.I.setMediaElement&&e.I.setMediaElement(null),(r=e.m?e.m.u:null)&&(n.u=r);var o=n,s=e.I,u=e.Gc;o.h=e.i,o.l=s,o.H=u,n.D=e.M,n.start(),e.i=null,e.I=null,e.Gc=null,e.u=null,e.Ve=null}return a.return(n)})}function mh(e,t,n,i,r,a){var o,s,u;return r=void 0!==r&&r,D(function(l){return 1==l.g?i?l.B(2):T(l,yh(e,t),3):(2!=l.g&&(i=l.h),function(e,t){if(!uy(Re()))return!0;if(t){if(""==(e.h||fs()).canPlayType(t))return!1;if(!uy(Re())||!co.has(t))return!0;if(Ni(t))return"WEBKIT"===Re().Ja()&&(e.g.drm.servers["com.apple.fps"]||e.g.drm.servers["com.apple.fps.1_0"])?e.g.streaming.useNativeHlsForFairPlay:e.g.streaming.preferNativeHls;if("application/dash+xml"===t||"video/vnd.mpeg.dash.mpd"===t)return e.g.streaming.preferNativeDash}return!1}(e,i)?l.return(null):(o=a||e.g,s=!1,r&&e.h&&"AUDIO"===e.h.nodeName&&(s=!0),u=vh(e,t,n,i||null,o,!r,s),u=r?u.then(function(e){return e.F=!1,e}):u.then(function(t){return e.Xe.push(t),t}),l.return(u)))})}function vh(e,t,n,i,r,a,o){var s,u,l,c,d,h,p,f,m,v,y,A;return a=void 0===a||a,o=void 0!==o&&o,D(function(b){return 1==b.g?(s=null,u=dn(r),o&&(u.manifest.disableVideo=!0),l=function(){return s.P&&s.j?null:s},c=function(){return l()?l().getConfiguration():e.g},e.sa.width!=1/0||e.sa.height!=1/0||e.g.ignoreHardwareResolution?b.B(2):T(b,Re().wc(),3)):(2!=b.g&&(d=b.h,e.sa.width=d.width,e.sa.height=d.height),h=new eo(u,e.sa,null),p={networkingEngine:e.J,filter:function(e){var t;return D(function(n){return 1==n.g?T(n,to(h,e),2):4!=n.g?n.h?(t=ch("trackschanged"),T(n,Promise.resolve(),4)):n.B(0):(s.dispatchEvent(t),void C(n))})},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var n=new Set,i=g(t.textStreams),r=i.next();!r.done;r=i.next())"application/cea-608"!=(r=r.value).mimeType&&"application/cea-708"!=r.mimeType||n.add(r.originalId);for(i=g(t.variants),r=i.next();!r.done;r=i.next())if((r=r.value.video)&&r.closedCaptions)for(var a=g(r.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=o.startsWith("CC")?"application/cea-608":"application/cea-708",u=new Xu,l=r.closedCaptions.get(o);s={id:e.Ue++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:l,originalLanguage:l,label:null,type:it,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:r.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([ki(s,"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},t.textStreams.push(s),n.add(o)}}(e,t)},onTimelineRegionAdded:function(e){il(s.I,e)},onEvent:function(e){return s.dispatchEvent(e)},onError:function(e){return s.onError(e)},isLowLatencyMode:function(){return c().streaming.lowLatencyMode},updateDuration:function(){e.m&&s.P&&e.m.updateDuration()},newDrmInfo:function(e){var t=s.i,n=t?t.g:null;n&&t.C&&ro(h,n.keySystem,e)},onManifestUpdated:function(){var t=(new Map).set("isLive",e.U());s.dispatchEvent(ch("manifestupdated",t)),Sc(s,!1,function(){e.D&&e.D.onManifestUpdated(e.U())})},getBandwidthEstimate:function(){return e.u.getBandwidthEstimate()},onMetadata:function(t,n,i,r){var a=t;"com.apple.hls.interstitial"!=t&&"com.apple.hls.overlay"!=t||(a="com.apple.quicktime.HLS",t={startTime:n,endTime:i,values:r},e.D&&e.D.onHLSInterstitialMetadata(e,e.h,t)),t=(r=g(r)).next();for(var o={};!t.done;o={Qh:void 0},t=r.next())o.Qh=t.value,"ID"!=o.Qh.name&&Sc(s,!1,function(t){return function(){wh(e,n,i,a,t.Qh)}}(o))},disableStream:function(t){return e.disableStream(t,e.g.streaming.maxDisabledTime)},addFont:function(t,n){return e.addFont(t,n)}},(f=new nl(function(){return e.wa()})).addEventListener("regionadd",function(t){var n=t.region;op(e,"timelineregionadded",n,s),Sc(s,!1,function(){e.D&&(e.D.onDashTimedMetadata(n),e.D.onDASHInterstitialMetadata(e,e.h,n))})}),m=null,u.streaming.observeQualityChanges&&((m=new $u(function(){return e.Oc()})).addEventListener("qualitychange",function(t){sp(e,t.quality,t.position)}),m.addEventListener("audiotrackchange",function(t){sp(e,t.quality,t.position,!0)})),v=!0,y={Cc:e.J,onError:function(e){return s.onError(e)},Sf:function(t){Sc(s,!0,function(){e.F&&function(e,t){var n=ch("keystatuschanged");e.dispatchEvent(n);var i=Object.keys(t);1==i.length&&""==i[0]&&(i=["00"],t={"00":t[""]});var r=1==i.length&&"00"==i[0];if(n=!1,i.length){i=e.keySystem();for(var a=ca(e.g.drm.clearKeys),o=function(n,i){n.allowedByKeySystem=!0;for(var a=(i=g(i)).next();!a.done;a=i.next())a=a.value,((a=t[r?"00":a])||e.F.H)&&(n.allowedByKeySystem=n.allowedByKeySystem&&!!a&&!oo.includes(a))},s=g(e.i.variants),u=s.next();!u.done;u=s.next())for(var l=Ar(u=u.value),c=(l=g(l)).next();!c.done;c=l.next()){c=c.value;var d=u.allowedByKeySystem;if(c.keyIds.size)if(c.drmInfos.length&&!a.size&&"HLS"==e.i.type)for(var h=g(c.drmInfos),p=h.next();!p.done;p=h.next())(p=p.value).keySystem==i&&(p.keyIds.size?o(u,p.keyIds):o(u,c.keyIds));else o(u,c.keyIds);d!=u.allowedByKeySystem&&(n=!0)}}if(n&&(Zh(e),!Hh(e)))return;(n=e.m.u)&&!n.allowedByKeySystem&&Kh(e)}(e,t)})},onExpirationUpdated:function(e,t){var n=ch("expirationupdated");s.dispatchEvent(n),(n=s.l)&&n.onExpirationUpdated&&n.onExpirationUpdated(e,t)},onEvent:function(t){s.dispatchEvent(t),"drmsessionupdate"==t.type&&v&&(v=!1,t=Date.now()/1e3-s.sa,(e.C||s.getStats()).m=t,e.R&&jt(e.R))}},A=xh(e,l),$r(e.J,A),s=new xc(t,i,n,{config:u,Ol:p,Zl:f,Yl:m,Dd:function(){return e.Dd(y)},Nl:h,networkingEngine:A,kk:a}),b.return(s))})}function yh(e,t){var n,i;return D(function(r){return 1==r.g?(n=e.g.manifest.retryParameters,T(r,_c(t,e.J,n),2)):("application/x-mpegurl"==(i=r.h)&&("WEBKIT"===Re().Ja()&&(i="application/vnd.apple.mpegurl")),"video/quicktime"==i&&("CHROMIUM"===Re().Ja()&&(i="video/mp4")),r.return(i))})}function Ah(e,t){var n=e.g.textDisplayFactory;e.Ci!==n||void 0!==t&&t?(t=e.A,e.A=n(),e.A.configure?e.A.configure(e.g.textDisplayer):Dt("Text displayer w/ configure",'Text displayer should have a "configure" method!'),e.A.setTextLanguage||Dt("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!'),t?(e.A.setTextVisibility(t.isTextVisible()),t.destroy().catch(function(){})):e.A.setTextVisibility(e.W),e.H&&function(e,t){e.Z=t,e.h&&(e.h.l=t)}(e.H,e.A),e.Ci=n,e.m&&function(e){var t=e.h.get(it);t&&xl(e,t.stream,!0,0,!0)}(e.m)):e.A&&e.A.configure&&e.A.configure(e.g.textDisplayer)}function bh(e){var t,n,i;return D(function(r){if(1==r.g)return Re(),ph(e,"media-source"),e.g.mediaSource.useSourceElements&&hs(e.h),Ah(e),t=function(e,t,n,i,r){return new Hs(e,t,n,r,i)}(e.h,e.A,{Qk:function(){return e.keySystem()},onMetadata:function(t,n,i){for(var r=(t=g(t)).next();!r.done;r=t.next())if((r=r.value).data&&"number"==typeof r.cueTime&&r.frames){var a=r.cueTime+n,o=i;o&&a>o&&(o=a);for(var s=g(r.frames),u=s.next();!u.done;u=s.next())wh(e,a,o,"org.id3",u.value);e.D&&e.D.onHlsTimedMetadata(r,a)}},Tl:function(t){e.fb&&il(e.fb,{schemeIdUri:t.schemeIdUri,startTime:t.startTime,endTime:t.endTime,id:String(t.id),emsg:t})},onEvent:function(t){return e.dispatchEvent(t)},Vl:function(){e.I&&e.I.update&&e.I.update()}},e.R,e.g.mediaSource),n=e.g.manifest,i=n.segmentRelativeVttTiming,t.Ca=i,T(r,t.L,2);e.H=t,C(r)})}function Th(e,t,n){function i(){return Fh(e)}if(e.j.o(t,"playing",i),e.j.o(t,"pause",i),e.j.o(t,"ended",i),e.j.o(t,"ratechange",function(){var t=e.h.playbackRate;0!=t&&(e.L&&(e.L.set(t),e.l==gp&&e.u.playbackRateChanged(t),qh(e,t)),t=ch("ratechange"),e.dispatchEvent(t))}),t.remote&&(e.j.o(t.remote,"connect",function(){e.m&&"connected"==t.remote.state&&ep(e),Zh(e)}),e.j.o(t.remote,"connecting",function(){return Zh(e)}),e.j.o(t.remote,"disconnect",function(){return D(function(n){if(1==n.g)return e.m&&"disconnected"==t.remote.state?T(n,Gl(e.m),3):n.B(2);2!=n.g&&ep(e),Zh(e),C(n)})})),t.audioTracks&&(e.j.o(t.audioTracks,"addtrack",function(){return Zh(e)}),e.j.o(t.audioTracks,"removetrack",function(){return Zh(e)}),e.j.o(t.audioTracks,"change",function(){return Zh(e)})),t.videoTracks&&(e.j.o(t.videoTracks,"addtrack",function(){return Zh(e)}),e.j.o(t.videoTracks,"removetrack",function(){return Zh(e)}),e.j.o(t.videoTracks,"change",function(){return Zh(e)})),(t.webkitPresentationMode||t.webkitSupportsFullscreen)&&e.j.o(t,"webkitpresentationmodechanged",function(){e.Qe&&Ah(e,!0)}),t.textTracks){var r=function(){e.l===mp&&e.A instanceof Jc&&ep(e),Zh(e)};e.j.o(t.textTracks,"addtrack",function(t){if(t.track)switch(t=t.track,t.kind){case"metadata":!function(e,t){if("metadata"==t.kind){t.mode="hidden",e.j.o(t,"cuechange",function(){if(t.activeCues)for(var n=g(t.activeCues),i=n.next();!i.done;i=n.next())i=i.value,wh(e,i.startTime,i.endTime,i.type,i.value),e.D&&e.D.onCueMetadataChange(i.value);if(t.cues){n=[];for(var r=(i=g(t.cues)).next(),a={};!r.done;a={Mc:void 0},r=i.next())a.Mc=r.value,"com.apple.quicktime.HLS"==a.Mc.type&&null!=a.Mc.startTime&&(r=n.find(function(e){return function(t){return t.startTime==e.Mc.startTime&&t.endTime==e.Mc.endTime}}(a)),r||(r={startTime:a.Mc.startTime,endTime:a.Mc.endTime,values:[]},n.push(r)),r.values.push(a.Mc.value));for(i=(n=g(n)).next();!i.done;i=n.next())(i=i.value).values.some(function(e){return"X-ASSET-URI"==e.key||"X-ASSET-LIST"==e.key})&&e.D&&(i.values.push({key:"CUE",description:"",data:0!=i.startTime||e.U()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),e.D.onHLSInterstitialMetadata(e,e.h,i))}});var n=new Wi(function(){for(var t=function(e){return Array.from(e.h.textTracks).filter(function(e){return"metadata"==e.kind})}(e),n=(t=g(t)).next();!n.done;n=t.next())n.value.mode="hidden"}).Ka().Y(.5);e.Se.push(function(){n.stop()})}}(e,t);break;case"chapters":!function(e,t){if(t&&"chapters"==t.kind){t.mode="hidden";var n=new Wi(function(){t.mode="hidden"}).Ka().Y(.5);e.Se.push(function(){n.stop()})}}(e,t);break;default:r()}}),e.j.o(t.textTracks,"removetrack",r),e.j.o(t.textTracks,"change",r)}"none"!=t.preload&&e.j.ua(t,"loadedmetadata",function(){e.C.G=Date.now()/1e3-n})}function Ch(e,t,n){t=(new Map).set("startTime",t.startTime).set("endTime",t.endTime).set("metadataType",t.schemeIdUri).set("payload",t.payload),e.dispatchEvent(ch(n,t))}function wh(e,t,n,i,r){e.Ca&&((t={schemeIdUri:i,startTime:t,endTime:n||1/0,id:"",payload:r}).id=JSON.stringify(t),il(e.Ca,t))}function xh(e,t){function n(n){t()?t().dispatchEvent(n):e.dispatchEvent(n)}function i(e){t()?Sc(t(),!0,e):e()}t||(t=function(){return null});var r=new Qr(function(t,n,r,a,o){i(function(){e.u&&e.u.segmentDownloaded(t,n,r,a,o)})},function(t,r,a){n(ch("downloadheadersreceived",r=(new Map).set("headers",t).set("request",r).set("requestType",a))),i(function(){if(e.ra){var n=e.ra;if(n.h.enabled){var i=t["cmsd-static"];if(i)try{var r=new Map,a=i.split(",");for(i=0;i<a.length;i++){var o=a[i].split("=");r.set(o[0],th(o[1]))}}catch(e){}if(r=t["cmsd-dynamic"]){e:{try{var s=new Map,u=r.split(";");for(r=1;r<u.length;r++){var l=u[r].split("=");s.set(l[0],th(l[1]))}var c=s;break e}catch(e){c=null;break e}c=void 0}c&&(n.g=c)}}}})},function(e,t){n(ch("downloadcompleted",e=(new Map).set("request",e).set("response",t)))},function(e,t,i,r){n(ch("downloadfailed",e=(new Map).set("request",e).set("error",t).set("httpResponseCode",i).set("aborted",r)))},function(t,n,r){i(function(){if(e.K){var i=e.K,a=r;if(a=void 0===a?{}:a,i.g.enabled)if("HEAD"===n.method)md(i,n,{});else switch(t){case 0:try{if(i.g.enabled){if(a.type){e:{switch(a.type){case 4:var o=i.u?_d:Bd;break e;case 3:case 2:o=i.u?qd:jd;break e;case 5:o="s";break e}o=void 0}i.l=o}md(i,n,{ot:kd,su:!i.D})}}catch(e){Z("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",e)}break;case aa:try{if(i.g.enabled){var s=Cd(i,a,n.uris[0]);s.ts=Date.now(),i.F.set(n,s.ts),md(i,n,s)}}catch(e){Z("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",e)}break;case 2:case 5:case 6:md(i,n,{ot:"k"});break;case 4:md(i,n,{ot:"o"})}}})},function(n,i,r,a){(n=t()?t().l:e.I)&&n.banLocation&&n.banLocation(a)},function(n,i,r){if(i.data){var a=i.data.byteLength,o=t()?t().getStats():e.C;if(o&&(Cc(o,a),0===n&&(o.jj=a)),r=void 0===r?{}:r,0!==pd(a=e.K).length&&n===aa)try{var s=Cd(a,r,i.uri);i.originalRequest&&null!=i.originalRequest.timeToFirstByte&&(s.ttfb=i.originalRequest.timeToFirstByte),null!=i.timeMs&&(s.ttlb=i.timeMs);var u=i.originalUri||i.uri;if(u.includes("CMCD="))try{var l=new URL(u);l.searchParams.delete("CMCD");var c=l.toString()}catch(e){c=u}else c=u;s.url=c,a.F.has(i.originalRequest)?(s.ts=a.F.get(i.originalRequest),a.F.delete(i.originalRequest)):s.ts||(s.ts=Date.now());var d=pd(a);if(0!==d.length){var h=a.g.version==Od?Array.from(new Set([].concat(m(Vd),m(Hd)))):Fd;s.rc=i.status||0;var p=wd(a,s,Jd);i.headers&&i.headers["CMSD-Static"]&&(p.cmsds=btoa(i.headers["CMSD-Static"])),i.headers&&i.headers["CMSD-Dynamic"]&&(p.cmsdd=btoa(i.headers["CMSD-Dynamic"]));for(var f=g(d),v=f.next();!v.done;v=f.next()){var y=v.value,A=yd(y.includeKeys||[],h),b=bd(y);a.m[b]||(a.m[b]={request:1,response:1}),p.sn=a.m[b].response++,vd(a,Ad(p,A),y,i)}}}catch(e){Z("CMCD_SEGMENT_ERROR","Could not generate response segment CMCD data.",e)}}});return r.configure(e.g.networking),r}function Sh(e,t,n){e.P=new Za,Qa(e.P,Ja),Eh(e),jh(e),e.La=new Wi(function(){kh(e)}),e.g.streaming.rebufferingGoal&&e.La.xa(.25),e.j.o(t,"waiting",function(){return kh(e,"waiting")}),e.j.o(t,"canplaythrough",function(){return kh(e,"canplaythrough")}),e.j.o(t,"playing",function(){return kh(e,"playing")}),e.j.o(t,"seeked",function(){return kh(e,"seeked")}),n&&(e.j.o(t,"stalled",function(){return kh(e,"stalled")}),e.j.o(t,"progress",function(){return kh(e,"progress")}),e.j.o(t,"timeupdate",function(){return kh(e,"timeupdate")}))}function Eh(e){var t=e.g.streaming.rebufferingGoal;e.P.i.set($a,Math.min(.5,t/2)).set(Ja,t)}function kh(e,t){if(e.g.streaming.rebufferingGoal){t=!!e.H&&Ys(e.H),t=e.isEnded()||t||e.G.fj();var n=as(e.h.buffered,e.h.currentTime),i=e.P,r=i.i.get(i.g);Qa(i,t||n>=r&&n>0?$a:Ja)&&jh(e)}else if(t){switch(n=void 0,t){case"seeking":case"waiting":n=Ja;break;case"canplaythrough":case"playing":case"seeked":n=$a}void 0!==n&&Qa(e.P,n)&&jh(e)}}function Ih(e,t){if(e.Te=new eo(e.g,e.sa,e.F),e.I){var n=dn(e.g.manifest);e.h&&"AUDIO"===e.h.nodeName&&(n.disableVideo=!0),e.I.configure(n)}if(e.F&&e.F.configure(e.g.drm),e.m){e.m.configure(e.g.streaming);try{e.l!=pp&&io(e.Te,e.i)&&Zh(e)}catch(t){ap(e,t)}e.u&&Hh(e),!(n=e.m.u)||n.allowedByApplication&&n.allowedByKeySystem||Kh(e)}if(e.J&&e.J.configure(e.g.networking),e.H&&(e.H.configure(e.g.mediaSource),e.H.Ca=e.g.manifest.segmentRelativeVttTiming),e.A&&Ah(e),e.u&&(e.u.configure(e.g.abr),e.g.abr.enabled?e.u.enable():e.u.disable(),np(e)),e.P&&Eh(e),e.La&&(e.g.streaming.rebufferingGoal?e.La.xa(.25):e.La.stop()),e.i&&lp(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.D&&e.D.configure(e.g.ads),e.K&&e.K.configure(e.g.cmcd),e.ra&&e.ra.configure(e.g.cmsd),e.ya&&e.ya.configure(e.g.queue),e.l==gp&&e.M.getConfiguration){n=e.M.getConfiguration();var i=!1;t.preferredVideoHdrLevel!=e.g.preferredVideoHdrLevel&&n.hdrLevel!=e.g.preferredVideoHdrLevel&&(n.hdrLevel=e.g.preferredVideoHdrLevel,i=!0),t.preferredVideoLayout!=e.g.preferredVideoLayout&&n.videoLayout!=e.g.preferredVideoLayout&&(n.videoLayout=e.g.preferredVideoLayout,i=!0),t.preferSpatialAudio!=e.g.preferSpatialAudio&&n.spatialAudio!=e.g.preferSpatialAudio&&(n.spatialAudio=e.g.preferSpatialAudio,i=!0),t.preferredVideoRole!=e.g.preferredVideoRole&&n.videoRole!=e.g.preferredVideoRole&&(n.videoRole=e.g.preferredVideoRole,i=!0),i&&(e.M.configure(n),Kh(e))}}function Mh(e){return e&&(e=/(\d+)x(\d+)/.exec(e))?{columns:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}function Lh(e,t){var n,i;return D(function(r){return 1==r.g?e.l!=gp&&e.l!=mp?r.return(null):(n=e.Ze,e.i&&(n=e.i.imageStreams),(i=n[0])?(null!=t&&(i=n.find(function(e){return e.id==t})),i?i.segmentIndex?r.B(2):T(r,i.createSegmentIndex(),2):r.return(null)):r.return(null)):r.return(i)})}function Rh(e,t,n,i){var r=t.width||0,a=t.height||0,o=r/i.columns,s=a/i.rows,u=i.columns*i.rows,l=e.j-e.startTime;l=e.C||l/u;var c=e.startTime,d=0,h=0;return u>1&&(h=Math.floor((n-e.startTime)/l),c=e.startTime+h*l,d=h%i.columns*o,h=Math.floor(h/i.columns)*s),i=!1,(n=e.thumbnailSprite)&&(i=!0,s=n.height,d=n.positionX,h=n.positionY,o=n.width),{segment:e,imageHeight:a,imageWidth:r,height:s,positionX:d,positionY:h,startTime:c,duration:l,uris:e.T(),startByte:e.Sc(),endByte:e.Pc(),width:o,sprite:i,mimeType:e.mimeType||t.mimeType,codecs:e.codecs||t.codecs}}function Ph(e,t){e.j.o(t,"cuechange",function(){e.A.remove(0,Math.max(0,e.h.currentTime-e.g.streaming.bufferBehind));for(var n={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},i=[],r=Array.from(t.activeCues||[]),a=(r=g(r)).next();!a.done;a=r.next()){if((a=a.value).endTime===1/0||a.endTime<a.startTime)a=null;else{var o=new Kn(a.startTime,a.endTime,a.text);o.line="number"==typeof a.line?a.line:null,a.lineAlign&&(o.lineAlign=a.lineAlign),o.lineInterpretation=a.snapToLines?oi:1,o.position="number"==typeof a.position?a.position:null,a.positionAlign&&(o.positionAlign=a.positionAlign),o.size=a.size,o.textAlign=a.align,"lr"===a.vertical?o.writingMode="vertical-lr":"rl"===a.vertical&&(o.writingMode="vertical-rl"),a.region&&(o.region.id=a.region.id,o.region.height=a.region.lines,o.region.heightUnits=2,o.region.regionAnchorX=a.region.regionAnchorX,o.region.regionAnchorY=a.region.regionAnchorY,o.region.scroll=a.region.scroll,o.region.viewportAnchorX=a.region.viewportAnchorX,o.region.viewportAnchorY=a.region.viewportAnchorY,o.region.viewportAnchorUnits=en,o.region.width=a.region.width,o.region.widthUnits=en),Yn(o),a=o}a&&((o=e.g.mediaSource.modifyCueCallback)&&o(a,null,n),i.push(a))}e.A.append(i)}),t.mode=document.pictureInPictureElement?"showing":"hidden"}function Dh(e){return Array.from(e.h.textTracks).filter(function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label})}function Oh(e){if(!e.h||!e.h.currentTime)return null;var t=e.Zi();return t?Math.floor(Date.now()-(t.getTime()+1e3*e.h.currentTime)):null}function Nh(e,t){var n;return D(function(i){switch(i.g){case 1:return w(i,2),T(i,_c(t,e.J,e.g.streaming.retryParameters),4);case 4:n=i.h,S(i,3);break;case 2:E(i);case 3:if(n)return i.return(n);throw new Ie(1,2,2011,t)}})}function Uh(e,t,n,i){var r,a,o;return D(function(s){if(1==s.g){r=aa,(a=ea([t],i)).method="GET";var u=e.K;try{u.g.enabled&&md(u,a,{ot:Pd,su:!0})}catch(e){Z("CMCD_TEXT_ERROR","Could not generate text CMCD data.",e)}return T(s,n.request(r,a).promise,2)}return o=s.h,s.return(o.data)})}function Bh(e,t,n,i){var r=qi(n);if(r)return n=r(),e={periodStart:0,segmentStart:0,segmentEnd:e.h.duration,vttOffset:0},t=xe(t),function(e,t){function n(e){for(var n=e,i=g(t),r=i.next();!r.done;r=i.next())(r=r.value).end&&r.start<e&&(n+=r.end-r.start);return((e=Math.floor(n/3600))<10?"0":"")+e+":"+((i=Math.floor(n/60%60))<10?"0":"")+i+":"+((r=Math.floor(n%60))<10?"0":"")+r+"."+((n=Math.floor(1e3*n%1e3))<100?n<10?"00":"0":"")+n}var i=Wc(e);e="WEBVTT\n\n";for(var r=(i=g(i)).next();!r.done;r=i.next())e+=n((r=r.value).startTime)+" --\x3e "+n(r.endTime)+function(e){var t=[];switch(e.textAlign){case"left":t.push("align:left");break;case"right":t.push("align:right");break;case ei:t.push("align:middle");break;case"start":t.push("align:start");break;case"end":t.push("align:end")}switch(e.writingMode){case"vertical-lr":t.push("vertical:lr");break;case"vertical-rl":t.push("vertical:rl")}return t.length?" "+t.join(" "):""}(r)+"\n",e+=r.payload+"\n\n";return e}(t=n.parseMedia(t,e,null,[]),i);throw new Ie(2,2,2014,n)}function _h(e){var t=dc();return t.streaming.failureCallback=function(t){if(e.U()){var n=null;1001==t.code||1002==t.code?(n=1,e.g.streaming.lowLatencyMode&&(n=.1)):1003==t.code&&(n=.1),null!=n&&(t.severity=1,e.Wh(n))}},t.textDisplayFactory=function(){if(e.Qe){var t=e.h;t=!(t.webkitDisplayingFullscreen||t.webkitPresentationMode&&"inline"!=t.webkitPresentationMode)}else t=!1;return t?new id(e.h,e.Qe):"track"in document.createElement("track")?new Jc(e):new nd},t}function jh(e){var t=e.Df();if(e.C&&e.P&&e.G){if(0==e.g.streaming.rebufferingGoal){var n=e.L;n.j=!1,Zu(n)}else(n=e.L).j=t,Zu(n);if(e.K&&(n=e.K,t||n.D||(n.D=!0),n.D&&t&&(n.I=!0,gd(n,"ps",{td:"r"})),n.J=t),Fh(e),n=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,e.g.streaming.liveSync.dynamicTargetLatency.enabled&&t&&e.df<n){n=e.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var i=e.g.streaming.liveSync.targetLatencyTolerance,r=e.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;e.S&&(e.S=Math.min(e.S+ ++e.df*r,n-i))}}t=(new Map).set("buffering",t),e.dispatchEvent(ch("buffering",t))}function qh(e,t){e.kc.Sa(),e.kc.o(e.h,"timeupdate",function(){var n=e.h.currentTime,i=e.wa(),r=e.U(),a=r?e.g.streaming.safeSeekOffset:0;t>0?(!r||t>=1)&&Math.floor(n)>=Math.floor(i.end)&&e.Bd():Math.floor(n)<=Math.floor(i.start+a)&&e.Bd()})}function Fh(e){if(e.C&&e.P){var t=e.C.g,n="playing";e.P.g==Ja?n="buffering":e.isEnded()?n="ended":e.h.paused&&(n="paused");var i=n;if(null==t.g)t.g={timestamp:Date.now()/1e3,state:i,duration:0},t=!0;else{var r=Date.now()/1e3;t.g.duration=r-t.g.timestamp,t.g.state==i?t=!1:(t.h.push(t.g),t.g={timestamp:r,state:i,duration:0},t=!0)}t&&(n=(new Map).set("newstate",n),e.dispatchEvent(ch("statechanged",n)))}}function Vh(e){var t=e.h.playbackRate,n=e.U();if(e.g.streaming.vodDynamicPlaybackRate&&!n){var i=e.g.streaming.vodDynamicPlaybackRateLowBufferRate,r=e.Vi();r<=e.g.streaming.vodDynamicPlaybackRateBufferRatio?t!=i&&e.sc(i,!1):1==r&&t!==e.L.jd()&&e.Bd()}if(n&&(n=e.wa(),Number.isFinite(n.end)&&!(e.h.currentTime<n.start||e.h.paused))){i=e.g.streaming.liveSync.targetLatencyTolerance,r=e.g.streaming.liveSync.dynamicTargetLatency.enabled;var a=e.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled)var o=e.g.streaming.liveSync.targetLatency,s=o+i,u=Math.max(0,o-i),l=e.g.streaming.liveSync.maxPlaybackRate,c=e.g.streaming.liveSync.minPlaybackRate;else e.i&&e.i.serviceDescription&&(o=e.i.serviceDescription.targetLatency,null!=e.i.serviceDescription.targetLatency?s=e.i.serviceDescription.targetLatency+i:null!=e.i.serviceDescription.maxLatency&&(s=e.i.serviceDescription.maxLatency),null!=e.i.serviceDescription.targetLatency?u=Math.max(0,e.i.serviceDescription.targetLatency-i):null!=e.i.serviceDescription.minLatency&&(u=e.i.serviceDescription.minLatency),l=e.i.serviceDescription.maxPlaybackRate||e.g.streaming.liveSync.maxPlaybackRate,c=e.i.serviceDescription.minPlaybackRate||e.g.streaming.liveSync.minPlaybackRate);e.S||"number"!=typeof o||(e.S=o);var d=e.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;r&&e.Ob&&null!==e.S&&"number"==typeof o&&e.df<d&&Date.now()-e.Ob>1e3*a&&(a=e.g.streaming.liveSync.dynamicTargetLatency.minLatency,e.S=Math.max(e.S-(o-a)/2,a+i),e.Ob=Date.now()),r&&null!==e.S&&(s=e.S+i,u=e.S-i),o=n.end-e.h.currentTime,i=0,e.l==mp&&((r=e.h.buffered).length>0&&(i=r.end(r.length-1),i=Math.max(l,i-n.end))),n=e.g.streaming.liveSync.panicMode,r=1e3*e.g.streaming.liveSync.panicThreshold,a=Date.now()-e.P.h,n&&!c&&(c=e.g.streaming.liveSync.minPlaybackRate),n&&c&&a<=r?t!=c&&e.sc(c,!1):null!=s&&l&&o-i>s?(t!=l&&e.sc(l,!1),e.Ob=null):null!=u&&c&&o-i<u?(t!=c&&e.sc(c,!1),e.Ob=null):t!==e.L.jd()&&(e.Bd(),e.Ob=Date.now())}}function Gh(e){if(e.h){var t=function(t,n){var i=void 0===i?Number.EPSILON:i;if(t===n)i=!0;else{var r=Math.abs(t-n);i=r<=i||i!==Number.EPSILON&&Math.abs(r-i)<=Number.EPSILON}return!!((i||n>t)&&e.Bg<t)&&(e.Bg=t,!0)},n=e.wa();if(n=(n=n.end-n.start)>0?e.h.currentTime/n:0,!isNaN(n)){if(t(0,n*=100))var i=ch("started");else t(25,n)?i=ch("firstquartile"):t(50,n)?i=ch("midpoint"):t(75,n)?i=ch("thirdquartile"):((t(100,n)||n>100)&&(i=ch("complete")),e.g&&e.g.playRangeEnd!=1/0&&e.isEnded()&&e.h.pause());i&&e.dispatchEvent(i)}}}function Hh(e){try{ao(e.Te,e.i)}catch(t){return ap(e,t),!1}var t=mr(e.i.variants);return t=e.M.create(t),"boolean"!=typeof(e=e.u.setVariants(Array.from(t.values())))||e}function zh(e,t){return t=void 0!==t&&t,Hh(e)?e.u.chooseVariant(t):null}function Kh(e,t,n,i,r){t=void 0===t||t,n=void 0===n?0:n,i=void 0!==i&&i,r=void 0===r||r;var a=zh(e);a&&Wh(e,a,r,t,n,i)}function Wh(e,t,n,i,r,a){a=void 0!==a&&a;var o=e.m.u;if(t==o)i&&Cl(e.m,t,i,r,!0);else{var s=e.C.h;if(s.h!=t&&(s.h=t,s.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Cl(e.m,t,i,r,a,n),i=null,o&&(i=lr(o)),(o=lr(t)).active=!0,e.R&&(r=e.R,t=t.video)){switch(t.dependencyStream&&(t=t.dependencyStream),a=0,s=-1,t.mimeType){case"video/webm":a=1;break;case"video/mp4":a=2}switch(e.sh()){case"DASH":s=1;break;case"HLS":s=0}r.g&&(r.g.setLevelSwitching(t.id,!0),r.g.setContainerFormat(a),r.j||r.g.setStreamingFormat(s))}n?cp(e,n=ch("adaptation",n=(new Map).set("oldTrack",i).set("newTrack",o))):Qh(e,i,o),Jh(e,i,o)}}function Xh(e,t){var n=Array.from(e.h.audioTracks).find(function(e){return e.enabled});if(t.enabled=!0,n){t.id!==n.id&&(n.enabled=!1);var i=Yh(e);Qh(e,n=fr(n,i),t=fr(t,i)),Jh(e,n,t)}}function Yh(e){return e.h&&e.h.videoTracks?Array.from(e.h.videoTracks).find(function(e){return e.selected}):null}function Zh(e){cp(e,ch("trackschanged")),$h(e)}function Qh(e,t,n){cp(e,t=ch("variantchanged",t=(new Map).set("oldTrack",t).set("newTrack",n)))}function Jh(e,t,n){var i=!1;t&&t.audioId==n.audioId&&t.audioGroupId==n.audioGroupId||(i=!0),i&&$h(e)}function $h(e){cp(e,ch("audiotrackschanged"))}function ep(e){cp(e,ch("textchanged"))}function tp(e){cp(e,ch("texttrackvisibility"))}function np(e){e.g.abr.enabled||rp(e),cp(e,ch("abrstatuschanged",(new Map).set("newStatus",e.g.abr.enabled)))}function ip(e){var t=e.yc().find(function(e){return e.active});t&&e.A&&e.A.setTextLanguage&&e.A.setTextLanguage(t.language)}function rp(e,t){if(t=void 0===t||t,e.l==gp){e.We.stop();for(var n=g(e.i.variants),i=n.next();!i.done;i=n.next())i.value.disabledUntilTime=0;t&&Hh(e)}}function ap(e,t){var n,i,r,a;return D(function(o){switch(o.g){case 1:if(e.l==pp)return o.return();if(1===t.severity&&e.C.L++,n=!0,!(e.aa&&e.i&&e.m)||3016!=t.code&&3014!=t.code&&3015!=t.code&&3024!=t.code&&3018!=t.code){o.B(2);break}return"WEBKIT"===Re().Ja()&&3016==t.code?o.return():(w(o,3),T(o,Gl(e.m),5));case 5:i=o.h,n=!i,i&&(r=ch("mediasourcerecovered"),e.dispatchEvent(r)),S(o,2);break;case 3:E(o),n=!0;case 2:if(!n)return o.return();2===t.severity&&rp(e,!1),a=ch("error",(new Map).set("detail",t)),e.dispatchEvent(a),a.defaultPrevented&&(t.handled=!0),C(o)}})}function op(e,t,n,i){i=void 0===i?e:i,e=(new Map).set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,timescale:n.timescale,eventElement:n.eventElement,eventNode:n.eventNode}),i.dispatchEvent(ch(t,e))}function sp(e,t,n,i){i=void 0!==i&&i,t=(new Map).set("mediaQuality",{bandwidth:t.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate,height:t.height,mimeType:t.mimeType,channelsCount:t.channelsCount,pixelAspectRatio:t.pixelAspectRatio,width:t.width,label:t.label,roles:t.roles,language:t.language}).set("position",n),e.dispatchEvent(ch(i?"audiotrackchanged":"mediaqualitychanged",t))}function up(e,t){if(t=void 0===t||t,!e.h.error)return t?new Ie(2,3,3016):null;var n=e.h.error.code;return t||1!=n?((t=e.h.error.msExtendedCode)&&(t<0&&(t+=4294967296),t=t.toString(16)),new Ie(2,3,3016,n,t,e.h.error.message)):null}function lp(e,t,n){t>0&&(e.U()||e.Pj(t)),n<(t=e.getDuration())&&(e.U()||e.Fb(n))}function cp(e,t){D(function(n){if(1==n.g)return T(n,Promise.resolve(),2);e.l!=pp&&e.dispatchEvent(t),C(n)})}function dp(e){for(var t=new Set,n=(e=g(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(dt(n.language)):t.add("und");return t}function hp(e){for(var t=new Map,n=new Map,i=0;i<e.length;i++){var r=e[i],a="und",o=[];r.language&&(a=dt(r.language)),(o="variant"==r.type?r.audioRoles:r.roles)&&o.length||(o=[""]),t.has(a)||t.set(a,new Set);for(var s=(o=g(o)).next();!s.done;s=o.next())s=s.value,t.get(a).add(s),r.label&&(n.has(a)||n.set(a,new Map),n.get(a).set(s,r.label))}var u=[];return t.forEach(function(e,t){for(var i=(e=g(e)).next();!i.done;i=e.next()){i=i.value;var r=null;n.has(t)&&n.get(t).has(i)&&(r=n.get(t).get(i)),u.push({language:t,role:i,label:r})}}),u}oh.prototype.release=function(){this.h.length>0?this.h.shift()():this.g=null},p(uh,ee),(r=uh.prototype).destroy=function(){var e,t=this;return D(function(n){switch(n.g){case 1:return t.l==pp?n.return():(lh(t),e=t.detach(),t.l=pp,T(n,e,2));case 2:return T(n,t.Ug(),3);case 3:if(t.bf&&(t.bf.release(),t.bf=null),t.Re&&(t.Re.release(),t.Re=null),t.j&&(t.j.release(),t.j=null),t.kc&&(t.kc.release(),t.kc=null),t.Hc&&(t.Hc.release(),t.Hc=null),t.Ve=null,t.g=null,t.C=null,t.Qe=null,t.K=null,t.ra=null,!t.J){n.B(4);break}return T(n,t.J.destroy(),5);case 5:t.J=null;case 4:t.u&&(t.u.release(),t.u=null),t.ya&&(t.ya.destroy(),t.ya=null),ee.prototype.release.call(t),C(n)}})},r.cc=function(e,t){t=void 0===t||t;var n,i,r,a=this;return D(function(o){switch(o.g){case 1:if(a.l==pp)throw new Ie(2,7,7e3);if(n=a.h&&a.h==e,!a.h||a.h==e){o.B(2);break}return T(o,a.detach(),2);case 2:return T(o,fh(a,"attach"),4);case 4:if(o.h)return o.return();if(w(o,5,6),n||(ph(a,"attach"),i=function(){var e=up(a,!1);e&&ap(a,e)},a.Re.o(e,"error",i),a.h=e,a.K&&a.K.setMediaElement(e)),Re(),!t||!uy()||a.H){o.B(6);break}return T(o,bh(a),6);case 6:k(o),a.ea.release(),I(o,0);break;case 5:return r=E(o),T(o,a.detach(),10);case 10:throw r}})},r.Fi=function(e){this.Di=e},r.detach=function(e){e=void 0!==e&&e;var t=this;return D(function(n){if(1==n.g){if(t.l==pp)throw new Ie(2,7,7e3);return T(n,t.tc(!1,e),2)}if(3!=n.g)return T(n,fh(t,"detach"),3);if(n.h)return n.return();try{t.h&&(t.Re.Sa(),t.h=null),ph(t,"detach"),t.D&&!e&&t.D.release()}finally{t.ea.release()}C(n)})},r.tc=function(t,n){t=void 0===t||t,n=void 0!==n&&n;var i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A=this;return D(function(b){switch(b.g){case 1:return A.l!=pp&&(A.l=fp),T(b,fh(A,"unload"),2);case 2:return b.h?b.return():(x(b,3),A.aa=!1,ph(A,"unload"),lh(A),i=A.Se.map(function(e){return e()}),A.Se=[],T(b,Promise.all(i),5));case 5:if(A.dispatchEvent(ch("unloading")),A.Pe&&(A.Pe.release(),A.Pe=null),A.Ca&&(A.Ca.release(),A.Ca=null),A.fb&&(A.fb.release(),A.fb=null),A.h&&(A.j.Sa(),A.kc.Sa()),A.We.stop(),A.jb&&(A.jb.release(),A.jb=null),A.La&&(A.La.stop(),A.La=null),!A.I){b.B(6);break}return T(b,A.I.stop(),7);case 7:A.I=null,A.Gc=null;case 6:if(A.u&&A.u.stop(),!A.m){b.B(8);break}return T(b,A.m.destroy(),9);case 9:A.m=null;case 8:if(A.L&&(A.L.release(),A.L=null),A.G&&(A.G.release(),A.G=null),"webkit"!==e.shakaMediaKeysPolyfill||!A.F){b.B(10);break}return T(b,A.F.destroy(),11);case 11:A.F=null;case 10:if(!A.H){b.B(12);break}return T(b,A.H.destroy(),13);case 13:A.H=null;case 12:if(A.D&&!n&&A.D.onAssetUnload(),A.oa&&!n&&(A.oa.destroy(),A.oa=null),n||A.Eg.stop(),A.K&&function(e){e.F.clear(),e.D=!1,e.J=!0,e.I=!1,e.u=!1,e.A=0,e.C=0,e.H=0,e.K={request:!1,response:!1,event:!1},dd(e),e.m={},e.h=null,e.i.Sa()}(A.K),A.ra&&(A.ra.g=null),!A.A){b.B(14);break}return T(b,A.A.destroy(),15);case 15:A.A=null;case 14:if(A.W=!1,A.h){for(r=g(A.Cg),a=r.next();!a.done;a=r.next())(o=a.value).src.startsWith("blob:")&&URL.revokeObjectURL(o.src),o.remove();A.Cg=[],hs(A.h)&&A.h.load()}if(!A.F){b.B(16);break}return T(b,A.F.destroy(),17);case 17:A.F=null;case 16:if(A.Na&&A.V!=A.Na.hd()&&(A.Na.j||A.Na.destroy(),A.Na=null),A.V=null,A.Z=null,A.P=null,A.i){for(s=g(A.i.variants),u=s.next();!u.done;u=s.next())for(l=u.value,c=g([l.audio,l.video]),d=c.next();!d.done;d=c.next())(h=d.value)&&h.segmentIndex&&h.segmentIndex.release();for(p=g(A.i.textStreams),f=p.next();!f.done;f=p.next())(m=f.value).segmentIndex&&m.segmentIndex.release()}for(A.g&&A.g.streaming.clearDecodingCache&&(xr.clear(),_r.clear()),A.i=null,A.C=new bc,A.Ci=null,A.Ob=null,A.S=null,A.df=-1,A.Ze=[],v=g(A.Dc.values()),y=v.next();!y.done;y=v.next())y.value.stop();A.Dc.clear(),A.ib=[],A.Bg=-1,A.J&&A.J.Mi(),jh(A);case 3:k(b),A.ea.release(),I(b,4);break;case 4:if(Re(),t&&uy()&&!A.H&&A.h)return T(b,bh(A),0);b.B(0)}})},r.Dm=function(e){this.O=e},r.load=function(t,n,i){n=void 0===n?null:n;var r,a,o,s,u,l,c,d,h,p,f,m,v,y,A=this;return D(function(b){switch(b.g){case 1:if(A.l==pp)throw new Ie(2,7,7e3);if(r=null,a="",t instanceof xc){if(t.j)throw new Ie(2,7,7006);a=(r=t).hd()||""}else a=t||"";return T(b,sh(A.ea,"load"),2);case 2:if(A.ea.release(),!A.h)throw new Ie(2,7,7002);if(!A.V){b.B(3);break}return A.V=a,T(b,A.tc(!1),3);case 3:if(o=++A.cf,s=function(){return D(function(e){if(1==e.g)return A.cf==o?e.B(0):r?T(e,r.destroy(),3):e.B(3);throw new Ie(2,7,7e3)})},u=function(e,t){return D(function(n){switch(n.g){case 1:return x(n,2),T(n,sh(A.ea,t),4);case 4:return T(n,s(),5);case 5:return T(n,e(),6);case 6:return T(n,s(),7);case 7:r&&A.g&&(r.g=A.g);case 2:k(n),A.ea.release(),I(n,0)}})},w(b,5,6),null==n&&r&&(n=r.getStartTime()),A.O=n,A.aa=!1,A.dispatchEvent(ch("loading")),r){i=r.S,b.B(8);break}if(i){b.B(8);break}return T(b,u(function(){return D(function(e){if(1==e.g)return T(e,yh(A,a),2);i=e.h,C(e)})},"guessMimeType_"),8);case 8:if(l=!!r,r){Ec(r,A),A.C=r.getStats(),b.B(11);break}return T(b,mh(A,a,n,i,!0,A.g),12);case 12:(r=b.h)?(r.F=!1,Ec(r,A),A.C=r.getStats(),r.start(),r.C.catch(function(){})):A.C=new bc;case 11:return c=!r,d=Date.now()/1e3,A.C=r?r.getStats():new bc,A.V=a,A.Z=i||null,jh(A),h=function(){var e=A.h?A.h.buffered:null;return{start:ns(e)||0,end:is(e)||0}},A.Ca=new nl(h),A.Ca.addEventListener("regionadd",function(e){Ch(A,e.region,"metadataadded")}),c?T(b,u(function(){return D(function(e){return T(e,function(e,t){var n,i,r;return D(function(a){return 1==a.g?(n=Date.now()/1e3,i=!0,e.F=e.Dd({Cc:e.J,onError:function(t){ap(e,t)},Sf:function(){},onExpirationUpdated:function(){var t=ch("expirationupdated");e.dispatchEvent(t)},onEvent:function(t){e.dispatchEvent(t),"drmsessionupdate"==t.type&&i&&(i=!1,e.C.m=Date.now()/1e3-n)}}),e.F.configure(e.g.drm),r=wr([t]),e.F.O=!0,T(a,Ma(e.F,[r],[]),2)):T(a,e.F.cc(e.h),0)})}(A,i),0)})},"initializeSrcEqualsDrmInner_"),23):(A.fb=new nl(h),T(b,u(function(){return D(function(e){if(1==e.g)return T(e,Promise.race([r.aa,r.C]),2);A.Gc=r.H;var t=r;t.ea=!0,A.I=t.l,A.i=r.rh(),C(e)})},"waitForFinish"),15));case 15:if(A.H){b.B(16);break}return T(b,u(function(){return D(function(e){return T(e,bh(A),0)})},"initializeMediaSourceEngineInner_"),16);case 16:return A.i&&A.i.textStreams.length&&(A.A.enableTextDisplayer?A.A.enableTextDisplayer():Dt("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),T(b,u(function(){return D(function(e){return T(e,r.C,0)})},"waitForFinish"),18);case 18:if(A.g=r.getConfiguration(),A.Te=r.G,A.I&&A.I.setMediaElement&&A.h&&A.I.setMediaElement(A.h),A.Pe=function(e){return e.oa=!0,e.I}(r),A.Ne=r.Ca,(p=r.D)&&(A.M=p),l&&A.h&&"AUDIO"===A.h.nodeName&&(function(e){for(var t=g(e.i.variants),n=t.next();!n.done;n=t.next())(n=n.value).video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;e.i.variants=e.i.variants.filter(function(e){return e.audio})}(A),A.configure("manifest.disableVideo",!0)),r.i){b.B(19);break}return T(b,u(function(){return D(function(e){return T(e,Mc(r,A.h),0)})},"drmEngine_.init"),19);case 19:return A.F=function(e){return e.Z=!0,e.i}(r),T(b,u(function(){return D(function(e){return T(e,A.F.cc(A.h),0)})},"drmEngine_.attach"),21);case 21:return f=A.g.abrFactory,A.u&&A.Ve==f||(A.Ve=f,A.u&&A.u.release(),A.u=f(),"function"!=typeof A.u.setMediaElement&&(Dt("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),A.u.setMediaElement=function(){}),"function"!=typeof A.u.setCmsdManager&&(Dt("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),A.u.setCmsdManager=function(){}),"function"!=typeof A.u.trySuggestStreams&&(Dt("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),A.u.trySuggestStreams=function(){}),A.u.configure(A.g.abr)),m=function(e){return e.ra=!0,e.L}(r),v=r.u,T(b,u(function(){return D(function(t){return T(t,function(t,n,i,r){var a,o,s,u,l,c,d,h,p,f,m,v,y,A,b,w,x,S,E,k,I,M,L,R,P,O,N;return D(function(U){switch(U.g){case 1:ph(t,"load"),a=t.h,t.L=new Yu({xf:function(){return a.playbackRate},jd:function(){return a.defaultPlaybackRate},ei:function(e){a.playbackRate=e},pj:function(e){a.currentTime+=e}}),Th(t,a,n),"onchange"in e.screen&&t.j.o(e.screen,"change",function(){if(t.M.getConfiguration){var e=t.M.getConfiguration();"AUTO"==e.hdrLevel?Hh(t):"AUTO"==t.g.preferredVideoHdrLevel&&t.g.abr.enabled&&(e.hdrLevel="AUTO",t.M.configure(e),Hh(t))}}),o=!1,s=g(t.i.variants);for(u=s.next();!u.done;u=s.next())l=u.value,(c=l.video&&l.video.dependencyStream)&&(o=qt(c));!function(e,t,n){n||t.lcevc.enabled?(lh(e),null==e.R&&(e.R=new Bt(e.h,e.Di,t.lcevc,n),e.H&&(e.H.H=e.R))):lh(e)}(t,t.g,o),t.Vd=t.g.preferredTextLanguage,t.ee=t.g.preferredTextRole,t.ce=t.g.preferForcedSubs,lp(t.i.presentationTimeline,t.g.playRangeStart,t.g.playRangeEnd),t.u.init(function(e,n,i){t.i&&t.m&&e!=t.m.u&&Wh(t,e,!0,void 0!==n&&n,void 0===i?0:i)}),t.u.setMediaElement(a),t.u.setCmsdManager(t.ra),t.m=function(e){return new bl(e.i,{Qc:function(){return e.G?e.G.$e():0},getBandwidthEstimate:function(){return e.u.getBandwidthEstimate()},Za:function(){return e.Za()},video:e.h,ha:e.H,Cc:e.J,onError:function(t){return ap(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Tf:function(t,n,i){var r=t.startTime,a=t.endTime,o=n.type;if(o!=it){if(e.G){e.G.rj();var s=Qs(e.H,o);!e.U()&&e.h.paused&&!e.h.seeking&&null!=s&&s>0&&e.G.$e()<s&&e.G.Ag(s)}kh(e)}i=(new Map).set("start",r).set("end",a).set("contentType",o).set("isMuxed",i),e.dispatchEvent(ch("segmentappended",i)),e.u&&n.fastSwitching&&t.nd&&t.ye&&e.u.trySuggestStreams()},Ul:function(t,n){(n=n.Od)&&e.Ne&&function(e,t,n){var i=function(e,t){var n=e.g.get(t);return n||(n={Ge:[],Sg:null,contentType:t},e.g.set(t,n)),n}(e,t.contentType);!function(e,t){if((e=e.h()[t.contentType])&&e.length>0){var n=e[0].start,i=e[e.length-1].end,r=t.Ge;t.Ge=r.filter(function(e,t){return!(e.position<=n&&t+1<r.length&&r[t+1].position<=n||e.position>=i)})}else t.Ge=[]}(e,i),e={Od:t,position:n},(t=(i=i.Ge).findIndex(function(e){return e.position>=n}))>=0?i.splice(t,i[t].position==n?1:0,e):i.push(e)}(e.Ne,n,t)},Ii:function(t,n){var i=e.F;if(i.h.parseInbandPsshEnabled&&!i.H&&["audio","video"].includes(t)){t=new Ea(xe(n)),n=0;for(var r=g(t.data),a=r.next();!a.done;a=r.next())n+=a.value.length;if(0==n)i=Promise.resolve();else{for(n=new Uint8Array(n),r=0,a=(t=g(t.data)).next();!a.done;a=t.next())a=a.value,n.set(a,r),r+=a.length;Da(i,"cenc",n),i=i.m}}else i=Promise.resolve();return i},disableStream:function(t,n){return e.disableStream(t,n)},xm:function(t,n){return!(e.g.abr.enabled&&n.fastSwitching&&t.nd&&t.ye)}})}(t),t.m.configure(t.g.streaming),t.l=gp,t.dispatchEvent(ch("streaming")),d=i;case 2:for((p=t.m.u)||d||(d=zh(t,!0)),f=[],m=g([(h=p||d).video,h.audio]),v=m.next();!v.done;v=m.next())(y=v.value)&&!y.segmentIndex&&(f.push(y.createSegmentIndex()),y.dependencyStream&&f.push(y.dependencyStream.createSegmentIndex()));if(!(f.length>0)){U.B(4);break}return T(U,Promise.all(f),4);case 4:if(!h||0!=h.disabledUntilTime){U.B(2);break}if(t.I&&t.I.onInitialVariantChosen&&t.I.onInitialVariantChosen(h),t.i.isLowLatency&&(t.g.streaming.lowLatencyMode?t.configure(t.Dg):Y("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.")),t.K&&(function(e,t){e.u=t,e.u?e.l==Bd?e.l=_d:e.l==jd&&(e.l=qd):e.l==_d?e.l=Bd:e.l==qd&&(e.l=jd)}(t.K,t.i.isLowLatency&&t.g.streaming.lowLatencyMode),function(e,t){if(e.g&&e.g.enabled&&(gd(e,"ps",{td:"d"}),e.h&&e.h.autoplay)){var n=e.h.play();n&&n.then(function(){e.H=t}).catch(function(){e.H=0})}}(t.K,1e3*n)),lp(t.i.presentationTimeline,t.g.playRangeStart,t.g.playRangeEnd),function(e,t,n){e.j.presentationTimeline.U()||(e.Z=t,e.W=n)}(t.m,t.g.playRangeStart,t.g.playRangeEnd),t.aa=!0,t.dispatchEvent(ch("canupdatestarttime")),A=function(e){t.G=function(e,t){return new ju(e.h,e.i,e.g.streaming,t,function(){e.jb&&Ju(e.jb,!e.G.Ai()),e.m&&e.m.rd(),e.P&&kh(e,"seeking")},function(t){return e.dispatchEvent(t)})}(t,e),t.jb=function(e,t){var n=e.U()||"number"==typeof t&&t>0;t=new Dc(e.Pe,n),t.addEventListener("enter",function(t){op(e,"timelineregionenter",t.region)}),t.addEventListener("exit",function(t){op(e,"timelineregionexit",t.region)}),t.addEventListener("skip",function(t){var n=t.region;t.seeking||(op(e,"timelineregionenter",n),op(e,"timelineregionexit",n))});var i=new Dc(e.Ca,n);i.addEventListener("enter",function(t){Ch(e,t.region,"metadata")}),n=new Dc(e.fb,n),n.addEventListener("enter",function(t){t=(new Map).set("detail",t.region.emsg),e.dispatchEvent(ch("emsg",t))});var r=new Qu(e.h);return r.g.add(t),r.g.add(i),r.g.add(n),e.Ne&&r.g.add(e.Ne),r}(t,e),Sh(t,a,!1)},t.g.streaming.startAtSegmentBoundary||(null==(b=t.O)&&t.i.startTime&&(b=t.i.startTime),A(b)),p){U.B(7);break}if(!t.g.streaming.startAtSegmentBoundary){U.B(8);break}return w=t.i.presentationTimeline,t.O instanceof Date&&(S=w.m||w.i,null!=(E=t.O.getTime()/1e3-S)&&(x=E)),null==x&&(x="number"==typeof t.O?t.O:t.h.currentTime),null==t.O&&t.i.startTime&&(x=t.i.startTime),k=w.fc(),I=w.Lb(),x<k?x=k:x>I&&(x=I),T(U,function(e,t){var n,i,r,a,o;return D(function(s){return 1==s.g?(n=e.audio,i=e.video,r=function(e,t){var n,i,r;return D(function(a){return 1==a.g?e?e.segmentIndex?a.B(2):T(a,e.createSegmentIndex(),2):a.return(null):(i=(n=e.segmentIndex.ec(t))?n.next().value:null)?(r=i.startTime,a.return(r)):a.return(null)})},T(s,r(n,t),2)):3!=s.g?(a=s.h,T(s,r(i,t),3)):null!=(o=s.h)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)})}(d,x),9);case 9:M=U.h,A(M);case 8:Wh(t,d,!0,!1,0);case 7:return t.G.ready(),t.yc().find(function(e){return e.active})||((L=vr(t.i.textStreams,t.Vd,t.ee,t.ce)[0]||null)&&Ac(t.C.h,L,!0),d&&(L?(Cr(d.audio,L,t.g)&&(t.W=!0),t.W&&t.A.setTextVisibility(!0)):(t.W=!1,t.A.setTextVisibility(!1)),tp(t)),L&&(t.g.streaming.alwaysStreamText||t.Wc())&&(wl(t.m,L),ip(t))),T(U,t.m.start(r),10);case 10:t.g.abr.enabled&&(t.u.enable(),np(t)),Zh(t),t.i.variants.some(function(e){return e.primary}),((R=t.U())&&(t.g.streaming.liveSync&&t.g.streaming.liveSync.enabled||t.i.serviceDescription||t.g.streaming.liveSync.panicMode)||t.g.streaming.vodDynamicPlaybackRate)&&(P=function(){return Vh(t)},t.j.o(a,"timeupdate",P)),R||(O=function(){return Gh(t)},t.j.o(a,"timeupdate",O),Gh(t),t.i.nextUrl&&(t.g.streaming.preloadNextUrlWindow>0&&(N=function(){var e;return D(function(n){if(1==n.g)return e=t.wa().end-t.h.currentTime,!isNaN(e)&&e<=t.g.streaming.preloadNextUrlWindow?(t.j.Fa(a,"timeupdate",N),T(n,t.preload(t.i.nextUrl),4)):n.B(0);t.Na=n.h,C(n)})},t.j.o(a,"timeupdate",N)),t.j.o(a,"ended",function(){t.load(t.Na||t.i.nextUrl)}))),t.D&&t.D.onManifestUpdated(R),C(U)}})}(A,d,v,m),0)})},"loadInner_"),22);case 22:!function(e){if(e.J)for(var t=g(e.J),n=t.next();!n.done;n=t.next())(n=n.value)();e.J=null}(r),A.Z&&Re().kg()&&Ni(A.Z)&&function(t,n,i){t.g&&e.ManagedMediaSource&&t.i&&t.C.useSourceElements&&(t.D&&t.g.removeChild(t.D),t.D=ds(n,i),t.g.appendChild(t.D),t.g.disableRemotePlayback=!1)}(A.H,A.V,A.Z),b.B(14);break;case 23:return T(b,u(function(){return D(function(e){return T(e,function(e,t,n){var i,r,a,o,s,u,l,c,d,h,p,f;return D(function(m){switch(m.g){case 1:if(ph(e,"src-equals"),i=e.h,e.G=new Uu(i),r=!1,e.Se.push(function(){r=!0}),e.dispatchEvent(ch("canupdatestarttime")),null!=e.O&&e.G.Ag(e.O),e.jb=function(e,t){t=new Dc(e.Ca,t instanceof Date||t>0),t.addEventListener("enter",function(t){Ch(e,t.region,"metadata")});var n=new Qu(e.h);return n.g.add(t),n}(e,e.O||0),e.L=new Yu({xf:function(){return i.playbackRate},jd:function(){return i.defaultPlaybackRate},ei:function(e){i.playbackRate=e},pj:function(e){i.currentTime+=e}}),Sh(e,i,!0),i.textTracks&&(Ah(e),a=function(t){if(!(e.A instanceof Jc)){var n=Dh(e).find(function(e){return"disabled"!==e.mode});n&&(n.mode=t?"showing":"hidden"),e.A instanceof ed&&(n=function(e){return Array.from(e.h.textTracks).find(function(e){return"Shaka Player TextTrack"==e.label})}(e))&&(n.mode=!t&&e.A.isTextVisible()?"showing":"hidden")}},e.j.o(i,"enterpictureinpicture",function(){return a(!0)}),e.j.o(i,"leavepictureinpicture",function(){return a(!1)}),i.remote?(e.j.o(i.remote,"connect",function(){return a(!1)}),e.j.o(i.remote,"connecting",function(){return a(!1)}),e.j.o(i.remote,"disconnect",function(){return a(!1)})):"webkitCurrentPlaybackTargetIsWireless"in i&&e.j.o(i,"webkitcurrentplaybacktargetiswirelesschanged",function(){return a(!1)}),((o=i).webkitPresentationMode||o.webkitSupportsFullscreen)&&e.j.o(o,"webkitpresentationmodechanged",function(){o.webkitPresentationMode?a("inline"!==o.webkitPresentationMode):o.webkitSupportsFullscreen&&a(o.webkitDisplayingFullscreen)})),Th(e,i,t),s=function(e,t,n){try{if(!e.g.enabled)return t;var i=fd(e);e:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var r=Id;break e;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":r=Ld;break e;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":r=kd;break e}r=void 0}return i.ot=r,i.su=!0,Ed(t,xd(i))}catch(e){return Z("CMCD_SRC_ERROR","Could not generate src CMCD data.",e),t}}(e.K,e.V,n),!s.includes("#t=")&&(e.g.playRangeStart>0||isFinite(e.g.playRangeEnd))&&(s+="#t=",e.g.playRangeStart>0&&(s+=e.g.playRangeStart),isFinite(e.g.playRangeEnd)&&(s+=","+e.g.playRangeEnd)),!e.H){m.B(2);break}return T(m,e.H.destroy(),3);case 3:e.H=null;case 2:return hs(i),i.src=s,"TV"==(u=Re()).Oa()&&i.load(),"none"!=i.preload&&!i.autoplay&&Ni(n)&&"WEBKIT"===u.Ja()&&i.load(),e.l=mp,e.dispatchEvent(ch("streaming")),l=new Vr,ku(i,HTMLMediaElement.HAVE_METADATA,e.j,function(){e.G.ready(),e.Z&&Ni(e.Z)||l.resolve()}),c=function(){return new Promise(function(t){var n=new Wi(t);e.j.o(i.textTracks,"change",function(){return n.Y(.5)}),n.Y(.5)})},ku(i,HTMLMediaElement.HAVE_CURRENT_DATA,e.j,function(){var t,n,i,a,o;return D(function(s){if(1==s.g)return T(s,c(),2);if(r)return s.return();if(function(e){var t=e.g.preferredAudioLanguage;""!=t&&e.Gj(t,e.g.preferredAudioRole)}(e),(t=Dh(e)).some(function(e){return"showing"===e.mode})&&(e.W=!0,e.A.setTextVisibility(!0)),!(e.A instanceof Jc))for(t.length&&(e.A.enableTextDisplayer?e.A.enableTextDisplayer():Dt("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method')),n=!1,i=g(t),a=i.next();!a.done;a=i.next())"disabled"!==(o=a.value).mode&&(n?(o.mode="disabled",Y("Found more than one enabled text track, disabling it",o)):(Ph(e,o),n=!0));!function(e){var t=e.g.preferredTextLanguage;""!=t&&e.$h(t,e.g.preferredTextRole,e.g.preferForcedSubs)}(e),e.Z&&Ni(e.Z)&&l.resolve(),C(s)})}),i.error?l.reject(up(e)):"none"==i.preload&&(Y('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),l.resolve()),e.j.ua(i,"error",function(){l.reject(up(e))}),T(m,Qi(e.g.streaming.loadTimeout,l),4);case 4:((d=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(h=function(){return Vh(e)},e.j.o(i,"timeupdate",h)),d||(p=function(){return Gh(e)},e.j.o(i,"timeupdate",p),Gh(e)),e.D&&(e.D.onManifestUpdated(d),d&&(f=e.wa().end,e.j.o(i,"progress",function(){var t=e.wa().end;f!=t&&(e.D.onManifestUpdated(e.U()),f=t)}))),e.aa=!0,C(m)}})}(A,d,i),0)})},"srcEqualsInner_"),14);case 14:A.dispatchEvent(ch("loaded"));case 6:if(k(b),!r){b.B(25);break}return T(b,r.destroy(),25);case 25:A.Na=null,I(b,0);break;case 5:if(!(y=E(b))||7e3==y.code){b.B(27);break}return T(b,A.tc(!1),27);case 27:throw y}})},r.ck=function(e,t){e=void 0===e||e,t=void 0!==t&&t;var n,i=this;return D(function(r){return 1==r.g?T(r,gh(i),2):3!=r.g?(n=r.h,T(r,i.tc(e,t),3)):r.return(n)})},r.Ri=function(e,t){e=void 0!==e&&e,t=void 0!==t&&t;var n,i=this;return D(function(r){return 1==r.g?T(r,gh(i,t),2):3!=r.g?(n=r.h,T(r,i.detach(e),3)):r.return(n)})},r.preload=function(e,t,n,i){t=void 0===t?null:t;var r,a,o=this;return D(function(s){return 1==s.g?(pc(r=_h(o),i||o.g,_h(o)),T(s,mh(o,e,t,n,!1,r),2)):((a=s.h)?a.start():ap(o,new Ie(2,7,7005)),s.return(a))})},r.Ug=function(){var e,t,n,i,r=this;return D(function(a){for(e=[],t=g(r.Xe),n=t.next();!n.done;n=t.next())(i=n.value).j||e.push(i.destroy());return r.Xe=[],T(a,Promise.all(e),0)})},r.dm=function(){for(var e=this.ea;e.g;)e.release()},r.Dd=function(e){return new Ia(e)},r.configure=function(e,t){var n=this.getConfiguration();if(2==arguments.length&&"string"==typeof e&&(e=Zl(e,t)),"preferredVariantRole"in e&&(Dt("preferredVariantRole configuration","Please Use preferredAudioRole instead."),e.preferredAudioRole=e.preferredVariantRole,delete e.preferredVariantRole),e.streaming&&"forceTransmuxTS"in e.streaming&&(Dt("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource=e.mediaSource||{},e.mediaSource.mediaSource=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&"forceTransmux"in e.streaming&&(Dt("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),e.mediaSource=e.mediaSource||{},e.mediaSource.mediaSource=e.streaming.forceTransmux,delete e.streaming.forceTransmux),e.streaming&&"useNativeHlsOnSafari"in e.streaming){Dt("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead.");var i=Re();e.streaming.preferNativeHls=e.streaming.useNativeHlsOnSafari&&"WEBKIT"===i.Ja(),delete e.streaming.useNativeHlsOnSafari}if(e.streaming&&"boolean"==typeof e.streaming.liveSync&&(Dt("streaming.liveSync","Please Use streaming.liveSync.enabled instead."),i=e.streaming.liveSync,e.streaming.liveSync={},e.streaming.liveSync.enabled=i),e.streaming&&(!e.streaming.liveSync||!("targetLatency"in e.streaming.liveSync))&&("liveSyncMinLatency"in e.streaming||"liveSyncMaxLatency"in e.streaming)){i=e.streaming.liveSyncMinLatency||0;var r=Math.abs((e.streaming.liveSyncMaxLatency||1)-i)/2;e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=i+r,e.streaming.liveSync.targetLatencyTolerance=r}if(e.streaming&&"liveSyncMaxLatency"in e.streaming&&(Dt("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMaxLatency),e.streaming&&"liveSyncMinLatency"in e.streaming&&(Dt("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete e.streaming.liveSyncMinLatency),e.streaming&&"liveSyncTargetLatency"in e.streaming&&(Dt("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatency=e.streaming.liveSyncTargetLatency,delete e.streaming.liveSyncTargetLatency),e.streaming&&"liveSyncTargetLatencyTolerance"in e.streaming&&(Dt("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.targetLatencyTolerance=e.streaming.liveSyncTargetLatencyTolerance,delete e.streaming.liveSyncTargetLatencyTolerance),e.streaming&&"liveSyncPlaybackRate"in e.streaming&&(Dt("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.maxPlaybackRate=e.streaming.liveSyncPlaybackRate,delete e.streaming.liveSyncPlaybackRate),e.streaming&&"liveSyncMinPlaybackRate"in e.streaming&&(Dt("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.minPlaybackRate=e.streaming.liveSyncMinPlaybackRate,delete e.streaming.liveSyncMinPlaybackRate),e.streaming&&"liveSyncPanicMode"in e.streaming&&(Dt("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicMode=e.streaming.liveSyncPanicMode,delete e.streaming.liveSyncPanicMode),e.streaming&&"liveSyncPanicThreshold"in e.streaming&&(Dt("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),e.streaming.liveSync=e.streaming.liveSync||{},e.streaming.liveSync.panicThreshold=e.streaming.liveSyncPanicThreshold,delete e.streaming.liveSyncPanicThreshold),e.mediaSource&&"sourceBufferExtraFeatures"in e.mediaSource){Dt("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var a=e.mediaSource.sourceBufferExtraFeatures;e.mediaSource.addExtraFeaturesToSourceBuffer=function(){return a},delete e.mediaSource.sourceBufferExtraFeatures}if(e.manifest&&e.manifest.hls&&"useSafariBehaviorForLive"in e.manifest.hls&&(Dt("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete e.manifest.hls.useSafariBehaviorForLive),e.streaming&&"parsePrftBox"in e.streaming&&(Dt("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete e.streaming.parsePrftBox),e.manifest&&e.manifest.dash&&"enableAudioGroups"in e.manifest.dash&&(Dt("manifest.dash.enableAudioGroups configuration","Please Use manifest.enableAudioGroups instead."),e.manifest.enableAudioGroups=e.manifest.dash.enableAudioGroups,delete e.manifest.dash.enableAudioGroups),e.streaming&&"dispatchAllEmsgBoxes"in e.streaming&&(Dt("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),e.mediaSource=e.mediaSource||{},e.mediaSource.dispatchAllEmsgBoxes=e.streaming.dispatchAllEmsgBoxes,delete e.streaming.dispatchAllEmsgBoxes),e.streaming&&"autoLowLatencyMode"in e.streaming&&(Dt("streaming.autoLowLatencyMode configuration","Please Use streaming.lowLatencyMode instead."),e.streaming.lowLatencyMode=e.streaming.autoLowLatencyMode,delete e.streaming.autoLowLatencyMode),e.manifest&&e.manifest.dash&&"ignoreSupplementalCodecs"in e.manifest.dash&&(Dt("manifest.dash.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.dash.ignoreSupplementalCodecs,delete e.manifest.dash.ignoreSupplementalCodecs),e.manifest&&e.manifest.hls&&"ignoreSupplementalCodecs"in e.manifest.hls&&(Dt("manifest.hls.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),e.manifest.ignoreSupplementalCodecs=e.manifest.hls.ignoreSupplementalCodecs,delete e.manifest.hls.ignoreSupplementalCodecs),e.manifest&&e.manifest.dash&&"updatePeriod"in e.manifest.dash&&(Dt("manifest.dash.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.dash.updatePeriod,delete e.manifest.dash.updatePeriod),e.manifest&&e.manifest.hls&&"updatePeriod"in e.manifest.hls&&(Dt("manifest.hls.updatePeriod configuration","Please Use manifest.updatePeriod instead."),e.manifest.updatePeriod=e.manifest.hls.updatePeriod,delete e.manifest.hls.updatePeriod),e.manifest&&e.manifest.dash&&"ignoreDrmInfo"in e.manifest.dash&&(Dt("manifest.dash.ignoreDrmInfo configuration","Please Use manifest.ignoreDrmInfo instead."),e.manifest.ignoreDrmInfo=e.manifest.dash.ignoreDrmInfo,delete e.manifest.dash.ignoreDrmInfo),e.drm&&e.drm.advanced){for(var o in i=!1,e.drm.advanced){var s=e.drm.advanced[o];r=s.videoRobustness,s=s.audioRobustness,"videoRobustness"in e.drm.advanced[o]&&!Array.isArray(e.drm.advanced[o].videoRobustness)&&(e.drm.advanced[o].videoRobustness=[r],i=!0),"audioRobustness"in e.drm.advanced[o]&&!Array.isArray(e.drm.advanced[o].audioRobustness)&&(e.drm.advanced[o].audioRobustness=[s],i=!0)}i&&Dt("AdvancedDrmConfiguration's videoRobustness and audioRobustness","These properties are no longer strings but array of strings, please update your usage of these properties.")}return e.streaming&&"forceHTTP"in e.streaming&&(Dt("streaming.forceHTTP configuration","Please Use networking.forceHTTP instead."),e.networking=e.networking||{},e.networking.forceHTTP=e.streaming.forceHTTP,delete e.streaming.forceHTTP),e.streaming&&"forceHTTPS"in e.streaming&&(Dt("streaming.forceHTTPS configuration","Please Use networking.forceHTTP instead."),e.networking=e.networking||{},e.networking.forceHTTPS=e.streaming.forceHTTPS,delete e.streaming.forceHTTPS),e.streaming&&"minBytesForProgressEvents"in e.streaming&&(Dt("streaming.minBytesForProgressEvents configuration","Please Use networking.minBytesForProgressEvents instead."),e.networking=e.networking||{},e.networking.minBytesForProgressEvents=e.streaming.minBytesForProgressEvents,delete e.streaming.minBytesForProgressEvents),o=pc(this.g,e,_h(this)),Ih(this,n),o},r.vk=function(e){this.Dg=e},r.getConfiguration=function(){var e=_h(this);return pc(e,this.g,_h(this)),e},r.Hk=function(){return this.Dg},r.Yi=function(){return pc(_h(this),this.g,_h(this)),Jl(this.g,_h(this))},r.Vi=function(){if(this.h){var e=this.h.buffered.length;e=e?this.h.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(e>=(t=Math.min(this.h.currentTime+t,this.wa().end)))return 1;if(!(e<=this.h.currentTime)&&e<t)return(e-this.h.currentTime)/(t-this.h.currentTime)}return 0},r.Bj=function(){var e,t=this.getConfiguration();for(e in this.g)delete this.g[e];pc(this.g,_h(this),_h(this)),Ih(this,t)},r.Rk=function(){return this.l},r.sh=function(){return this.i?this.i.type:null},r.Yk=function(){return this.h},r.Vb=function(){return this.J},r.hd=function(){return this.V},r.uf=function(){return this.D?this.D:null},r.wf=function(){return this.ya?this.ya:null},r.U=function(){return this.i&&!this.Ea()?this.i.presentationTimeline.U():!(!this.h||!this.h.src&&!this.Ea())&&this.h.duration==1/0},r.ld=function(){return!!this.i&&this.i.presentationTimeline.ld()},r.Ld=function(){if(this.i&&!this.Ea()){var e=this.i.variants;return!!e.length&&!e[0].video}return!(!this.h||!this.h.src&&!this.Ea())&&(this.h.videoTracks?0==this.h.videoTracks.length:0==this.h.videoHeight)},r.Gh=function(){if(this.i&&!this.Ea()){var e=this.i.variants;return!!e.length&&(!((e=e[0]).audio||!e.video)&&!e.video.codecs.includes(","))}return!(!this.h||!this.h.src&&!this.Ea()||!this.h.audioTracks)&&0==this.h.audioTracks.length},r.wa=function(){if(this.i&&!this.Ea()){if(!this.aa&&"HLS"==this.i.type)return{start:0,end:0};var e=this.i.presentationTimeline;return{start:e.fc(),end:e.Lb()}}if(this.h&&(this.h.src||this.Ea())&&(e=this.h.seekable)&&e.length){var t=this.g?this.g.playRangeStart:0;t=Math.max(e.start(0),t);var n=this.g?this.g.playRangeEnd:1/0;return{start:t,end:e=Math.min(e.end(e.length-1),n)}}return{start:0,end:0}},r.zl=function(){this.U()&&(this.h.currentTime=this.wa().end)},r.Dl=function(){return this.aa},r.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},r.drmInfo=function(){return this.F?this.F.g:null},r.pe=function(){return this.F?this.F.pe():1/0},r.nh=function(){return this.F?this.F.nh():[]},r.vf=function(){return this.F?this.F.vf():{}},r.Df=function(){return this.P?this.P.g==Ja:!!this.V},r.Za=function(){return this.h?this.L?this.L.i:1:0},r.xi=function(e){this.l==gp&&this.m&&Tl(this.m,e)},r.sc=function(e,t){t=void 0===t||t,0==e?Y("A trick play rate of 0 is unsupported!"):(this.L.set(e),this.l==gp&&(this.u.playbackRateChanged(e),this.xi(t&&1!=e)),qh(this,e))},r.Bd=function(){var e=this.L.jd();this.l==mp&&this.L.set(e),this.l==gp&&(this.L.set(e),this.u.playbackRateChanged(e),this.xi(!1)),this.kc.Sa()},r.Nb=function(){if(this.i&&!this.Ea()){for(var e=this.m?this.m.u:null,t=[],n=0,i=g(this.i.variants),r=i.next();!r.done;r=i.next())if(gr(r=r.value)){var a=lr(r);a.active=r==e,a.active||1==n||null==e||r.video!=e.video||r.audio!=e.audio||(a.active=!0),a.active&&n++,t.push(a)}return t}if(this.h&&this.h.audioTracks){var o=Yh(this);return(e=Array.from(this.h.audioTracks)).length?e.map(function(e){return fr(e,o)}):o?[fr(null,o)]:[]}return[]},r.yc=function(){if(this.i){if(this.Ea())return[];for(var e=this.m?this.m.C:null,t=[],n=g(this.i.textStreams),i=n.next();!i.done;i=n.next()){var r=cr(i=i.value);r.active=i==e,t.push(r)}return t}return this.h&&this.h.src&&this.h.textTracks?Dh(this).map(function(e){return pr(e)}):[]},r.qh=function(){var e=this.Ze;return this.i&&(e=this.i.imageStreams),e.map(function(e){return dr(e)})},r.yk=function(e){var t,n,i=this;return D(function(r){return 1==r.g?T(r,Lh(i,e),2):(t=r.h)?(n=[],t.segmentIndex.Kb(function(e){var i=Mh(e.tilesLayout||t.tilesLayout);if(i)for(var r=i.rows*i.columns,a=e.j-e.startTime,o=0;o<r;o++){var s=Rh(e,t,e.startTime+a*o/r,i);n.push(s)}}),t.closeSegmentIndex&&t.closeSegmentIndex(),r.return(n)):r.return(null)})},r.$i=function(e,t){var n,i,r,a,o,s=this;return D(function(u){return 1==u.g?T(u,Lh(s,e),2):(n=u.h)?(n.closeSegmentIndex&&(s.Dc.has(n)||(i=new Wi(function(){n.closeSegmentIndex(),s.Dc.delete(n)}),s.Dc.set(n,i)),s.Dc.get(n).Y(5)),null==(r=n.segmentIndex.find(t))?u.return(null):(a=n.segmentIndex.get(r),(o=Mh(a.tilesLayout||n.tilesLayout))?u.return(Rh(a,n,t,o)):u.return(null))):u.return(null)})},r.fg=function(e){var t,n=this;this.i&&this.G&&((t=n.i.textStreams.find(function(t){return t.id==e.id}))&&t!=n.m.C&&(Ac(n.C.h,t,!1),wl(n.m,t),ep(n),ip(n),n.Vd=t.language),!this.Ea())||function(){if(n.h&&n.h.textTracks){var t=Dh(n),i=t.find(function(t){return hr(t)===e.id});if(i){if(n.A instanceof Jc)for(var r=(t=g(t)).next();!r.done;r=t.next()){var a=(r=r.value)===i?n.W?"showing":"hidden":"disabled";r.mode!==a&&(r.mode=a)}else(t=t.find(function(e){return"disabled"!==e.mode}))!==i&&(t&&(t.mode="disabled",n.j.Fa(t,"cuechange"),n.A.remove(0,1/0)),i&&Ph(n,i));ep(n),ip(n)}}}()},r.Ie=function(e,t,n){var i=this;t=void 0!==t&&t,n=void 0===n?0:n,this.i&&this.G&&(function(){var r=i.i.variants.find(function(t){return t.id==e.id});if(r&&gr(r)){var a=i.m.u;i.g.abr.enabled&&(a.video!=r.video||a.audio&&r.audio&&a.audio.language==r.audio.language&&a.audio.channelsCount==r.audio.channelsCount&&a.audio.label==r.audio.label)&&Y("Changing tracks while abr manager is enabled will likely result in the selected track being overridden. Consider disabling abr before calling selectVariantTrack()."),i.Ea()?Wh(i,r,!1,!1,0):Wh(i,r,!1,t||!1,n||0),i.M.configure({language:r.language,role:r.audio&&r.audio.roles&&r.audio.roles[0]||"",videoRole:r.video&&r.video.roles&&r.video.roles[0]||"",channelCount:r.audio&&r.audio.channelsCount?r.audio.channelsCount:0,hdrLevel:r.video&&r.video.hdr?r.video.hdr:"",spatialAudio:!(!r.audio||!r.audio.spatialAudio)&&r.audio.spatialAudio,videoLayout:r.video&&r.video.videoLayout?r.video.videoLayout:"",audioLabel:r.audio&&r.audio.label?r.audio.label:"",videoLabel:r.video&&r.video.label?r.video.label:"",codecSwitchingStrategy:i.g.mediaSource.codecSwitchingStrategy,audioCodec:r.audio&&r.audio.codecs?r.audio.codecs:"",activeAudioCodec:a.audio&&a.audio.codecs?a.audio.codecs:"",activeAudioChannelCount:a.audio&&a.audio.channelsCount?a.audio.channelsCount:0,preferredAudioCodecs:i.g.preferredAudioCodecs,preferredAudioChannelCount:i.g.preferredAudioChannelCount}),Hh(i)}}(),!this.Ea())||function(){if(e.originalAudioId&&i.h&&i.h.audioTracks)for(var t=Array.from(i.h.audioTracks),n=(t=g(t)).next();!n.done;n=t.next())if(hr(n=n.value)==e.id){Xh(i,n);break}}()},r.Hj=function(e,t){var n,i=this;(t=void 0===t?0:t,this.i&&this.G&&((n=i.M.getConfiguration()).audioCodec=e.codecs||"",n.audioLabel=e.label||"",n.channelCount=e.channelsCount||0,n.language=e.language,n.role=e.roles[0]||"",n.spatialAudio=e.spatialAudio,i.M.configure(n),Kh(i,!0,t,!1,!1),!this.Ea()))||function(){if(i.h&&i.h.audioTracks){for(var t=dt(e.language),n=Array.from(i.h.audioTracks),r=null,a=(n=g(n)).next();!a.done;a=n.next()){var o=(a=a.value).language||"und";if(a.label==e.label&&dt(o)==t&&a.kind==e.roles[0]){r=a;break}}r&&Xh(i,r)}}()},r.getAudioTracks=function(){if(this.i&&!this.Ea()){var e=this.Nb();if(!e.length)return[];var t=e.find(function(e){return e.active});if(!t)return[];var n=e;if(this.l!=gp||this.Ea()||(n=e.filter(function(e){return e.originalVideoId===t.originalVideoId&&(e.audioCodec||Bi.includes(e.audioMimeType||""))})),!n.length)return[];e=new Map;for(var i=(n=g(n)).next();!i.done;i=n.next()){var r=(i=i.value).originalAudioId;r||null==i.audioId||(r=String(i.audioId)),!r&&i.codecs.includes(",")&&i.audioCodec&&(r="muxed-in-video"),r&&(r+=[i.language,i.label,i.channelsCount,i.spatialAudio].join("_"),e.set(r,{active:i.active,language:i.language,label:i.label,mimeType:i.audioMimeType,codecs:i.audioCodec,primary:i.primary,roles:i.audioRoles||[],accessibilityPurpose:i.accessibilityPurpose,channelsCount:i.channelsCount,audioSamplingRate:i.audioSamplingRate,spatialAudio:i.spatialAudio,originalLanguage:i.originalLanguage}))}return Array.from(e.values())}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map(function(e){var t=e.language;return t={active:e.enabled,language:dt(t||"und"),label:e.label,mimeType:null,codecs:null,primary:"main"==e.kind,roles:[],accessibilityPurpose:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,originalLanguage:t},e.kind&&t.roles.push(e.kind),e.configuration&&(e.configuration.codec&&(t.codecs=e.configuration.codec),e.configuration.sampleRate&&(t.audioSamplingRate=e.configuration.sampleRate),e.configuration.numberOfChannels&&(t.channelsCount=e.configuration.numberOfChannels)),t}):[]},r.Ij=function(e,t,n){t=void 0!==t&&t,n=void 0===n?0:n;var i=this.Nb();if(i.length){var r=i.find(function(e){return e.active});r&&(i=i.find(function(t){return t.audioId===r.audioId&&(t.videoBandwidth||t.bandwidth)==e.bandwidth&&t.width==e.width&&t.height==e.height&&t.frameRate==e.frameRate&&t.pixelAspectRatio==e.pixelAspectRatio&&t.hdr==e.hdr&&t.colorGamut==e.colorGamut&&t.videoLayout==e.videoLayout&&t.videoMimeType==e.mimeType&&t.videoCodec==e.codecs&&It(t.videoRoles,e.roles)&&t.videoLabel==e.label}))&&!i.active&&this.Ie(i,t,n)}},r.getVideoTracks=function(){if(this.l==mp||this.Ea())return[];var e=this.Nb();if(!e.length)return[];var t=e.find(function(e){return e.active});if(!t)return[];var n=e.filter(function(e){return e.originalAudioId===t.originalAudioId&&e.audioId===t.audioId&&e.audioGroupId===t.audioGroupId&&e.videoCodec});if(!n.length)return[];e=new Map;for(var i=(n=g(n)).next();!i.done;i=n.next()){var r=(i=i.value).originalVideoId;r||null==i.videoId||(r=String(i.videoId)),r&&e.set(r,{active:i.active,bandwidth:i.videoBandwidth||i.bandwidth,width:i.width,height:i.height,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,hdr:i.hdr,colorGamut:i.colorGamut,videoLayout:i.videoLayout,mimeType:i.videoMimeType,codecs:i.videoCodec,roles:i.videoRoles||[],label:i.videoLabel})}return Array.from(e.values())},r.Ak=function(){return hp(this.Nb())},r.ll=function(){return hp(this.yc())},r.zk=function(){return Array.from(dp(this.Nb()))},r.kl=function(){return Array.from(dp(this.yc()))},r.Gj=function(e,t,n,i,r,a,o){var s=this;n=void 0===n?0:n,i=void 0===i?0:i,r=void 0===r?"":r,a=void 0!==a&&a,o=void 0===o?"":o,this.i&&this.G&&(function(){function u(e,t){return e.video||t.video?e.video&&t.video?Math.abs((e.video.height||0)-(t.video.height||0))+Math.abs((e.video.width||0)-(t.video.width||0)):1/0:0}var l=s.m.u;s.M=s.g.adaptationSetCriteriaFactory(),s.M.configure({language:e,role:t||"",videoRole:l.video&&l.video.roles&&l.video.roles[0]||"",channelCount:n||0,hdrLevel:"",spatialAudio:a||!1,videoLayout:"",audioLabel:o||"",videoLabel:"",codecSwitchingStrategy:s.g.mediaSource.codecSwitchingStrategy,audioCodec:r||"",activeAudioCodec:l.audio&&l.audio.codecs?l.audio.codecs:"",activeAudioChannelCount:l.audio&&l.audio.channelsCount?l.audio.channelsCount:0,preferredAudioCodecs:s.g.preferredAudioCodecs,preferredAudioChannelCount:s.g.preferredAudioChannelCount});for(var c=s.M.create(s.i.variants),d=null,h=(c=g(c.values())).next();!h.done;h=c.next())gr(h=h.value)&&(!d||u(d,l)>u(h,l))&&(d=h);d!=l&&(d?(l=lr(d),s.Ie(l,!0,i||0)):Kh(s))}(),!this.Ea())||function(){if(s.h&&s.h.audioTracks){var n=vr(s.Nb(),e,t||"",!1)[0];n&&s.Ie(n)}}()},r.$h=function(e,t,n){var i,r=this;(n=void 0!==n&&n,this.i&&this.G&&(function(){r.Vd=e,r.ee=t||"",r.ce=n||!1;var i=vr(r.i.textStreams,r.Vd,r.ee,r.ce)[0]||null;i&&i!=r.m.C&&(Ac(r.C.h,i,!1),r.g.streaming.alwaysStreamText||r.Wc())&&(wl(r.m,i),ep(r),ip(r))}(),!this.Ea()))||(i=vr(r.yc(),e,t||"",n||!1)[0])&&r.fg(i)},r.pm=function(e,t,n){var i=this;t=void 0===t||t,n=void 0===n?0:n,this.i&&this.G&&(function(){for(var r=null,a=g(i.i.variants),o=a.next();!o.done;o=a.next())if((o=o.value).audio.label==e){r=o;break}null!=r&&(i.M=i.g.adaptationSetCriteriaFactory(),i.M.configure({language:r.language,role:"",videoRole:"",channelCount:0,hdrLevel:"",spatialAudio:!1,videoLayout:"",videoLabel:"",audioLabel:e,codecSwitchingStrategy:i.g.mediaSource.codecSwitchingStrategy,audioCodec:"",activeAudioCodec:"",activeAudioChannelCount:0,preferredAudioCodecs:i.g.preferredAudioCodecs,preferredAudioChannelCount:i.g.preferredAudioChannelCount}),Kh(i,t,n))}(),!this.Ea())||function(){if(i.h&&i.h.audioTracks){for(var t=Array.from(i.h.audioTracks),n=null,r=(t=g(t)).next();!r.done;r=t.next())(r=r.value).label==e&&(n=r);n&&Xh(i,n)}}()},r.Wc=function(){var e=this.W;return this.A?this.A.isTextVisible():e},r.Ek=function(){return this.ib.map(function(e){return cr(e)})},r.Dk=function(e){if(Dt("getChapters","Please use an getChaptersAsync."),!this.ib.length)return[];var t=dt(e);if(!(e=this.ib.filter(function(e){return dt(e.language)==t})).length)return[];for(var n=[],i=new Set,r=(e=g(e)).next();!r.done;r=e.next())(r=r.value).segmentIndex&&r.segmentIndex.Kb(function(e){var t=e.T()[0],r=e.startTime+"-"+e.endTime+"-"+t;e={id:r,title:t,startTime:e.startTime,endTime:e.endTime},i.has(r)||(n.push(e),i.add(r))});return n},r.oh=function(e){var t,n,i,r,a,o,s,u=this;return D(function(l){switch(l.g){case 1:if(!u.ib.length)return l.return([]);if(t=dt(e),!(n=u.ib.filter(function(e){return dt(e.language)==t})).length)return l.return([]);i=[],r=new Set,a=g(n),o=a.next();case 2:if(o.done){l.B(4);break}if((s=o.value).segmentIndex){l.B(5);break}return T(l,s.createSegmentIndex(),5);case 5:s.segmentIndex.Kb(function(e){var t=e.T()[0],n=e.startTime+"-"+e.endTime+"-"+t;e={id:n,title:t,startTime:e.startTime,endTime:e.endTime},r.has(n)||(i.push(e),r.add(n))}),o=a.next(),l.B(2);break;case 4:return l.return(i)}})},r.Zd=function(e){e=!!e,this.W!=e&&(this.W=e,this.l==gp?(this.A.setTextVisibility(e),this.g.streaming.alwaysStreamText||(e?this.m.C||(e=vr(this.i.textStreams,this.Vd,this.ee,this.ce)).length>0&&(wl(this.m,e[0]),ep(this),ip(this)):function(e){var t=e.h.get(it);t&&(ql(t),Fl(t).catch(function(){}),e.H=e.h.get(it),e.h.delete(it),t.stream&&t.stream.closeSegmentIndex&&t.stream.closeSegmentIndex()),e.C=null}(this.m))):this.h&&this.h.src&&this.h.textTracks&&this.A.setTextVisibility(e),tp(this))},r.Zk=function(){if(this.G)var e=this.G.$e();else{if(null==this.O)return new Date;if(this.O instanceof Date)return this.O;e=this.O}if(this.i&&!this.Ea()){var t=this.i.presentationTimeline;return new Date(1e3*((t.m||t.i)+e))}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:new Date(t.getTime()+1e3*e)):null},r.Zi=function(){if(this.i&&!this.Ea()){var e=this.i.presentationTimeline;return null===(e=e.m||e.i)?null:new Date(1e3*e)}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:e):null},r.yf=function(){return this.U()&&this.i?this.i.presentationTimeline.yf():null},r.Oc=function(){if(this.l==gp)return this.H.Oc();var e={total:[],audio:[],video:[],text:[]};return this.l==mp&&(e.total=os(this.h.buffered)),e},r.getBandwidthEstimate=function(){return this.u?this.u.getBandwidthEstimate():NaN},r.getStats=function(){if(this.l!=gp&&this.l!=mp)return{width:NaN,height:NaN,currentCodecs:"",streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};Fh(this);var e=this.h,t=e.currentTime/e.duration;if(isNaN(t)||this.U()||function(e,t){e.i=isNaN(e.i)?t:Math.max(e.i,t)}(this.C,Math.round(100*t)),this.G&&(this.C.R=this.G.zi(),this.C.S=this.G.Bi()),e.getVideoPlaybackQuality&&(t=e.getVideoPlaybackQuality(),function(e,t,n){e.P=t,e.O=n}(this.C,Number(t.droppedVideoFrames),Number(t.totalVideoFrames)),this.C.M=Number(t.corruptedVideoFrames)),this.C.u=this.F?function(e){return e.J?e.J:NaN}(this.F):NaN,Tc(this.C,e.videoWidth||NaN,e.videoHeight||NaN),this.C.l="",this.U()&&(null!=(e=Oh(this))&&(this.C.F=e/1e3)),t=this.Nb().find(function(e){return e.active}),e=this.yc().find(function(e){return e.active}),t){if(t.bandwidth){var n=this.L?this.L.i:1,i=n*t.bandwidth;e&&e.bandwidth&&(i+=n*e.bandwidth),this.C.C=i}t.width&&t.height&&Tc(this.C,t.width||NaN,t.height||NaN),t=t.codecs,e&&(t+=","+(e.codecs||e.mimeType)),t&&(this.C.l=t)}return this.l!=gp||this.Ea()||(this.i&&(this.C.I=this.i.periodCount,this.C.H=this.i.gapCount,this.i.presentationTimeline&&(this.C.K=this.i.presentationTimeline.h)),e=this.u.getBandwidthEstimate(),this.C.A=e),this.l==mp&&Cc(this.C,NaN),wc(this.C)},r.ge=function(e,t,n,i,r,a,o){o=void 0!==o&&o;var s,u,l,c,d,h,p,f,g,m,v,y=this;return D(function(A){switch(A.g){case 1:if(y.l!=gp&&y.l!=mp)throw new Ie(1,7,7004);if("subtitles"!=n&&"captions"!=n&&Y("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),i){A.B(2);break}return T(A,Nh(y,e),3);case 3:i=A.h;case 2:if(s=[],y.D&&(s=y.D.getCuePoints()),y.l!=mp){A.B(4);break}return u=Re(),o&&"WEBKIT"===u.Ja()&&(n="forced"),T(A,function(e,t,n,i,r,a,o){var s,u,l,c;return D(function(d){if(1==d.g)return"text/vtt"!=r||o.length?T(d,Uh(e,t,e.J,e.g.streaming.retryParameters),3):d.B(2);2!=d.g&&(s=d.h,u=Bh(e,s,r,o),l=new Blob([u],{type:"text/vtt"}),t=mu(l),r="text/vtt"),c=document.createElement("track");e:{var h=e.K,p=t;try{if(!h.g.enabled){var f=p;break e}var g=fd(h);g.ot=Pd,g.su=!0,f=Ed(p,xd(g));break e}catch(e){Z("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",e),f=p;break e}f=void 0}return c.src=f,c.label=a,c.kind=i,c.srclang=n,e.h.getAttribute("crossorigin")||e.h.setAttribute("crossorigin","anonymous"),e.h.appendChild(c),e.Cg.push(c),d.return(c)})}(y,e,t,n,i,a||"",s),5);case 5:if((l=A.h).track)return Zh(y),A.return(pr(l.track));throw new Ie(1,2,2012);case 4:if(c=rt,d=y.wa(),h=d.end-d.start,y.i&&(h=y.i.presentationTimeline.getDuration()),h==1/0)throw new Ie(1,4,4033);if(!s.length){A.B(6);break}return T(A,Uh(y,e,y.J,y.g.streaming.retryParameters),7);case 7:p=A.h,f=Bh(y,p,i,s),g=new Blob([f],{type:"text/vtt"}),e=mu(g),i="text/vtt";case 6:if(m={id:y.Ue++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Ku(0,h,[e]),mimeType:i||"",codecs:r||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:a||null,type:c.Va,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([ki(i||"",r||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},v=ki(m.mimeType,m.codecs),!Fi(v))throw new Ie(2,2,2014,i);return y.i.textStreams.push(m),Zh(y),A.return(cr(m))}})},r.gf=function(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A,b,C=this;return D(function(w){switch(w.g){case 1:if(C.l!=gp&&C.l!=mp)throw new Ie(1,7,7004);if(t){w.B(2);break}return T(w,Nh(C,e),3);case 3:t=w.h;case 2:if("text/vtt"!=t)throw new Ie(1,2,2017,e);if(n=rt,i=C.wa(),r=i.end-i.start,C.i&&(r=C.i.presentationTimeline.getDuration()),r==1/0)throw new Ie(1,4,4045);return T(w,Uh(C,e,C.J,C.g.streaming.retryParameters),4);case 4:if(a=w.h,!(o=qi(t)))throw new Ie(2,2,2014,t);for(s=o(),u={periodStart:0,segmentStart:0,segmentEnd:r,vttOffset:0},l=xe(a),c=s.parseMedia(l,u,e,[]),d=[],h=g(c),p=h.next(),f={};!p.done;f={wg:void 0,Ed:void 0},p=h.next())f.Ed=p.value,f.wg=null,m=function(t){return function(){return null==t.wg&&(t.wg=Qe([e],[t.Ed.payload])),t.wg||[]}}(f),v=new Zo(f.Ed.startTime,f.Ed.endTime,m,0,null,null,0,0,1/0),f.Ed.payload.includes("#xywh")&&(4===(y=f.Ed.payload.split("#xywh=")[1].split(",")).length&&v.jg({height:parseInt(y[3],10),positionX:parseInt(y[0],10),positionY:parseInt(y[1],10),width:parseInt(y[2],10)})),d.push(v);if(A=t,!d.length){w.B(5);break}return T(w,_c(d[0].T()[0],C.J,C.g.manifest.retryParameters),6);case 6:A=w.h;case 5:return b={id:C.Ue++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Hu(d),mimeType:A||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.yg,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([ki(A||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},C.l==mp?C.Ze.push(b):C.i.imageStreams.push(b),Zh(C),w.return(dr(b))}})},r.ef=function(e,t,n){var i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A=this;return D(function(b){switch(b.g){case 1:if(A.l!=gp&&A.l!=mp)throw new Ie(1,7,7004);if(n){b.B(2);break}return T(b,Nh(A,e),3);case 3:n=b.h;case 2:if(i=rt,r=A.wa(),a=r.end-r.start,A.i&&(a=A.i.presentationTimeline.getDuration()),a==1/0)throw new Ie(1,4,4054);return T(b,Uh(A,e,A.J,A.g.streaming.retryParameters),4);case 4:if(o=b.h,!(s=qi(n)))throw new Ie(2,2,2014,n);for(u=s(),l={periodStart:0,segmentStart:0,segmentEnd:a,vttOffset:0},c=xe(o),d=u.parseMedia(c,l,e,[]),h=[],p=g(d),f=p.next(),m={};!f.done;m={qf:void 0},f=p.next())m.qf=f.value,v=new Zo(m.qf.startTime,m.qf.endTime,function(e){return function(){return[e.qf.payload]}}(m),0,null,null,0,0,1/0),h.push(v);return y={id:A.Ue++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Hu(h),mimeType:"text/plain",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:t,originalLanguage:t,label:null,type:i.Va,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([ki("text/plain","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},A.ib.push(y),Zh(A),b.return(cr(y))}})},r.vm=function(e,t){this.sa.width=e,this.sa.height=t},r.Wh=function(e){if(this.l==gp){var t=this.m;if(e=void 0===e?.1:e,t.l.g)t=!1;else if(t.D)t=!1;else{for(var n=g(t.h.values()),i=n.next();!i.done;i=n.next())!(i=i.value).se||i.Ra||i.yb||(i.se=!1,jl(t,i,e));t=!0}}else t=!1;return t},r.rh=function(){return Y("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},r.Vk=function(){return this.Gc},r.Nk=function(){var e={video:null,audio:null,text:null};if(this.l!=gp)return e;for(var t=this.m.u,n=this.h.currentTime,i=(t=g([t.video,t.audio,this.m.C])).next();!i.done;i=t.next())if((i=i.value)&&i.segmentIndex){var r=i.segmentIndex.find(n);r={codecs:(r=i.segmentIndex.get(r)).codecs||i.codecs,mimeType:r.mimeType||i.mimeType,bandwidth:r.bandwidth||i.bandwidth},"video"==i.type?(r.width=i.width,r.height=i.height,e.video=r):"audio"==i.type?e.audio=r:i.type==it&&(e.text=r)}return e},r.ii=function(e){this.Qe=e},r.disableStream=function(e,t){if(!this.g.abr.enabled||this.l===pp||!navigator.onLine||0==t||!this.i)return!1;if(this.i.variants.some(function(t){var n=t[e.type];return!(!n||n.id===e.id||t.disabledUntilTime)&&("audio"!=e.type||e.language===n.language)})){for(var n=!1,i=!1,r=g(this.i.variants),a=r.next();!a.done;a=r.next()){var o=(a=a.value)[e.type];o&&(o.id===e.id?(a.disabledUntilTime=Date.now()/1e3+t,n=!0):o.trickModeVideo&&o.trickModeVideo.id==e.id&&(i=!0))}return!(!n&&i)&&(this.We.xa(1),t=this.Oc().video.reduce(function(e,t){return e+t.end-t.start},0),Kh(this,!1,t,!0,!1),!0)}return!1},r.addFont=function(t,n){return function(t,n){var i,r,a,o,s;return D(function(u){if(1==u.g)return"fonts"in document&&"FontFace"in e?T(u,document.fonts.ready,2):u.return();if(!("entries"in document.fonts))return u.return();for(i=function(e){for(var t=[],n=(e=e.entries()).next();!1===n.done;)t.push(n.value),n=e.next();return t},r=g(i(document.fonts)),a=r.next();!a.done;a=r.next())if((o=a.value).family===t&&"swap"===o.display)return u.return();s=new FontFace(t,"url("+n+")",{display:"swap"}),document.fonts.add(s),C(u)})}(t,n)},r.Ea=function(){return!(!this.h||!this.h.remote)&&"disconnected"!=this.h.remote.state},r.isEnded=function(){return!(this.h&&!this.h.ended)||this.aa&&!this.U()&&this.h.currentTime>=this.wa().end},G("shaka.Player",uh),uh.prototype.isEnded=uh.prototype.isEnded,uh.prototype.isRemotePlayback=uh.prototype.Ea,uh.prototype.addFont=uh.prototype.addFont,uh.prototype.setVideoContainer=uh.prototype.ii,uh.prototype.getFetchedPlaybackInfo=uh.prototype.Nk,uh.prototype.getManifestParserFactory=uh.prototype.Vk,uh.prototype.getManifest=uh.prototype.rh,uh.prototype.retryStreaming=uh.prototype.Wh,uh.prototype.setMaxHardwareResolution=uh.prototype.vm,uh.prototype.addChaptersTrack=uh.prototype.ef,uh.prototype.addThumbnailsTrack=uh.prototype.gf,uh.prototype.addTextTrackAsync=uh.prototype.ge,uh.prototype.getStats=uh.prototype.getStats,uh.prototype.getBufferedInfo=uh.prototype.Oc,uh.prototype.getSegmentAvailabilityDuration=uh.prototype.yf,uh.prototype.getPresentationStartTimeAsDate=uh.prototype.Zi,uh.prototype.getPlayheadTimeAsDate=uh.prototype.Zk,uh.prototype.setTextTrackVisibility=uh.prototype.Zd,uh.prototype.getChaptersAsync=uh.prototype.oh,uh.prototype.getChapters=uh.prototype.Dk,uh.prototype.getChaptersTracks=uh.prototype.Ek,uh.prototype.isTextTrackVisible=uh.prototype.Wc,uh.prototype.selectVariantsByLabel=uh.prototype.pm,uh.prototype.selectTextLanguage=uh.prototype.$h,uh.prototype.selectAudioLanguage=uh.prototype.Gj,uh.prototype.getTextLanguages=uh.prototype.kl,uh.prototype.getAudioLanguages=uh.prototype.zk,uh.prototype.getTextLanguagesAndRoles=uh.prototype.ll,uh.prototype.getAudioLanguagesAndRoles=uh.prototype.Ak,uh.prototype.getVideoTracks=uh.prototype.getVideoTracks,uh.prototype.selectVideoTrack=uh.prototype.Ij,uh.prototype.getAudioTracks=uh.prototype.getAudioTracks,uh.prototype.selectAudioTrack=uh.prototype.Hj,uh.prototype.selectVariantTrack=uh.prototype.Ie,uh.prototype.selectTextTrack=uh.prototype.fg,uh.prototype.getThumbnails=uh.prototype.$i,uh.prototype.getAllThumbnails=uh.prototype.yk,uh.prototype.getImageTracks=uh.prototype.qh,uh.prototype.getTextTracks=uh.prototype.yc,uh.prototype.getVariantTracks=uh.prototype.Nb,uh.prototype.cancelTrickPlay=uh.prototype.Bd,uh.prototype.trickPlay=uh.prototype.sc,uh.prototype.useTrickPlayTrackIfAvailable=uh.prototype.xi,uh.prototype.getPlaybackRate=uh.prototype.Za,uh.prototype.isBuffering=uh.prototype.Df,uh.prototype.getKeyStatuses=uh.prototype.vf,uh.prototype.getActiveSessionsMetadata=uh.prototype.nh,uh.prototype.getExpiration=uh.prototype.pe,uh.prototype.drmInfo=uh.prototype.drmInfo,uh.prototype.keySystem=uh.prototype.keySystem,uh.prototype.isFullyLoaded=uh.prototype.Dl,uh.prototype.goToLive=uh.prototype.zl,uh.prototype.seekRange=uh.prototype.wa,uh.prototype.isVideoOnly=uh.prototype.Gh,uh.prototype.isAudioOnly=uh.prototype.Ld,uh.prototype.isInProgress=uh.prototype.ld,uh.prototype.isLive=uh.prototype.U,uh.prototype.getQueueManager=uh.prototype.wf,uh.prototype.getAdManager=uh.prototype.uf,uh.prototype.getAssetUri=uh.prototype.hd,uh.prototype.getNetworkingEngine=uh.prototype.Vb,uh.prototype.getMediaElement=uh.prototype.Yk,uh.prototype.getManifestType=uh.prototype.sh,uh.prototype.getLoadMode=uh.prototype.Rk,uh.prototype.resetConfiguration=uh.prototype.Bj,uh.prototype.getBufferFullness=uh.prototype.Vi,uh.prototype.getNonDefaultConfiguration=uh.prototype.Yi,uh.prototype.getConfigurationForLowLatency=uh.prototype.Hk,uh.prototype.getConfiguration=uh.prototype.getConfiguration,uh.prototype.configurationForLowLatency=uh.prototype.vk,uh.prototype.configure=uh.prototype.configure,uh.prototype.releaseAllMutexes=uh.prototype.dm,uh.prototype.destroyAllPreloads=uh.prototype.Ug,uh.prototype.preload=uh.prototype.preload,uh.prototype.detachAndSavePreload=uh.prototype.Ri,uh.prototype.unloadAndSavePreload=uh.prototype.ck,uh.prototype.load=uh.prototype.load,uh.prototype.updateStartTime=uh.prototype.Dm,uh.prototype.unload=uh.prototype.tc,uh.prototype.detach=uh.prototype.detach,uh.prototype.attachCanvas=uh.prototype.Fi,uh.prototype.attach=uh.prototype.cc,uh.probeSupport=function(t){var n,i,r,a,o;return t=void 0===t||t,D(function(s){switch(s.g){case 1:if(n={},!t){s.B(2);break}return T(s,function(){var t,n,i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A,b,x,k,I,M,L,R,P,O,N,U;return D(function(B){if(1==B.g){if(t="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.microsoft.playready.recommendation.3000 com.microsoft.playready.recommendation.3000.clearlead com.chromecast.playready com.apple.fps.1_0 com.apple.fps com.huawei.wiseplay".split(" "),!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)){for(n={},i=g(t),r=i.next();!r.done;r=i.next())a=r.value,n[a]=null;return B.return(n)}for(o="1.0 1.1 1.2 1.3 1.4 2.0 2.1 2.2 2.3".split(" "),u={"com.widevine.alpha":s=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],"com.widevine.alpha.experiment":s,"com.microsoft.playready.recommendation":["150","2000","3000"]},l={videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],initDataTypes:["cenc","sinf","skd","keyids"]},c=[null,"cenc","cbcs"],d=new Map,h=Re(),p=function(e,t,n){var i,r,a,s,u,l,c,p,f,m,v,y;return D(function(A){switch(A.g){case 1:return w(A,2),T(A,t.createMediaKeys(),5);case 5:i=A.h;case 4:S(A,3);break;case 2:return E(A),A.return();case 3:if(a=!!(r=t.getConfiguration().sessionTypes)&&r.includes("persistent-license"),h.oj()&&(a=!1),s=t.getConfiguration().videoCapabilities,u=t.getConfiguration().audioCapabilities,l={persistentState:a,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[],minHdcpVersions:[]},d.get(e)?l=d.get(e):d.set(e,l),(c=s[0].encryptionScheme)&&!l.encryptionSchemes.includes(c)&&l.encryptionSchemes.push(c),(p=s[0].robustness)&&!l.videoRobustnessLevels.includes(p)&&l.videoRobustnessLevels.push(p),(f=u[0].robustness)&&!l.audioRobustnessLevels.includes(f)&&l.audioRobustnessLevels.push(f),!n||!("getStatusForPolicy"in i)){A.B(0);break}m=g(o),v=m.next();case 7:if(v.done){A.B(0);break}if(y=v.value,l.minHdcpVersions.includes(y)){A.B(8);break}return T(A,i.getStatusForPolicy({minHdcpVersion:y}),10);case 10:if("usable"!=A.h){A.B(0);break}l.minHdcpVersions.includes(y)||l.minHdcpVersions.push(y);case 8:v=m.next(),A.B(7)}})},f=function(e,t,n,i,r){var a,o,s,u,c,d,h,f,m,v;return r=void 0!==r&&r,D(function(y){switch(y.g){case 1:for(w(y,2),a=dn(l),o=g(a.videoCapabilities),s=o.next();!s.done;s=o.next())(u=s.value).encryptionScheme=t,u.robustness=n;for(c=g(a.audioCapabilities),d=c.next();!d.done;d=c.next())(h=d.value).encryptionScheme=t,h.robustness=i;return(f=dn(a)).persistentState="required",f.sessionTypes=["persistent-license"],m=[f,a],"MOBILE"==Re().Oa()?T(y,Qi(5,navigator.requestMediaKeySystemAccess(e,m)),7):T(y,navigator.requestMediaKeySystemAccess(e,m),6);case 6:v=y.h,y.B(5);break;case 7:v=y.h;case 5:return T(y,p(e,v,r),8);case 8:S(y,0);break;case 2:E(y),C(y)}})},m=g(t),v=m.next();!v.done;v=m.next())y=v.value,d.set(y,null);for(A=function(e){return"WEBKIT"!==Re().Ja()||"org.w3.clearkey"!==e},b=[],x=g(t),k=x.next();!k.done;k=x.next())if(I=k.value,A(I)){for(M=!0,L=g(c),R=L.next();!R.done;R=L.next())P=R.value,b.push(f(I,P,"","",M)),M=!1;for(O=g(u[I]||[]),N=O.next();!N.done;N=O.next())U=N.value,b.push(f(I,null,U,"")),b.push(f(I,null,"",U))}return T(B,Promise.all(b),2)}return B.return(da(d))})}(),3);case 3:n=s.h;case 2:return i=function(){var e={};if(Re(),uy())for(var t=g(co.keys()),n=t.next();!n.done;n=t.next())e[n.value]=!0;for(n=(t=g(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!n.done;n=t.next())e[n=n.value]=uy()?co.has(n):""!=fs().canPlayType(n);return e}(),r=function(){var e='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.20000000.L153.B0",video/mp4; codecs="hvc1.2.4.L120.b0",video/mp4; codecs="hvc1.2.4.L123.b0",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.08.01",video/mp4; codecs="dav1.10.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",audio/mp4; codecs="apac.31.00",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(m(Bi)),t={};Re();for(var n=(e=g(e)).next();!n.done;n=e.next()){if(Fi(n=n.value))t[n]=!0;else if(uy()){var i=Di(n);i=ki(i,sr(Oi(n),i)),t[n]=Ft(i)||!!bi(i)}else t[n]=""!=fs().canPlayType(n);t[i=n.split(";")[0]]=t[i]||t[n]}return t}(),T(s,Re().wc(),4);case 4:return a=s.h,o={manifest:i,media:r,drm:n,hardwareResolution:a},yp.forEach(function(e,t){o[t]=e()}),s.return(o)}})},uh.isBrowserSupported=hh,uh.setQueueManagerFactory=function(e){bp=e},uh.setAdManagerFactory=function(e){Ap=e},uh.registerSupportPlugin=dh,uh.prototype.destroy=uh.prototype.destroy;var pp=0,fp=1,gp=2,mp=3;uh.LoadMode={DESTROYED:pp,NOT_LOADED:fp,MEDIA_SOURCE:gp,SRC_EQUALS:mp},uh.version="v4.16.2";var vp=["4","16"];Ut=new function(e){this.g=e,this.i=Ot,this.h=Nt}(new Pt(Number(vp[0]),Number(vp[1])));var yp=new Map,Ap=null,bp=null;function Tp(){this.g=[],this.i=this.m=this.l=this.j=this.h=0}function Cp(e){return e.g.length?e.g.reduce(function(e,t){return e+t},0)/e.g.length:0}function wp(e,t,n){var i=this;this.g=e,this.h=t,this.m=n,this.i=!1,this.j=this.h.getVolume(),this.l=new Mt,this.l.o(this.h,google.ima.AdEvent.Type.PAUSED,function(){i.i=!0}),this.l.o(this.h,google.ima.AdEvent.Type.RESUMED,function(){i.i=!1})}function xp(){}function Sp(e,t){for(var n=[],i=(e=g(An(e,"Ad"))).next();!i.done;i=e.next())if((i=wn(i.value,"InLine"))&&(i=wn(i,"Creatives")))for(var r=(i=g(An(i,"Creative"))).next();!r.done;r=i.next()){var a=wn(r=r.value,"Linear");if(a&&Ep(n,t,a),r=wn(r,"NonLinearAds"))for(var o=(r=g(r=An(r,"NonLinear"))).next();!o.done;o=r.next())e:{a=n;var s=t,u=o.value,l=wn(u,"StaticResource");if(l)o=l.attributes.creativeType;else{if(!(l=wn(u,"HTMLResource")))break e;o="text/html"}if(l=Tn(l)){"text/html"===o&&(l="data:text/html;charset=UTF-8,"+encodeURIComponent(l));var c=Sn(u,"width",Pn)||Sn(u,"expandedWidth",Pn),d=Sn(u,"height",Pn)||Sn(u,"expandedHeight",Pn);if(c||d){var h=null,p=wn(u,"NonLinearClickThrough");p&&(p=Tn(p))&&(h=p),p=null,(u=u.attributes.minSuggestedDuration)&&(p=un(u)),u=0,null!=s&&(u=s),a.push({id:null,groupId:null,startTime:u,endTime:null,uri:l,mimeType:o,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:p,once:!0,pre:null==s,post:s==1/0,timelineRange:!1,loop:!1,overlay:{viewport:{x:0,y:0},topLeft:{x:0,y:0},size:{x:c||0,y:d||0}},displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:h})}}}}return n}function Ep(e,t,n){var i=0;null!=t&&(i=t);var r=null;n.attributes.skipoffset&&(r=un(n.attributes.skipoffset),isNaN(r)&&(r=null));var a=wn(n,"MediaFiles");if(a){var o=null;for((n=wn(n,"VideoClicks"))&&(n=wn(n,"ClickThrough"))&&(n=Tn(n))&&(o=n),a=n=An(a,"MediaFile"),n=n.filter(function(e){return"streaming"==e.attributes.delivery}),n.length&&(a=n),a=a.sort(function(e,t){return(parseInt(t.attributes.height,10)||0)-(parseInt(e.attributes.height,10)||0)}),n=(a=g(a)).next();!n.done;n=a.next())if(!(n=n.value).attributes.apiFramework){var s=Tn(n);if(s){e.push({id:null,groupId:null,startTime:i,endTime:null,uri:s,mimeType:n.attributes.type||null,isSkippable:null!=r,skipOffset:r,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:null==t,post:t==1/0,timelineRange:!1,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:o});break}}}}function kp(t,n,i,r,a){var o=this;this.A=t,this.i=n,this.G=!1,this.C=this.u=null,this.H=NaN,this.l=a,this.j=null,this.h=new Mt,google.ima.settings.setLocale(i),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.F=new google.ima.AdDisplayContainer(this.A,this.i),this.F.initialize(),this.m=new google.ima.AdsLoader(this.F),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.16.2"),this.g=null,this.D=r||new google.ima.AdsRenderingSettings,this.h.o(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){!function(t,n){if(t.l(new H("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-t.H))),t.u.customPlayheadTracker){var i={currentTime:t.i.currentTime};t.g=n.getAdsManager(i,t.D),t.i.muted?t.g.setVolume(0):t.g.setVolume(t.i.volume),t.h.o(t.i,"timeupdate",function(){t.i.duration&&(i.currentTime=t.i.currentTime)}),t.h.o(t.i,"volumechange",function(){t.j&&(t.j.setVolume(t.i.volume),t.i.muted&&t.j.setMuted(!0))})}else t.g=n.getAdsManager(t.i,t.D);t.l(new H("ima-ad-manager-loaded",(new Map).set("imaAdManager",t.g)));var r=t.g.getCuePoints();if(r.length){n=[];for(var a=(r=g(r)).next();!a.done;a=r.next())n.push({start:a.value,end:null});t.l(new H("ad-cue-points-changed",(new Map).set("cuepoints",n)))}!function(e){function t(t,n){t=(new Map).set("originalEvent",t),e.l(new H(n,t))}e.h.o(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(t){Ip(e,t)}),e.h.o(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(t){Mp(e,t)}),e.h.o(e.g,google.ima.AdEvent.Type.STARTED,function(t){Mp(e,t)}),e.h.o(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(e){t(e,"ad-first-quartile")}),e.h.o(e.g,google.ima.AdEvent.Type.MIDPOINT,function(e){t(e,"ad-midpoint")}),e.h.o(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(e){t(e,"ad-third-quartile")}),e.h.o(e.g,google.ima.AdEvent.Type.COMPLETE,function(e){t(e,"ad-complete")}),e.h.o(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(t){Lp(e,t)}),e.h.o(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(t){Lp(e,t)}),e.h.o(e.g,google.ima.AdEvent.Type.SKIPPED,function(e){t(e,"ad-skipped")}),e.h.o(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(e){t(e,"ad-volume-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(e){t(e,"ad-muted")}),e.h.o(e.g,google.ima.AdEvent.Type.PAUSED,function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))}),e.h.o(e.g,google.ima.AdEvent.Type.RESUMED,function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))}),e.h.o(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.j&&t(n,"ad-skip-state-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.CLICK,function(e){t(e,"ad-clicked")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_PROGRESS,function(e){t(e,"ad-progress")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_BUFFERING,function(e){t(e,"ad-buffering")}),e.h.o(e.g,google.ima.AdEvent.Type.IMPRESSION,function(e){t(e,"ad-impression")}),e.h.o(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(e){t(e,"ad-duration-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.USER_CLOSE,function(e){t(e,"ad-closed")}),e.h.o(e.g,google.ima.AdEvent.Type.LOADED,function(e){t(e,"ad-loaded")}),e.h.o(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(e){t(e,"all-ads-completed")}),e.h.o(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(e){t(e,"ad-linear-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_METADATA,function(e){t(e,"ad-metadata")}),e.h.o(e.g,google.ima.AdEvent.Type.LOG,function(e){t(e,"ad-recoverable-error")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(e){t(e,"ad-break-ready")}),e.h.o(e.g,google.ima.AdEvent.Type.INTERACTION,function(e){t(e,"ad-interaction")})}(t);try{t.g.init(t.i.offsetWidth,t.i.offsetHeight),t.h.o(t.i,"loadeddata",function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight)}),"ResizeObserver"in e?(t.C=new ResizeObserver(function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight)}),t.C.observe(t.i)):t.h.o(document,"fullscreenchange",function(){t.g.resize(t.i.offsetWidth,t.i.offsetHeight)}),t.G||t.u.skipPlayDetection?t.g.start():t.h.ua(t.i,"play",function(){t.G=!0,t.g.start()})}catch(e){Lp(t,null)}}(o,t)}),this.h.o(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(e){Ip(o,e)}),this.h.o(this.i,"ended",function(){o.m.contentComplete()}),this.h.ua(this.i,"play",function(){o.G=!0})}function Ip(e,t){t.getError(),t=(new Map).set("originalEvent",t),e.l(new H("ad-error",t)),Lp(e,null),e.l(new H("ad-cue-points-changed",(new Map).set("cuepoints",[])))}function Mp(e,t){var n=t.getAd();n?(e.j=new wp(n,e.g,e.i),t.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||e.u.supportsMultipleMediaElements||e.l(new H("ad-content-pause-requested")),t=(new Map).set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new H("ad-started",t)),e.j.isLinear()&&(e.A.setAttribute("ad-active","true"),e.u.customPlayheadTracker||e.i.pause(),e.i.muted?((t=e.j).j=e.i.volume,t.h.setVolume(0)):e.j.setVolume(e.i.volume))):Y("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function Lp(e,t){t&&t.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!e.u.supportsMultipleMediaElements&&e.l(new H("ad-content-resume-requested")),e.l(new H("ad-stopped",(new Map).set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.A.removeAttribute("ad-active"),e.u.customPlayheadTracker||e.i.ended||e.i.play())}function Rp(e,t,n,i,r,a){this.g=e,this.h=t,this.j=(this.i=t.isSkippable)?t.skipOffset||0:t.skipOffset,this.l=t.skipFor,this.C=n,this.u=i,this.m=r,this.A=a,this.D=t.overlay}function Pp(e,t,n){this.g=e,this.j=t,this.h=n,this.i=null==e.overlay}function Dp(e,t,n,i){var r=this;this.M=null,this.u=e,this.F=t,this.g=n,this.H=null,this.C=!0,this.h=this.g,this.i=i,this.S=new Set,this.I=new Set,this.G=new Map,this.L=new Map,this.j=new uh,Gp(this),this.J=new Mt,this.l=new Mt,this.K=!1,this.Z=this.A=this.D=this.m=null,this.aa=!1,this.P=-1,this.W=function(){if(!r.K&&r.m&&!r.F.Ea()){r.m=r.g.currentTime;var e=_p(r);e&&jp(r,e,1,1,Date.now())}},this.V=function(){if(!(r.K||r.m||r.F.Ea())){r.m=r.g.currentTime;var e=_p(r,!0);e||(e=_p(r)),e&&jp(r,e,1,1,Date.now())}},this.ea=function(){if(!r.K&&r.m&&!r.F.Ea()){var e=r.g.currentTime;r.D&&!r.D.pre&&!r.D.post&&e<(r.D.endTime||r.D.startTime)&&(r.D=null)}},this.R=new Wi(this.W),this.O=new Wi(function(){var e,t,n,i,a,o,s,u,l,c,d;return D(function(h){switch(h.g){case 1:if(!r.I.size||null==r.m){h.B(0);break}if((e=r.F.l)==pp||e==fp)return h.return();t=!1,n=Array.from(r.I),i=r.F.wa(),a=g(n),o=a.next();case 3:if(o.done){h.B(5);break}if((s=o.value)==r.D){h.B(4);break}if(u=s.endTime||s.startTime,!(i.start-u>=1)){(l=s.startTime-r.m)>0&&l<=10&&(!r.G.has(s)&&zp(s)&&r.G.set(s,r.j.preload(s.uri,null,s.mimeType||void 0)),Wp(r,s)),h.B(4);break}if(!r.G.has(s)){h.B(7);break}return T(h,r.G.get(s),8);case 8:(c=h.h)&&c.destroy(),r.G.delete(s);case 7:Xp(r,s),d=JSON.stringify(s),r.S.has(d)&&r.S.delete(d),r.I.delete(s),Op(r),s.overlay||(t=!0);case 4:o=a.next(),h.B(3);break;case 5:t&&Vp(r),C(h)}})}),this.configure(this.F.getConfiguration().ads)}function Op(e){e.aa&&!e.I.size&&(e.J.Fa(e.g,"playing",e.V),e.J.Fa(e.g,"timeupdate",e.V),e.J.Fa(e.g,"seeked",e.ea),e.J.Fa(e.g,"ended",e.W),-1!=e.P&&(e.g.cancelVideoFrameCallback(e.P),e.P=-1),e.R&&e.R.stop(),e.O&&e.O.stop(),e.aa=!1)}function Np(e){if(e.u&&e.M&&!e.K){var t=e.M.supportsMultipleMediaElements,n=e.g;(n.webkitPresentationMode&&"inline"!==n.webkitPresentationMode||n.webkitDisplayingFullscreen)&&(t=!1),e.C==t&&(e.C=!t,e.C?(e.h=e.g,e.H&&(e.H.parentElement&&e.u.removeChild(e.H),e.H=null)):(e.H||((t=document.createElement(e.g.tagName)).autoplay=!0,t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.display="none",t.setAttribute("playsinline",""),e.H=t),e.h=e.H))}else e.C=!0}function Up(e,t){var n;D(function(i){if(1==i.g)return Gp(e),n=[],t&&t.values.find(function(e){return"X-OVERLAY-ID"==e.key})?(n=function(e){var t=[];if(!e)return t;var n=e.values.find(function(e){return"X-ASSET-URI"==e.key});if(!n)return t;if(n=n.data,!n)return t;var i=null,r=e.values.find(function(e){return"X-OVERLAY-ID"==e.key});r&&(i=r.data),r=null==i?Math.floor(10*e.startTime)/10:e.startTime;var a=e.endTime;e.endTime&&e.endTime!=1/0&&"number"==typeof e.endTime&&(a=null==i?Math.floor(10*e.endTime)/10:e.endTime);var o=!1,s=!1,u=!1,l=e.values.find(function(e){return"CUE"==e.key});l&&(u=l.data,o=u.includes("ONCE"),s=u.includes("PRE"),u=u.includes("POST")),l=null;var c=e.values.find(function(e){return"X-ASSET-MIMETYPE"==e.key});c&&(l=c.data),c=!1;var d=e.values.find(function(e){return"X-LOOP"==e.key});d&&(c="YES"==d.data),d=1;var h=e.values.find(function(e){return"X-DEPTH"==e.key});h&&(d=parseFloat(h.data),isNaN(d)&&(d=1)),h=null;var p=e.values.find(function(e){return"X-BACKGROUND"==e.key});p&&(h=p.data),p=1920;var f=1080,g=e.values.find(function(e){return"X-VIEWPORT"==e.key});if(g){if(2!=(f=g.data.split("x")).length)return t;p=parseFloat(f[0]),f=parseFloat(f[1])}if(p={viewport:{x:p,y:f},topLeft:{x:0,y:0},size:{x:p,y:f}},f=e.values.find(function(e){return"X-OVERLAY-POSITION"==e.key})){if(2!=(f=f.data.split("x")).length)return t;p.topLeft.x=parseFloat(f[0]),p.topLeft.y=parseFloat(f[1])}if(f=e.values.find(function(e){return"X-OVERLAY-SIZE"==e.key})){if(2!=(f=f.data.split("x")).length)return t;p.size.x=parseFloat(f[0]),p.size.y=parseFloat(f[1])}if(f=null,(g=e.values.find(function(e){return"X-SQUEEZECURRENT"==e.key}))&&(f=parseFloat(g.data),isNaN(f)&&(f=1),f={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920*f,y:1080*f}},e=e.values.find(function(e){return"X-SQUEEZECURRENT-POSITION"==e.key}))){if(2!=(e=e.data.split("x")).length)return t;f.topLeft.x=parseFloat(e[0]),f.topLeft.y=parseFloat(e[1])}return t.push({id:i,groupId:null,startTime:r,endTime:a,uri:n,mimeType:l,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:o,pre:s,post:u,timelineRange:!0,loop:c,overlay:p,displayOnBackground:-1==d,currentVideo:f,background:h,clickThroughUrl:null}),t}(t),i.B(2)):T(i,function(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,f,g,m,v,y,A,b,C,x,k,I,M,L,R,P,O,N,U,B,_,j,q,F,V,G,H,z,K,W;return D(function(D){switch(D.g){case 1:if(n=[],!t)return D.return(n);if(i=t.values.find(function(e){return"X-ASSET-URI"==e.key}),r=t.values.find(function(e){return"X-ASSET-LIST"==e.key}),!i&&!r)return D.return(n);if(a=null,(o=t.values.find(function(e){return"ID"==e.key}))&&(a=o.data),s=null==a?Math.floor(10*t.startTime)/10:t.startTime,(u=t.endTime)&&t.endTime!=1/0&&"number"==typeof t.endTime&&(u=null==a?Math.floor(10*t.endTime)/10:t.endTime),l=t.values.find(function(e){return"X-RESTRICT"==e.key}),d=c=!0,l&&l.data&&(h=l.data,c=!h.includes("SKIP"),d=!h.includes("JUMP")),p=c?0:null,(f=t.values.find(function(e){return"X-ENABLE-SKIP-AFTER"==e.key}))&&(g=f.data,p=parseFloat(g),isNaN(p)&&(p=c?0:null)),m=null,(v=t.values.find(function(e){return"X-ENABLE-SKIP-FOR"==e.key}))&&(y=v.data,m=parseFloat(y),isNaN(p)&&(m=null)),A=null,(b=t.values.find(function(e){return"X-RESUME-OFFSET"==e.key}))&&(C=b.data,A=parseFloat(C),isNaN(A)&&(A=null)),x=null,(k=t.values.find(function(e){return"X-PLAYOUT-LIMIT"==e.key}))&&(I=k.data,x=parseFloat(I),isNaN(x)&&(x=null)),R=L=M=!1,(P=t.values.find(function(e){return"CUE"==e.key}))&&(O=P.data,M=O.includes("ONCE"),L=O.includes("PRE"),R=O.includes("POST")),N=!1,(U=t.values.find(function(e){return"X-TIMELINE-OCCUPIES"==e.key}))?(B=U.data,N=B.includes("RANGE")):!b&&e.F.U()&&(N=!L&&!R),i){if(!(_=i.data))return D.return(n);n.push({id:a,groupId:null,startTime:s,endTime:u,uri:_,mimeType:null,isSkippable:c,skipOffset:p,skipFor:m,canJump:d,resumeOffset:A,playoutLimit:x,once:M,pre:L,post:R,timelineRange:N,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:null}),D.B(2);break}if(!r){D.B(2);break}return(j=r.data)?(w(D,4),T(D,Hp(e,j,{type:11}),6)):D.return(n);case 6:for(q=D.h,F=Ue(q),V=JSON.parse(F),(G=V["SKIP-CONTROL"])&&("number"==typeof(H=G["ENABLE-SKIP-AFTER"])&&(p=parseFloat(H),isNaN(H)&&(p=c?0:null)),"number"==typeof(z=G["ENABLE-SKIP-FOR"])&&(m=parseFloat(z),isNaN(z)&&(m=null))),K=0;K<V.ASSETS.length;K++)(W=V.ASSETS[K]).URI&&n.push({id:a+"_shaka_asset_"+K,groupId:a,startTime:s,endTime:u,uri:W.URI,mimeType:null,isSkippable:c,skipOffset:p,skipFor:m,canJump:d,resumeOffset:A,playoutLimit:x,once:M,pre:L,post:R,timelineRange:N,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:null});S(D,2);break;case 4:E(D);case 2:return D.return(n)}})}(e,t),3);2!=i.g&&(n=i.h),n.length?Bp(e,n):Y("Unsupported HLS interstitial",t),C(i)})}function Bp(e,t){var n,i,r,a,o,s,u,l;D(function(c){switch(c.g){case 1:n=!1,i=g(t),r=i.next();case 2:if(r.done){c.B(4);break}if(!(a=r.value).uri){Y("Missing URL in interstitial",a),c.B(3);break}if(a.mimeType){c.B(5);break}return w(c,6),o=e.j.Vb(),T(c,_c(a.uri,o,e.F.getConfiguration().streaming.retryParameters),8);case 8:a.mimeType=c.h,S(c,5);break;case 6:E(c);case 5:if(s=a.id||JSON.stringify(a),e.S.has(s)){c.B(3);break}a.loop&&!a.overlay&&Y("Loop is only supported in overlay interstitials",a),a.overlay||(n=!0),e.S.add(s),e.I.add(a),u=!1,a.pre&&null==e.m?u=!0:0!=a.startTime||a.canJump?null!=e.m&&((l=a.startTime-e.m)>0&&l<=10&&(u=!0)):u=!0,u&&(!e.G.has(a)&&zp(a)&&e.G.set(a,e.j.preload(a.uri,null,a.mimeType||void 0)),Wp(e,a));case 3:r=i.next(),c.B(2);break;case 4:n&&Vp(e),function(e){if(!e.aa&&e.I.size){if(e.J.o(e.g,"playing",e.V),e.J.o(e.g,"timeupdate",e.V),e.J.o(e.g,"seeked",e.ea),e.J.o(e.g,"ended",e.W),"requestVideoFrameCallback"in e.g&&!Kp()){var t=e.g,n=function(){-1!=e.P&&(e.W(),-1!=e.P&&(e.P=t.requestVideoFrameCallback(n)))};e.P=t.requestVideoFrameCallback(n)}else e.R.xa(.025);e.O&&e.O.xa(1),e.aa=!0}}(e),C(c)}})}function _p(e,t,n){t=void 0!==t&&t,n=void 0===n?null:n;var i=0,r=null;if(e.I.size&&null!=e.m){var a=e.g.ended,o=Array.from(e.I).sort(function(e,t){return t.startTime-e.startTime}),s=o;for(s=t?o.filter(function(e){return e.pre}):a?o.filter(function(e){return e.post}):o.filter(function(e){return!e.pre&&!e.post}),s=(o=g(s)).next();!s.done;s=o.next()){s=s.value;var u=!1;if(t)u=s.pre;else if(a)u=s.post;else if(!s.pre&&!s.post){var l=e.m-Math.round(1e3*s.startTime)/1e3,c=1;e.M.allowStartInMiddleOfInterstitial&&s.endTime&&s.endTime!=1/0&&(c=s.endTime-s.startTime),(l>0||0==l&&0==e.m)&&(l<=c||!s.canJump)&&(u=!(null==n&&e.D&&!e.D.pre&&!e.D.post&&e.D.startTime>=s.startTime))}u&&(!e.D||s.startTime>=e.D.startTime)&&(i==(n||0)?r=s:r&&!s.canJump&&Math.round(1e3*s.startTime)/1e3-Math.round(1e3*r.startTime)/1e3>.001&&(r=s,i=0),i++)}}return r}function jp(t,n,i,r,a,o){o=void 0===o?0:o,t.D=n,Np(t),t.C||!t.u||t.h.parentElement||t.u.appendChild(t.h),1==r&&1==i&&(i=Array.from(t.I).filter(function(e){return n.pre?e.pre==n.pre:n.post?e.post==n.post:Math.abs(e.startTime-n.startTime)<.001}).length),n.once&&(o++,t.I.delete(n),Op(t),n.overlay||Vp(t)),n.mimeType&&(n.mimeType.startsWith("image/")||"text/html"===n.mimeType)?n.overlay?function(t,n,i,r,a){function o(){t.A&&(t.A.stop(),t.A=null),t.u.removeChild(l),Fp(t,n),t.i(new H("ad-stopped")),t.l.Sa();var e=_p(t,n.pre,r-a);e?jp(t,e,i,++r,Date.now(),a):t.K=!1}t.K=!0;var s=n.overlay,u="text/html"==n.mimeType?"iframe":"img",l=document.createElement(u);l.style.objectFit="contain",l.style.position="absolute",l.style.border="none",qp(t,n),t.i(new H("ad-started",(new Map).set("ad",new Pp(n,i,r)))),"iframe"==u?l.src=n.uri:(l.src=n.uri,l.onerror=function(e){t.i(new H("ad-error",(new Map).set("originalEvent",e))),o()});var c=s.viewport,d=s.topLeft;s=s.size,0==c.x&&0==c.y?(l.width=n.overlay.size.x,l.height=n.overlay.size.y,l.style.bottom="10%",l.style.left="0",l.style.right="0",l.style.width="100%",n.overlay.size.y||"iframe"!=u||(l.style.height="auto")):(l.style.height=s.y/c.y*100+"%",l.style.left=d.x/c.x*100+"%",l.style.top=d.y/c.y*100+"%",l.style.width=s.x/c.x*100+"%"),t.u.appendChild(l);var h=Date.now();t.A&&t.A.stop(),t.A=new Wi(function(){n.playoutLimit&&(Date.now()-h)/1e3>n.playoutLimit||n.endTime&&t.g.currentTime>n.endTime?(t.i(new H("ad-complete")),o()):t.g.currentTime<n.startTime&&(t.i(new H("ad-skipped")),o())}),n.playoutLimit&&!n.endTime?t.A.Y(n.playoutLimit):n.endTime&&t.A.xa(.025),t.l.o(t.g,"seeked",function(){var e=t.g.currentTime;(e<n.startTime||n.endTime&&e>n.endTime)&&(t.A&&t.A.stop(),t.i(new H("ad-skipped")),o())}),n.clickThroughUrl&&t.l.o(l,"click",function(){n.clickThroughUrl&&e.open(n.clickThroughUrl,"_blank")})}(t,n,i,r,o):Y("Unsupported interstitial",n):t.C&&n.overlay?Y("Unsupported interstitial",n):function(t,n,i,r,a,o){var s,u,l,c,d,h,p,f,g,m,v,y,A,b,x,k,I,M,L,R,P;D(function(O){switch(O.g){case 1:if(s=Date.now(),t.K=!0,u=!1,l=function(){if(!t.C&&!n.overlay&&null==n.resumeOffset)if(n.timelineRange&&n.endTime&&n.endTime!=1/0)t.g.currentTime!=n.endTime&&(t.g.currentTime=n.endTime);else{var e=Date.now();t.g.currentTime+=(e-a)/1e3,a=e}},c=function(e){var s,u;return D(function(c){if(1==c.g){if(l(),s=_p(t,n.pre,r-o),e&&n.groupId)for(;s&&s.groupId==n.groupId;)r++,s=_p(t,n.pre,r-o);return t.A&&(!n.groupId||s&&s.groupId!=n.groupId)&&(t.A.stop(),t.A=null),Fp(t,n),s&&!s.overlay?c.B(2):(n.post&&(t.m=null,t.D=null),t.C?T(c,t.j.detach(),4):T(c,t.j.tc(),4))}2!=c.g&&(t.C&&(null==(u=n.resumeOffset)&&(u=n.timelineRange&&n.endTime&&n.endTime!=1/0?n.endTime-(t.m||0):(Date.now()-a)/1e3),t.i(new H("ad-content-resume-requested",(new Map).set("offset",u)))),t.i(new H("ad-stopped")),t.l.Sa(),t.K=!1,t.C?Vp(t):(t.h.style.display="none",l(),t.g.ended||t.g.play())),Np(t),s&&(t.i(new H("ad-stopped")),t.l.Sa(),jp(t,s,i,++r,a,o)),C(c)})},d=function(e){return D(function(n){return u?n.return():(u=!0,t.i(new H("ad-error",(new Map).set("originalEvent",e))),T(n,c(!1),0))})},h=function(){return D(function(e){if(1==e.g)return u?e.return():(u=!0,T(e,c(!1),2));t.i(new H("ad-complete")),C(e)})},t.Z=function(){return D(function(e){return u?e.return():(u=!0,t.i(new H("ad-skipped")),T(e,c(!0),0))})},p=new Rp(t.h,n,t.Z,i,r,!t.C),t.C||(p.setMuted(t.g.muted),p.setVolume(t.g.volume)),t.i(new H("ad-started",(new Map).set("ad",p))),(f=p.canSkipNow())&&t.i(new H("ad-skip-state-changed")),t.l.ua(t.j,"error",d),t.l.o(t.h,"timeupdate",function(){if(t.h.duration){var e=p.canSkipNow();f!=e&&p.getRemainingTime()>0&&p.getDuration()>0&&t.i(new H("ad-skip-state-changed")),f=e,!t.C&&!n.overlay&&null==n.resumeOffset&&n.timelineRange&&n.endTime&&n.endTime!=1/0&&t.g.currentTime!=n.endTime&&t.F.wa().end>=n.endTime&&(t.g.currentTime=n.endTime)}}),t.l.ua(t.j,"firstquartile",function(){l(),t.i(new H("ad-first-quartile"))}),t.l.ua(t.j,"midpoint",function(){l(),t.i(new H("ad-midpoint"))}),t.l.ua(t.j,"thirdquartile",function(){l(),t.i(new H("ad-third-quartile"))}),t.l.ua(t.j,"complete",h),t.l.o(t.h,"play",function(){t.i(new H("ad-resumed"))}),t.l.o(t.h,"pause",function(){var e=t.j.getConfiguration();t.h.currentTime>=e.playRangeEnd?h():t.i(new H("ad-paused"))}),t.l.o(t.h,"volumechange",function(){t.h.muted?t.i(new H("ad-muted")):t.i(new H("ad-volume-changed"))}),n.clickThroughUrl&&(g=t.u||t.h,t.l.o(g,"click",function(){n.clickThroughUrl&&(p.isPaused()||p.pause(),e.open(n.clickThroughUrl,"_blank"))})),!t.C||1!=r){O.B(2);break}return t.i(new H("ad-content-pause-requested",(new Map).set("saveLivePosition",!0))),m=new Vr,v=function(e){return D(function(n){if(1==n.g)return"detach"!=e.state?n.B(0):Kp()?T(n,new Promise(function(e){return new Wi(e).Y(.1)}),3):n.B(3);m.resolve(),t.l.Fa(t.F,"onstatechange",v),C(n)})},t.l.o(t.F,"onstatechange",v),T(O,m,2);case 2:return qp(t,n),t.C||(t.h.style.display="",n.overlay?(t.h.loop=n.loop,y=n.overlay.viewport,A=n.overlay.topLeft,b=n.overlay.size,t.h.style.height=b.y/y.y*100+"%",t.h.style.left=A.x/y.x*100+"%",t.h.style.top=A.y/y.y*100+"%",t.h.style.width=b.x/y.x*100+"%"):(t.g.pause(),null!=n.resumeOffset&&0!=n.resumeOffset&&(t.g.currentTime+=n.resumeOffset),t.h.loop=!1,t.h.style.height="100%",t.h.style.left="0",t.h.style.top="0",t.h.style.width="100%")),w(O,4),Gp(t),n.startTime&&n.endTime&&n.endTime!=1/0&&n.startTime!=n.endTime&&((x=n.endTime-n.startTime)>0&&t.j.configure("playRangeEnd",x)),n.playoutLimit&&!t.A&&(t.A=new Wi(function(){t.Z()}).Y(n.playoutLimit),t.j.configure("playRangeEnd",n.playoutLimit)),T(O,t.j.cc(t.h),6);case 6:return k=null,t.M.allowStartInMiddleOfInterstitial&&null!=t.m&&(I=t.m-n.startTime,Math.abs(I)>.25&&(k=I)),t.G.has(n)?T(O,t.G.get(n),10):T(O,t.j.load(n.uri,k,n.mimeType||void 0),8);case 10:return M=O.h,t.G.delete(n),T(O,M?t.j.load(M):t.j.load(n.uri,k,n.mimeType||void 0),8);case 8:n.overlay&&t.g.paused?t.h.pause():t.h.play(),L=(Date.now()-s)/1e3,t.i(new H("ads-loaded",(new Map).set("loadTime",L))),t.C&&t.g.play(),n.overlay&&(n.pre||n.post||t.F.U()&&!(n.startTime>0)||(R=function(){var e=t.g.currentTime-n.startTime;Math.abs(e-t.h.currentTime)>.1&&(t.h.currentTime=e)},t.l.ua(t.h,"playing",R),t.l.o(t.g,"seeking",R)),t.l.o(t.g,"seeked",function(){var e=t.g.currentTime;(e<n.startTime||n.endTime&&e>n.endTime)&&t.Z()})),S(O,0);break;case 4:if(P=E(O),!t.K)return O.return();d(P),C(O)}})}(t,n,i,r,a,o)}function qp(e,t){if(t.displayOnBackground&&(e.g.style.zIndex="1"),null!=t.currentVideo){var n=t.currentVideo;e.g.style.transformOrigin="top left";var i=!0,r=[],a=n.topLeft.x/n.viewport.x*100;a>0&&a<=100&&(r.push("translateX("+a+"%)"),i=!1),(a=n.topLeft.y/n.viewport.y*100)>0&&a<=100&&(r.push("translateY("+a+"%)"),i=!1),(a=n.size.x/n.viewport.x)<1&&r.push("scaleX("+a+")"),n=n.size.y/n.viewport.y,a<1&&r.push("scaleY("+n+")"),r.length&&(e.g.style.transform=r.join(" ")),i&&(e.g.style.transition="transform 250ms")}e.u&&(t.clickThroughUrl?(e.u.setAttribute("ad-active","true"),e.u.style.pointerEvents=""):e.u.style.pointerEvents="none",t.background&&(e.u.style.background=t.background)),e.H&&(e.H.style.background=t.overlay?"":"rgb(0, 0, 0)")}function Fp(e,t){t&&!t.displayOnBackground||(e.g.style.zIndex=""),t&&null==t.currentVideo||(e.g.style.transformOrigin="",e.g.style.transition="",e.g.style.transform=""),e.u&&(e.u.removeAttribute("ad-active"),e.u.style.pointerEvents="",!t||t.background)&&(e.u.style.background=""),e.H&&(e.H.style.background="")}function Vp(e){for(var t=[],n=g(e.I),i=n.next(),r={};!i.done;r={Jc:void 0},i=n.next())(i=i.value).overlay||(r.Jc={start:i.startTime,end:null},i.pre?(r.Jc.start=0,r.Jc.end=null):i.post?(r.Jc.start=-1,r.Jc.end=null):i.timelineRange&&(r.Jc.end=i.endTime),t.find(function(e){return function(t){return e.Jc.start==t.start&&e.Jc.end==t.end}}(r))||t.push(r.Jc));e.i(new H("ad-cue-points-changed",(new Map).set("cuepoints",t)))}function Gp(e){e.j.configure(e.F.Yi()),e.j.configure("ads.disableHLSInterstitial",!0),e.j.configure("ads.disableDASHInterstitial",!0),e.j.configure("playRangeEnd",1/0),$r(e.F.Vb(),e.j.Vb())}function Hp(e,t,n){var i,r;return D(function(a){return 1==a.g?(i=ea([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),T(a,e.F.Vb().request(7,i,n).promise,2)):(r=a.h,a.return(r.data))})}function zp(e){return!(e=e.mimeType)||!e.startsWith("image/")&&"text/html"!==e}function Kp(){var e=Re().Oa();return"TV"==e||"CONSOLE"==e||"CAST"==e}function Wp(e,t){if(!(e.L.has(t)||e.M&&!e.M.allowPreloadOnDomElements)){var n=function(e){var t=document.createElement("link");return t.rel="preload",t.href=e,t.as="image",document.head.appendChild(t),t},i=[];if(t.background){var r=t.background.match(/url\(('|")?([^'"()]+)('|")\)?/);r&&i.push(n(r[2]))}t.mimeType&&t.mimeType.startsWith("image/")&&i.push(n(t.uri)),e.L.set(t,i)}}function Xp(e,t){if(e.L.has(t)){for(var n=e.L.get(t),i=(n=g(n)).next();!i.done;i=n.next())(i=i.value).parentNode.removeChild(i);e.L.delete(t)}}function Yp(e,t,n,i,r){this.h=e,this.j=un(this.h.skipOffset),this.g=r,this.i=t,this.l=n,this.u=i,this.m=!1}function Zp(e,t,n,i){this.D=e,this.K=t,this.h=n,this.l=null,this.P=NaN,this.i=i,this.J=!1,this.C=null,this.j=[],this.M=[],this.L=this.F=this.g=null,this.G=new Map,this.m=[],this.A=[],this.H="",this.O=!0,this.I="",this.u=new Mt}function Qp(e,t){var n,i,r,a,o,s,u,l;D(function(c){return 1==c.g?t.staticResource?(n=Jp(t),e.G.get(n)?c.return():(i={type:9},r=ea([t.staticResource],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=e.K.request(7,r,i),w(c,2),e.G.set(n,[]),T(c,a.promise,4))):c.return():2!=c.g?(o=c.h,s=Ue(o.data),u=JSON.parse(s),l=u.apps,e.G.set(n,l),S(c,0)):(E(c),e.G.delete(n),void C(c))})}function Jp(e){return[e.adId,e.adParameters,e.adSystem,e.adTitle,e.creativeAdId,e.creativeId,e.creativeSequence,e.height,e.width,e.staticResource].join("")}function $p(e){var t=e.h.currentTime;if(0!=t&&null==e.C){for(var n,i,r=g(e.j),a=r.next();!a.done;a=r.next())for(var o=g((a=a.value).ads),s=o.next();!s.done;s=o.next())if(s=s.value,i){if(s.startTimeInSeconds<t&&s.startTimeInSeconds>i.startTimeInSeconds+i.durationInSeconds){i=s,n=a;break}}else s.startTimeInSeconds<t&&(i=s,n=a);n&&i&&!e.M.includes(i.adId)&&(e.C=t,e.h.currentTime=n.startTimeInSeconds)}}function ef(e){if(e.h.duration&&(e.g||e.j.length)){var t=e.h.currentTime,n=!1;if(e.g){n=!0;var i=e.F,r=i.startTimeInSeconds+.5*i.durationInSeconds,a=i.startTimeInSeconds+.75*i.durationInSeconds;t>=i.startTimeInSeconds+.25*i.durationInSeconds&&!e.A.includes("firstQuartile")?(e.A.push("firstQuartile"),rf(e,"firstQuartile")):t>=r&&!e.A.includes("midpoint")?(e.A.push("midpoint"),rf(e,"midpoint")):t>=a&&!e.A.includes("thirdQuartile")&&(e.A.push("thirdQuartile"),rf(e,"thirdQuartile")),i=e.g.getRemainingTime(),r=e.g.getDuration(),e.g.canSkipNow()&&i>0&&r>0&&rf(e,"skipStateChanged"),r>0&&(i<=0||i>r)&&tf(e)}if(!e.g||!e.g.isLinear()){e:for(i=g(e.j),r=i.next();!r.done&&(r=r.value,!e.g||!e.g.isLinear());r=i.next())for(a=0;a<r.ads.length;a++){var o=r.ads[a],s=o.startTimeInSeconds+o.durationInSeconds;if(o.startTimeInSeconds<=t&&s>t){if(e.M.includes(o.adId)){if(e.h.ended)continue;e.h.currentTime=s;break e}tf(e),e.L=r,e.g=new Yp(o,a+1,r.ads.length,!0,e.h),e.F=o,0===a&&rf(e,"breakStart"),nf(e);break}}if(!e.g)for(r=(i=g(e.j)).next();!r.done&&(r=r.value,!e.g);r=i.next())for(a=0;a<r.nonLinearAdsList.length;a++)if((o=r.nonLinearAdsList[a]).nonLinearAdList.length){s=r.startTimeInSeconds;var u=e.G.get(Jp(o.nonLinearAdList[0]));if(s<=t&&u&&u.length){tf(e),s=e;for(var l=(u=g(u)).next();!l.done;l=u.next())if((l=l.value).data.source.length){var c=document.createElement("img");c.src=l.data.source[0].url,c.style.top=(l.placeholder.top||0)+"%",c.style.height=100-(l.placeholder.top||0)+"%",c.style.left=(l.placeholder.left||0)+"%",c.style.maxWidth=100-(l.placeholder.left||0)+"%",c.style.objectFit="contain",c.style.position="absolute",s.D.appendChild(c)}e.L=r,e.g=new Yp(o,a+1,r.ads.length,!1,e.h),e.F=o,0===a&&rf(e,"breakStart"),nf(e);break}}n&&!e.g&&(t=e.h.currentTime,e.C&&e.C>t&&(e.h.currentTime=e.C),e.C=null)}}}function tf(e){if(e.g){for(;e.D.lastChild;)e.D.removeChild(e.D.firstChild);e.J||e.M.push(e.F.adId);var t=e.g.m;rf(e,void 0!==t&&t?"skip":"complete");for(var n=(t=g(e.m)).next();!n.done;n=t.next())n=n.value,e.u.Fa(n.target,n.type,n.listener);e.m=[],e.A=[],(t=e.g.getPositionInSequence())===(n=e.g.getSequenceLength())&&rf(e,"breakEnd"),e.g=null,e.F=null,e.L=null}}function nf(e){var t=!1;e.h.paused?t=!0:(rf(e,"impression"),rf(e,"start")),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted&&rf(e,"mute")}}),e.m.push({target:e.h,type:"volumechange",listener:function(){e.h.muted||rf(e,"unmute")}}),e.m.push({target:e.h,type:"play",listener:function(){t?(rf(e,"impression"),rf(e,"start"),t=!1):rf(e,"resume")}}),e.m.push({target:e.h,type:"pause",listener:function(){rf(e,"pause")}});for(var n=g(e.m),i=n.next();!i.done;i=n.next())i=i.value,e.u.o(i.target,i.type,i.listener)}function rf(e,t){var n=e.F.trackingEvents.find(function(e){return e.eventType==t});if(n||(n=e.L.adBreakTrackingEvents.find(function(e){return e.eventType==t})),n)for(var i={type:10},r=(n=g(n.beaconUrls)).next();!r.done;r=n.next())(r=r.value)&&""!=r&&((r=ea([r],Fr())).method="POST",e.K.request(7,r,i));switch(t){case"impression":e.i(new H("ad-impression"));break;case"start":e.i(new H("ad-started",(new Map).set("ad",e.g)));break;case"mute":e.i(new H("ad-muted"));break;case"unmute":e.i(new H("ad-volume-changed"));break;case"resume":e.i(new H("ad-resumed"));break;case"pause":e.i(new H("ad-paused"));break;case"firstQuartile":e.i(new H("ad-first-quartile"));break;case"midpoint":e.i(new H("ad-midpoint"));break;case"thirdQuartile":e.i(new H("ad-third-quartile"));break;case"complete":e.i(new H("ad-complete")),e.i(new H("ad-stopped"));break;case"skip":e.i(new H("ad-skipped")),e.i(new H("ad-stopped"));break;case"breakStart":e.D.setAttribute("ad-active","true");break;case"breakEnd":e.D.removeAttribute("ad-active");break;case"skipStateChanged":e.i(new H("ad-skip-state-changed"))}}function af(e,t){this.g=e,this.i=null,this.h=t}function of(e,t,n,i){var r=this;this.A=e,this.l=t,this.j=null,this.G=NaN,this.i=i,this.H=!1,this.C=this.m=this.u=null,this.D="",this.F=[],this.h=new Mt,(e=new google.ima.dai.api.UiSettings).setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.A,e),this.i(new H("ima-stream-manager-loaded",(new Map).set("imaStreamManager",this.g))),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(e){!function(e,t){e.i(new H("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-e.G))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.H||e.h.o(e.l,"seeked",function(){var t=e.l.currentTime;if(0!=t){e.g.streamTimeForContentTime(t);var n=e.g.previousCuePointForStreamTime(t);n&&!n.played&&(e.u=t,e.l.currentTime=n.start)}})}(r,e)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){r.D.length?r.j.resolve(r.D):r.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),r.j=null}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(e){e=e.getAd(),r.m=new af(e,r.l),r.C&&(r.m.i=r.C),r.i(new H("ad-started",(new Map).set("ad",r.m))),r.A.setAttribute("ad-active","true")}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){r.A.removeAttribute("ad-active");var e=r.l.currentTime;r.u&&r.u>e&&(r.l.currentTime=r.u,r.u=null)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(e){r.C=e.getStreamData().adProgressData,r.m&&(r.m.i=r.C)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){r.i(new H("ad-first-quartile"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){r.i(new H("ad-midpoint"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){r.i(new H("ad-third-quartile"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){r.i(new H("ad-complete")),r.i(new H("ad-stopped")),r.A.removeAttribute("ad-active"),r.m=null}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){r.i(new H("ad-skipped")),r.i(new H("ad-stopped"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(e){var t=e.getStreamData();e=[];for(var n=(t=g(t.cuepoints)).next();!n.done;n=t.next())n=n.value,e.push({start:n.start,end:n.end});r.F=e,r.i(new H("ad-cue-points-changed",(new Map).set("cuepoints",e)))})}function sf(){ee.call(this),this.h=this.i=this.j=this.g=null,this.m=new Tp,this.u=navigator.language,this.l=null}function uf(e,t){if(t&&t.type)switch(t.type){case"ads-loaded":e.m.g.push(t.loadTime);break;case"ad-started":e.m.h++;var n=t.ad;n&&!n.isLinear()&&e.m.j++;break;case"ad-complete":e.m.l++;break;case"ad-skipped":e.m.m++;break;case"ad-error":e.m.i++}e.dispatchEvent(t)}function lf(e){return JSON.stringify(e,function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof H){var n={};for(i in t)(e=t[i])&&"object"==typeof e?"detail"==i&&(n[i]=e):i in Event||(n[i]=e);return n}if(t instanceof Error){var i=new Set(["name","message","stack"]);for(n in t)i.add(n);for(e=(n=g(Object.getOwnPropertyNames(t))).next();!e.done;e=n.next())i.add(e.value);for(n={},e=(i=g(i)).next();!e.done;e=i.next())n[e=e.value]=t[e];t={__type__:"Error",contents:n}}else if(t instanceof TimeRanges){for(i={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=(t=g(os(t))).next();!n.done;n=t.next())e=(n=n.value).end,i.start.push(n.start),i.end.push(e);t=i}else t=ArrayBuffer.isView(t)&&1===t.BYTES_PER_ELEMENT?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:t<0?"-Infinity":"Infinity":t;return t}})}function cf(e){return JSON.parse(e,function(e,t){if("NaN"==t)var n=NaN;else if("-Infinity"==t)n=-1/0;else if("Infinity"==t)n=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__)n=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)n=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){for(n in e=t.contents,t=Error(e.message),e)t[n]=e[n];n=t}else n=t;return n})}(r=wp.prototype).needsSkipUI=function(){return!1},r.isClientRendering=function(){return!0},r.hasCustomClick=function(){return!0},r.isUsingAnotherMediaElement=function(){return!0},r.getDuration=function(){return this.g.getDuration()},r.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},r.getRemainingTime=function(){return this.h.getRemainingTime()},r.isPaused=function(){return this.i},r.isSkippable=function(){return this.g.getSkipTimeOffset()>=0},r.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},r.canSkipNow=function(){return this.h.getAdSkippableState()},r.skip=function(){return this.h.skip()},r.pause=function(){return this.h.pause()},r.play=function(){return this.h.resume()},r.getVolume=function(){return this.h.getVolume()},r.setVolume=function(e){return this.m.volume=e,this.h.setVolume(e)},r.isMuted=function(){return 0==this.h.getVolume()},r.isLinear=function(){return this.g.isLinear()},r.resize=function(e,t){this.h.resize(e,t)},r.setMuted=function(e){(this.m.muted=e)?(this.j=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.j)},r.getSequenceLength=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getTotalAds()},r.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getAdPosition()},r.getTitle=function(){return this.g.getTitle()},r.getDescription=function(){return this.g.getDescription()},r.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},r.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},r.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},r.getVastAdId=function(){return""},r.getAdId=function(){return this.g.getAdId()},r.getCreativeAdId=function(){return this.g.getCreativeAdId()},r.getAdvertiserName=function(){return this.g.getAdvertiserName()},r.getMediaUrl=function(){return this.g.getMediaUrl()},r.getTimeOffset=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getTimeOffset()},r.getPodIndex=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getPodIndex()},r.release=function(){this.h=this.g=null},G("shaka.ads.ClientSideAd",wp),wp.prototype.release=wp.prototype.release,wp.prototype.getPodIndex=wp.prototype.getPodIndex,wp.prototype.getTimeOffset=wp.prototype.getTimeOffset,wp.prototype.getMediaUrl=wp.prototype.getMediaUrl,wp.prototype.getAdvertiserName=wp.prototype.getAdvertiserName,wp.prototype.getCreativeAdId=wp.prototype.getCreativeAdId,wp.prototype.getAdId=wp.prototype.getAdId,wp.prototype.getVastAdId=wp.prototype.getVastAdId,wp.prototype.getVastMediaWidth=wp.prototype.getVastMediaWidth,wp.prototype.getVastMediaHeight=wp.prototype.getVastMediaHeight,wp.prototype.getVastMediaBitrate=wp.prototype.getVastMediaBitrate,wp.prototype.getDescription=wp.prototype.getDescription,wp.prototype.getTitle=wp.prototype.getTitle,wp.prototype.getPositionInSequence=wp.prototype.getPositionInSequence,wp.prototype.getSequenceLength=wp.prototype.getSequenceLength,wp.prototype.setMuted=wp.prototype.setMuted,wp.prototype.resize=wp.prototype.resize,wp.prototype.isLinear=wp.prototype.isLinear,wp.prototype.isMuted=wp.prototype.isMuted,wp.prototype.setVolume=wp.prototype.setVolume,wp.prototype.getVolume=wp.prototype.getVolume,wp.prototype.play=wp.prototype.play,wp.prototype.pause=wp.prototype.pause,wp.prototype.skip=wp.prototype.skip,wp.prototype.canSkipNow=wp.prototype.canSkipNow,wp.prototype.getTimeUntilSkippable=wp.prototype.getTimeUntilSkippable,wp.prototype.isSkippable=wp.prototype.isSkippable,wp.prototype.isPaused=wp.prototype.isPaused,wp.prototype.getRemainingTime=wp.prototype.getRemainingTime,wp.prototype.getMinSuggestedDuration=wp.prototype.getMinSuggestedDuration,wp.prototype.getDuration=wp.prototype.getDuration,wp.prototype.isUsingAnotherMediaElement=wp.prototype.isUsingAnotherMediaElement,wp.prototype.hasCustomClick=wp.prototype.hasCustomClick,wp.prototype.isClientRendering=wp.prototype.isClientRendering,wp.prototype.needsSkipUI=wp.prototype.needsSkipUI,G("shaka.ads.Utils",xp),xp.ADS_LOADED="ads-loaded",xp.AD_STARTED="ad-started",xp.AD_FIRST_QUARTILE="ad-first-quartile",xp.AD_MIDPOINT="ad-midpoint",xp.AD_THIRD_QUARTILE="ad-third-quartile",xp.AD_COMPLETE="ad-complete",xp.AD_STOPPED="ad-stopped",xp.AD_SKIPPED="ad-skipped",xp.AD_VOLUME_CHANGED="ad-volume-changed",xp.AD_MUTED="ad-muted",xp.AD_PAUSED="ad-paused",xp.AD_RESUMED="ad-resumed",xp.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",xp.CUEPOINTS_CHANGED="ad-cue-points-changed",xp.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",xp.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",xp.AD_CLICKED="ad-clicked",xp.AD_PROGRESS="ad-progress",xp.AD_BUFFERING="ad-buffering",xp.AD_IMPRESSION="ad-impression",xp.AD_DURATION_CHANGED="ad-duration-changed",xp.AD_CLOSED="ad-closed",xp.AD_LOADED="ad-loaded",xp.ALL_ADS_COMPLETED="all-ads-completed",xp.AD_LINEAR_CHANGED="ad-linear-changed",xp.AD_METADATA="ad-metadata",xp.AD_RECOVERABLE_ERROR="ad-recoverable-error",xp.AD_ERROR="ad-error",xp.AD_BREAK_READY="ad-break-ready",xp.AD_INTERACTION="ad-interaction",xp.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",xp.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",xp.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",kp.prototype.configure=function(e){this.u=e},kp.prototype.stop=function(){this.g&&this.g.stop(),this.A&&ps(this.A)},kp.prototype.release=function(){this.stop(),this.C&&this.C.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.F.destroy()},(r=Rp.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!0},r.hasCustomClick=function(){return null!=this.h.clickThroughUrl},r.isUsingAnotherMediaElement=function(){return this.A},r.getDuration=function(){var e=this.g.duration;return isNaN(e)?-1:e},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){var e=this.g.duration;return isNaN(e)?-1:e-this.g.currentTime},r.isPaused=function(){return this.g.paused},r.isSkippable=function(){return this.i&&null!=this.l?this.getDuration()-this.getRemainingTime()<this.j+this.l:this.i},r.getTimeUntilSkippable=function(){if(this.isSkippable()){var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)}return Math.max(this.getRemainingTime(),0)},r.canSkipNow=function(){return this.i&&0==this.getTimeUntilSkippable()},r.skip=function(){this.canSkipNow()&&this.C()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.play()},r.getVolume=function(){return this.g.volume},r.setVolume=function(e){this.g.volume=e},r.isMuted=function(){return this.g.muted},r.isLinear=function(){return null==this.D},r.resize=function(){},r.setMuted=function(e){this.g.muted=e},r.getSequenceLength=function(){return this.u},r.getPositionInSequence=function(){return this.m},r.getTitle=function(){return""},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getVastAdId=function(){return""},r.getAdId=function(){return this.h.id||""},r.getCreativeAdId=function(){return""},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return this.h.uri},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){this.g=null},G("shaka.ads.InterstitialAd",Rp),Rp.prototype.release=Rp.prototype.release,Rp.prototype.getPodIndex=Rp.prototype.getPodIndex,Rp.prototype.getTimeOffset=Rp.prototype.getTimeOffset,Rp.prototype.getMediaUrl=Rp.prototype.getMediaUrl,Rp.prototype.getAdvertiserName=Rp.prototype.getAdvertiserName,Rp.prototype.getCreativeAdId=Rp.prototype.getCreativeAdId,Rp.prototype.getAdId=Rp.prototype.getAdId,Rp.prototype.getVastAdId=Rp.prototype.getVastAdId,Rp.prototype.getVastMediaWidth=Rp.prototype.getVastMediaWidth,Rp.prototype.getVastMediaHeight=Rp.prototype.getVastMediaHeight,Rp.prototype.getVastMediaBitrate=Rp.prototype.getVastMediaBitrate,Rp.prototype.getDescription=Rp.prototype.getDescription,Rp.prototype.getTitle=Rp.prototype.getTitle,Rp.prototype.getPositionInSequence=Rp.prototype.getPositionInSequence,Rp.prototype.getSequenceLength=Rp.prototype.getSequenceLength,Rp.prototype.setMuted=Rp.prototype.setMuted,Rp.prototype.resize=Rp.prototype.resize,Rp.prototype.isLinear=Rp.prototype.isLinear,Rp.prototype.isMuted=Rp.prototype.isMuted,Rp.prototype.setVolume=Rp.prototype.setVolume,Rp.prototype.getVolume=Rp.prototype.getVolume,Rp.prototype.play=Rp.prototype.play,Rp.prototype.pause=Rp.prototype.pause,Rp.prototype.skip=Rp.prototype.skip,Rp.prototype.canSkipNow=Rp.prototype.canSkipNow,Rp.prototype.getTimeUntilSkippable=Rp.prototype.getTimeUntilSkippable,Rp.prototype.isSkippable=Rp.prototype.isSkippable,Rp.prototype.isPaused=Rp.prototype.isPaused,Rp.prototype.getRemainingTime=Rp.prototype.getRemainingTime,Rp.prototype.getMinSuggestedDuration=Rp.prototype.getMinSuggestedDuration,Rp.prototype.getDuration=Rp.prototype.getDuration,Rp.prototype.isUsingAnotherMediaElement=Rp.prototype.isUsingAnotherMediaElement,Rp.prototype.hasCustomClick=Rp.prototype.hasCustomClick,Rp.prototype.isClientRendering=Rp.prototype.isClientRendering,Rp.prototype.needsSkipUI=Rp.prototype.needsSkipUI,(r=Pp.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!0},r.hasCustomClick=function(){return null!=this.g.clickThroughUrl},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return-1},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return-1},r.isPaused=function(){return!1},r.isSkippable=function(){return!1},r.getTimeUntilSkippable=function(){return 0},r.canSkipNow=function(){return!1},r.skip=function(){},r.pause=function(){},r.play=function(){},r.getVolume=function(){return 1},r.setVolume=function(){},r.isMuted=function(){return!1},r.isLinear=function(){return this.i},r.resize=function(){},r.setMuted=function(){},r.getSequenceLength=function(){return this.j},r.getPositionInSequence=function(){return this.h},r.getTitle=function(){return""},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getVastAdId=function(){return""},r.getAdId=function(){return this.g.id||""},r.getCreativeAdId=function(){return""},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return this.g.uri},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){},G("shaka.ads.InterstitialStaticAd",Pp),Pp.prototype.release=Pp.prototype.release,Pp.prototype.getPodIndex=Pp.prototype.getPodIndex,Pp.prototype.getTimeOffset=Pp.prototype.getTimeOffset,Pp.prototype.getMediaUrl=Pp.prototype.getMediaUrl,Pp.prototype.getAdvertiserName=Pp.prototype.getAdvertiserName,Pp.prototype.getCreativeAdId=Pp.prototype.getCreativeAdId,Pp.prototype.getAdId=Pp.prototype.getAdId,Pp.prototype.getVastAdId=Pp.prototype.getVastAdId,Pp.prototype.getVastMediaWidth=Pp.prototype.getVastMediaWidth,Pp.prototype.getVastMediaHeight=Pp.prototype.getVastMediaHeight,Pp.prototype.getVastMediaBitrate=Pp.prototype.getVastMediaBitrate,Pp.prototype.getDescription=Pp.prototype.getDescription,Pp.prototype.getTitle=Pp.prototype.getTitle,Pp.prototype.getPositionInSequence=Pp.prototype.getPositionInSequence,Pp.prototype.getSequenceLength=Pp.prototype.getSequenceLength,Pp.prototype.setMuted=Pp.prototype.setMuted,Pp.prototype.resize=Pp.prototype.resize,Pp.prototype.isLinear=Pp.prototype.isLinear,Pp.prototype.isMuted=Pp.prototype.isMuted,Pp.prototype.setVolume=Pp.prototype.setVolume,Pp.prototype.getVolume=Pp.prototype.getVolume,Pp.prototype.play=Pp.prototype.play,Pp.prototype.pause=Pp.prototype.pause,Pp.prototype.skip=Pp.prototype.skip,Pp.prototype.canSkipNow=Pp.prototype.canSkipNow,Pp.prototype.getTimeUntilSkippable=Pp.prototype.getTimeUntilSkippable,Pp.prototype.isSkippable=Pp.prototype.isSkippable,Pp.prototype.isPaused=Pp.prototype.isPaused,Pp.prototype.getRemainingTime=Pp.prototype.getRemainingTime,Pp.prototype.getMinSuggestedDuration=Pp.prototype.getMinSuggestedDuration,Pp.prototype.getDuration=Pp.prototype.getDuration,Pp.prototype.isUsingAnotherMediaElement=Pp.prototype.isUsingAnotherMediaElement,Pp.prototype.hasCustomClick=Pp.prototype.hasCustomClick,Pp.prototype.isClientRendering=Pp.prototype.isClientRendering,Pp.prototype.needsSkipUI=Pp.prototype.needsSkipUI,(r=Dp.prototype).configure=function(e){this.M=e,Np(this)},r.stop=function(){if(this.l&&this.l.Sa(),this.S.clear(),this.I.clear(),this.j.Ug(),this.G.size)for(var e=Array.from(this.G.values()),t=(e=g(e)).next();!t.done;t=e.next())(t=t.value)&&t.then(function(e){e&&e.destroy()});if(this.G.clear(),this.L.size)for(t=(e=g(e=Array.from(this.L.keys()))).next();!t.done;t=e.next())Xp(this,t.value);this.L.clear(),this.j.detach(),this.K=!1,this.D=this.m=null,this.C=!0,this.h=this.g,this.H=null,Fp(this),Op(this),this.u&&ps(this.u),this.A&&(this.A.stop(),this.A=null)},r.release=function(){this.stop(),this.J&&this.J.release(),this.l&&this.l.release(),this.R&&(this.R.stop(),this.R=null),this.O&&(this.O.stop(),this.O=null),this.j.destroy()},r.Wb=function(){return this.j},r.addAdUrlInterstitial=function(e){var t,n,i,r,a,o,s,u,l,c=this;return D(function(d){if(1==d.g)return T(d,Hp(c,e,t={type:12}),2);if(3!=d.g){if(n=d.h,!(i=fn(n,"VAST,vmap:VMAP")))throw new Ie(2,10,10007);if(r=[],"VAST"==i.tagName)return r=Sp(i,c.m),d.B(3);if("vmap:VMAP"!=i.tagName)return d.B(3);for(a=function(e){var n,i;return D(function(a){if(1==a.g)return T(a,Hp(c,e.uri,t),2);if(n=a.h,!(i=fn(n,"VAST")))throw new Ie(2,10,10007);r.push.apply(r,m(Sp(i,e.time))),C(a)})},o=[],s=g(function(e){for(var t=[],n=(e=g(An(e,"vmap:AdBreak"))).next();!n.done;n=e.next()){var i=n.value,r=i.attributes.timeOffset;r&&(n=null,n="start"==r?null:"end"==r?1/0:un(r),(i=wn(i,"vmap:AdSource"))&&(i=wn(i,"vmap:AdTagURI"))&&(i=bn(i))&&t.push({time:n,uri:i}))}return t}(i)),u=s.next();!u.done;u=s.next())l=u.value,o.push(a(l));return o.length?T(d,Promise.all(o),3):d.B(3)}Bp(c,r),C(d)})},(r=Yp.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!1},r.hasCustomClick=function(){return!1},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return this.h.durationInSeconds},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},r.isPaused=function(){return this.g.paused},r.isSkippable=function(){return"number"==typeof this.j},r.getTimeUntilSkippable=function(){if("number"!=typeof this.j)return this.getRemainingTime();var e=this.getRemainingTime()+this.j-this.getDuration();return Math.max(e,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},r.pause=function(){return this.g.pause()},r.play=function(){return this.g.play()},r.getVolume=function(){return this.g.volume},r.setVolume=function(e){this.g.volume=e},r.isMuted=function(){return this.g.muted},r.isLinear=function(){return this.u},r.resize=function(){},r.setMuted=function(e){this.g.muted=e},r.getSequenceLength=function(){return this.l?this.l:1},r.getPositionInSequence=function(){return this.i?this.i:1},r.getTitle=function(){return this.h.adTitle},r.getDescription=function(){return""},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return 0},r.getVastMediaWidth=function(){return 0},r.getVastAdId=function(){return this.h.vastAdId||""},r.getAdId=function(){return this.h.adId},r.getCreativeAdId=function(){return this.h.creativeId},r.getAdvertiserName=function(){return""},r.getMediaUrl=function(){return null},r.getTimeOffset=function(){return 0},r.getPodIndex=function(){return 0},r.release=function(){this.l=this.i=this.g=this.h=null},G("shaka.ads.MediaTailorAd",Yp),Yp.prototype.release=Yp.prototype.release,Yp.prototype.getPodIndex=Yp.prototype.getPodIndex,Yp.prototype.getTimeOffset=Yp.prototype.getTimeOffset,Yp.prototype.getMediaUrl=Yp.prototype.getMediaUrl,Yp.prototype.getAdvertiserName=Yp.prototype.getAdvertiserName,Yp.prototype.getCreativeAdId=Yp.prototype.getCreativeAdId,Yp.prototype.getAdId=Yp.prototype.getAdId,Yp.prototype.getVastAdId=Yp.prototype.getVastAdId,Yp.prototype.getVastMediaWidth=Yp.prototype.getVastMediaWidth,Yp.prototype.getVastMediaHeight=Yp.prototype.getVastMediaHeight,Yp.prototype.getVastMediaBitrate=Yp.prototype.getVastMediaBitrate,Yp.prototype.getDescription=Yp.prototype.getDescription,Yp.prototype.getTitle=Yp.prototype.getTitle,Yp.prototype.getPositionInSequence=Yp.prototype.getPositionInSequence,Yp.prototype.getSequenceLength=Yp.prototype.getSequenceLength,Yp.prototype.setMuted=Yp.prototype.setMuted,Yp.prototype.resize=Yp.prototype.resize,Yp.prototype.isLinear=Yp.prototype.isLinear,Yp.prototype.isMuted=Yp.prototype.isMuted,Yp.prototype.setVolume=Yp.prototype.setVolume,Yp.prototype.getVolume=Yp.prototype.getVolume,Yp.prototype.play=Yp.prototype.play,Yp.prototype.pause=Yp.prototype.pause,Yp.prototype.skip=Yp.prototype.skip,Yp.prototype.canSkipNow=Yp.prototype.canSkipNow,Yp.prototype.getTimeUntilSkippable=Yp.prototype.getTimeUntilSkippable,Yp.prototype.isSkippable=Yp.prototype.isSkippable,Yp.prototype.isPaused=Yp.prototype.isPaused,Yp.prototype.getRemainingTime=Yp.prototype.getRemainingTime,Yp.prototype.getMinSuggestedDuration=Yp.prototype.getMinSuggestedDuration,Yp.prototype.getDuration=Yp.prototype.getDuration,Yp.prototype.isUsingAnotherMediaElement=Yp.prototype.isUsingAnotherMediaElement,Yp.prototype.hasCustomClick=Yp.prototype.hasCustomClick,Yp.prototype.isClientRendering=Yp.prototype.isClientRendering,Yp.prototype.needsSkipUI=Yp.prototype.needsSkipUI,Zp.prototype.stop=function(){for(var e=g(this.m),t=e.next();!t.done;t=e.next())t=t.value,this.u.Fa(t.target,t.type,t.listener);tf(this),this.m=[],this.A=[],this.H="",this.O=!0,this.I="",this.C=null,this.j=[],this.M=[],this.G.clear()},Zp.prototype.release=function(){this.stop(),this.u&&this.u.release()},Zp.prototype.onManifestUpdated=function(e){this.J=e,""!=this.H&&(function(e,t,n){var i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A;D(function(b){if(1==b.g)return i={type:8},r=ea([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=e.K.request(7,r,i),w(b,2),T(b,a.promise,4);if(2!=b.g){if(o=b.h,s=[],u=Ue(o.data),(l=JSON.parse(u)).avails.length>0){if(JSON.stringify(e.j)!=JSON.stringify(l.avails)){for(e.j=l.avails,c=g(e.j),d=c.next();!d.done;d=c.next())for(h=d.value,p=g(h.nonLinearAdsList),f=p.next();!f.done;f=p.next())for(m=f.value,v=g(m.nonLinearAdList),y=v.next();!y.done;y=v.next())A=y.value,Qp(e,A);s=e.getCuePoints(),e.i(new H("ad-cue-points-changed",(new Map).set("cuepoints",s)))}}else e.j.length&&e.i(new H("ad-cue-points-changed",(new Map).set("cuepoints",s))),tf(e),e.j=[];return n&&(e.J||s.length>0)&&function(e){ef(e),e.J||($p(e),e.u.o(e.h,"seeked",function(){$p(e)}),e.u.o(e.h,"ended",function(){tf(e)})),e.u.o(e.h,"timeupdate",function(){ef(e)})}(e),S(b,0)}E(b),C(b)})}(this,this.H,this.O),this.O=!1)},Zp.prototype.getCuePoints=function(){for(var e=[],t=g(this.j),n=t.next();!n.done;n=t.next())for(var i=(n=g(n.value.ads)).next();!i.done;i=n.next())i=i.value,e.push({start:i.startTimeInSeconds,end:i.startTimeInSeconds+i.durationInSeconds});return e},(r=af.prototype).needsSkipUI=function(){return!0},r.isClientRendering=function(){return!1},r.hasCustomClick=function(){return!0},r.isUsingAnotherMediaElement=function(){return!1},r.getDuration=function(){return this.i?this.i.duration:-1},r.getMinSuggestedDuration=function(){return this.getDuration()},r.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},r.isPaused=function(){return this.h.paused},r.isSkippable=function(){return this.g.isSkippable()},r.getTimeUntilSkippable=function(){var e=this.g.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.h.currentTime+=this.getRemainingTime()},r.pause=function(){return this.h.pause()},r.play=function(){return this.h.play()},r.getVolume=function(){return this.h.volume},r.setVolume=function(e){this.h.volume=e},r.isMuted=function(){return this.h.muted},r.isLinear=function(){return!0},r.resize=function(){},r.setMuted=function(e){this.h.muted=e},r.getSequenceLength=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getTotalAds()},r.getPositionInSequence=function(){var e=this.g.getAdPodInfo();return null==e?1:e.getAdPosition()},r.getTitle=function(){return this.g.getTitle()},r.getDescription=function(){return this.g.getDescription()},r.getVastMediaBitrate=function(){return 0},r.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},r.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},r.getVastAdId=function(){return""},r.getAdId=function(){return this.g.getAdId()},r.getCreativeAdId=function(){return this.g.getCreativeAdId()},r.getAdvertiserName=function(){return this.g.getAdvertiserName()},r.getMediaUrl=function(){return null},r.getTimeOffset=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getTimeOffset()},r.getPodIndex=function(){var e=this.g.getAdPodInfo();return null==e?0:e.getPodIndex()},r.release=function(){this.h=this.i=this.g=null},G("shaka.ads.ServerSideAd",af),af.prototype.release=af.prototype.release,af.prototype.getPodIndex=af.prototype.getPodIndex,af.prototype.getTimeOffset=af.prototype.getTimeOffset,af.prototype.getMediaUrl=af.prototype.getMediaUrl,af.prototype.getAdvertiserName=af.prototype.getAdvertiserName,af.prototype.getCreativeAdId=af.prototype.getCreativeAdId,af.prototype.getAdId=af.prototype.getAdId,af.prototype.getVastAdId=af.prototype.getVastAdId,af.prototype.getVastMediaWidth=af.prototype.getVastMediaWidth,af.prototype.getVastMediaHeight=af.prototype.getVastMediaHeight,af.prototype.getVastMediaBitrate=af.prototype.getVastMediaBitrate,af.prototype.getDescription=af.prototype.getDescription,af.prototype.getTitle=af.prototype.getTitle,af.prototype.getPositionInSequence=af.prototype.getPositionInSequence,af.prototype.getSequenceLength=af.prototype.getSequenceLength,af.prototype.setMuted=af.prototype.setMuted,af.prototype.resize=af.prototype.resize,af.prototype.isLinear=af.prototype.isLinear,af.prototype.isMuted=af.prototype.isMuted,af.prototype.setVolume=af.prototype.setVolume,af.prototype.getVolume=af.prototype.getVolume,af.prototype.play=af.prototype.play,af.prototype.pause=af.prototype.pause,af.prototype.skip=af.prototype.skip,af.prototype.canSkipNow=af.prototype.canSkipNow,af.prototype.getTimeUntilSkippable=af.prototype.getTimeUntilSkippable,af.prototype.isSkippable=af.prototype.isSkippable,af.prototype.isPaused=af.prototype.isPaused,af.prototype.getRemainingTime=af.prototype.getRemainingTime,af.prototype.getMinSuggestedDuration=af.prototype.getMinSuggestedDuration,af.prototype.getDuration=af.prototype.getDuration,af.prototype.isUsingAnotherMediaElement=af.prototype.isUsingAnotherMediaElement,af.prototype.hasCustomClick=af.prototype.hasCustomClick,af.prototype.isClientRendering=af.prototype.isClientRendering,af.prototype.needsSkipUI=af.prototype.needsSkipUI,(r=of.prototype).configure=function(){},r.stop=function(){this.D="",this.u=null,this.F=[]},r.release=function(){this.stop(),this.h&&this.h.release()},r.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}},r.getCuePoints=function(){return this.F},p(sf,ee),(r=sf.prototype).setLocale=function(e){this.u=e},r.configure=function(e){this.l=e,this.g&&this.g.configure(this.l),this.j&&this.j.configure(this.l),this.h&&this.h.configure(this.l)},r.initInterstitial=function(e,t,n){var i=this;this.g&&this.g.release(),this.g=new Dp(e,t,n,function(e){return uf(i,e)}),this.g.configure(this.l)},r.initClientSide=function(t,n,i){var r=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new Ie(2,10,1e4);this.j&&this.j.release(),this.j=new kp(t,n,this.u,i,function(e){return uf(r,e)}),this.j.configure(this.l)},r.release=function(){this.g&&(this.g.release(),this.g=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.h&&(this.h.release(),this.h=null),ee.prototype.release.call(this)},r.onAssetUnload=function(){this.g&&this.g.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.h&&this.h.stop(),this.dispatchEvent(new H("ad-stopped")),this.dispatchEvent(new H("ad-content-attach-requested")),this.m=new Tp},r.requestClientSideAds=function(e){if(!this.j)throw new Ie(1,10,10001);var t=this.j;t.g&&t.g.destroy(),t.m&&t.m.contentComplete(),t.H=Date.now()/1e3,t.m.requestAds(e)},r.updateClientSideAdsRenderingSettings=function(e){if(!this.j)throw new Ie(1,10,10001);var t=this.j;t.D=e,t.g&&t.g.updateAdsRenderingSettings(t.D)},r.initMediaTailor=function(e,t,n){var i=this;this.i&&this.i.release(),this.i=new Zp(e,t,n,function(e){return uf(i,e)})},r.requestMediaTailorStream=function(e,t,n){if(!this.i)throw new Ie(1,10,10005);var i=this.i;return n=void 0===n?"":n,i.l?e=Promise.reject(new Ie(1,10,10004)):(i.l=new Vr,function(e,t,n){var i,r,a,o,s,u,l,c,d,h,p,f;D(function(g){if(1==g.g)return i={type:7},(r=ea([t],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",n&&(a=JSON.stringify(n),r.body=je(a)),o=e.K.request(7,r,i),w(g,2),T(g,o.promise,4);if(2!=g.g){if(s=g.h,u=Ue(s.data),!(l=JSON.parse(u)).manifestUrl||!l.trackingUrl)throw Error("Insufficient data from MediaTailor.");return c=new ae(t),d=new ae(l.trackingUrl),e.H=c.resolve(d).toString(),h=Date.now()/1e3,p=h-e.P,e.i(new H("ads-loaded",(new Map).set("loadTime",p))),f=new ae(l.manifestUrl),e.l.resolve(c.resolve(f).toString()),e.l=null,S(g,0)}if(E(g),!e.I.length)return e.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),e.l=null,g.return();e.l.resolve(e.I),e.l=null,C(g)})}(i,e,t),i.I=n||"",i.P=Date.now()/1e3,e=i.l),e},r.addMediaTailorTrackingUrl=function(e){if(!this.i)throw new Ie(1,10,10005);var t=this.i;t.H=e,t.i(new H("ads-loaded",(new Map).set("loadTime",0)))},r.initServerSide=function(t,n){var i=this;if(!e.google||!google.ima||!google.ima.dai)throw new Ie(2,10,10002);this.h&&this.h.release(),this.h=new of(t,n,this.u,function(e){return uf(i,e)}),this.h.configure(this.l)},r.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.h)throw new Ie(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&Y('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.16.2",(n=this.h).j?e=Promise.reject(new Ie(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.H=!0),n.j=new Vr,n.g.requestStream(e),n.D=t||"",n.G=Date.now()/1e3,e=n.j),e},r.replaceServerSideAdTagParameters=function(e){if(!this.h)throw new Ie(1,10,10003);(e.mpt||e.mpv)&&Y('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),e.mpt="Shaka Player",e.mpv="v4.16.2",this.h.g.replaceAdTagParameters(e)},r.getServerSideCuePoints=function(){return Dt("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},r.getCuePoints=function(){var e=[];return this.h&&(e=e.concat(this.h.getCuePoints())),this.i&&(e=e.concat(this.i.getCuePoints())),e},r.getStats=function(){var e=this.m;return{loadTimes:e.g,averageLoadTime:Cp(e),started:e.h,overlayAds:e.j,playedCompletely:e.l,skipped:e.m,errors:e.i}},r.onManifestUpdated=function(e){this.i&&this.i.onManifestUpdated(e)},r.onDashTimedMetadata=function(e){this.h&&"urn:google:dai:2018"==e.schemeIdUri&&this.h.g.processMetadata(e.schemeIdUri,e.eventNode?e.eventNode.attributes.messageData:null,e.startTime)},r.onHlsTimedMetadata=function(e,t){this.h&&this.h.g.processMetadata("ID3",e.data,t)},r.onCueMetadataChange=function(e){this.h&&this.h.onCueMetadataChange(e)},r.onHLSInterstitialMetadata=function(e,t,n){this.l&&this.l.disableHLSInterstitial||(this.g||this.initInterstitial(null,e,t),this.g&&Up(this.g,n))},r.onDASHInterstitialMetadata=function(e,t,n){if(!this.l||!this.l.disableDASHInterstitial){var i=n.schemeIdUri;if("urn:mpeg:dash:event:alternativeMPD:insert:2025"==i||"urn:mpeg:dash:event:alternativeMPD:replace:2025"==i){if(this.g||this.initInterstitial(null,e,t),this.g&&(e=this.g,t="urn:mpeg:dash:event:alternativeMPD:replace:2025"==n.schemeIdUri,i="urn:mpeg:dash:event:alternativeMPD:insert:2025"==n.schemeIdUri,t||i)){for(var r,a=n.startTime,o=n.endTime,s=null,u=0,l=g(n.eventNode.children),c=l.next();!c.done;c=l.next())if("AlternativeMPD"==(c=c.value).tagName){if(c=c.attributes.uri){r=c;break}}else if("InsertPresentation"==c.tagName||"ReplacePresentation"==c.tagName){var d=c.attributes.url;if(d){r=Ve(d),(l=Sn(c,"maxDuration",Pn))&&(s=l/n.timescale),(l=Sn(c,"returnOffset",Pn))&&(u=l/n.timescale),t&&u&&(o=a+u);break}}r&&Bp(e,[{id:n.id,groupId:null,startTime:a,endTime:o,uri:r,mimeType:null,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:i?u:null,playoutLimit:s,once:!1,pre:!1,post:!1,timelineRange:t&&!i,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:null}])}}else("urn:mpeg:dash:event:2012"==i||"urn:scte:dash:scte214-events"==i)&&n.eventNode&&wn(n.eventNode,"OverlayEvent")&&(this.g||this.initInterstitial(null,e,t),this.g&&function(e,t){var n=wn(t.eventNode,"OverlayEvent"),i=n.attributes.uri,r=n.attributes.mimeType,a="true"==n.attributes.loop,o=Sn(n,"z",Pn);if(i&&0!=o){var s=null,u=wn(n,"Background");if(u){var l=u.attributes.uri;s=l?"center / contain no-repeat url('"+l+"')":Tn(u)}u=1920,l=1080;var c=wn(n,"Viewport");if(c){if(null==(u=Sn(c,"x",Pn)))return;if(null==(l=Sn(c,"y",Pn)))return}var d={viewport:{x:u,y:l},topLeft:{x:0,y:0},size:{x:u,y:l}},h=wn(n,"Overlay");if(c&&h){var p=wn(h,"TopLeft"),f=wn(h,"Size");if(p&&f){if(null==(h=Sn(p,"x",Pn)))return;if(null==(p=Sn(p,"y",Pn)))return;var g=Sn(f,"x",Pn);if(null==g)return;if(null==(f=Sn(f,"y",Pn)))return;d.topLeft.x=h,d.topLeft.y=p,d.size.x=g,d.size.y=f}}if(h=null,n=wn(n,"Squeeze"),c&&n&&(f=wn(n,"TopLeft"),n=wn(n,"Size"),f&&n)){if(null==(c=Sn(f,"x",Pn)))return;if(null==(h=Sn(f,"y",Pn)))return;if(null==(f=Sn(n,"x",Pn)))return;if(null==(n=Sn(n,"y",Pn)))return;h={viewport:{x:u,y:l},topLeft:{x:c,y:h},size:{x:f,y:n}}}Bp(e,[{id:t.id,groupId:null,startTime:t.startTime,endTime:t.endTime,uri:i,mimeType:r,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:!0,loop:a,overlay:d,displayOnBackground:-1==o,currentVideo:h,background:s,clickThroughUrl:null}])}}(this.g,n))}},r.addCustomInterstitial=function(e){if(!this.g)throw new Ie(1,10,10006);Bp(this.g,[e])},r.addAdUrlInterstitial=function(e){if(!this.g)throw new Ie(1,10,10006);return this.g.addAdUrlInterstitial(e)},r.getInterstitialPlayer=function(){if(!this.g)throw new Ie(1,10,10006);return this.g.Wb()},G("shaka.ads.AdManager",sf),sf.prototype.getInterstitialPlayer=sf.prototype.getInterstitialPlayer,sf.prototype.addAdUrlInterstitial=sf.prototype.addAdUrlInterstitial,sf.prototype.addCustomInterstitial=sf.prototype.addCustomInterstitial,sf.prototype.onDASHInterstitialMetadata=sf.prototype.onDASHInterstitialMetadata,sf.prototype.onHLSInterstitialMetadata=sf.prototype.onHLSInterstitialMetadata,sf.prototype.onCueMetadataChange=sf.prototype.onCueMetadataChange,sf.prototype.onHlsTimedMetadata=sf.prototype.onHlsTimedMetadata,sf.prototype.onDashTimedMetadata=sf.prototype.onDashTimedMetadata,sf.prototype.onManifestUpdated=sf.prototype.onManifestUpdated,sf.prototype.getStats=sf.prototype.getStats,sf.prototype.getCuePoints=sf.prototype.getCuePoints,sf.prototype.getServerSideCuePoints=sf.prototype.getServerSideCuePoints,sf.prototype.replaceServerSideAdTagParameters=sf.prototype.replaceServerSideAdTagParameters,sf.prototype.requestServerSideStream=sf.prototype.requestServerSideStream,sf.prototype.initServerSide=sf.prototype.initServerSide,sf.prototype.addMediaTailorTrackingUrl=sf.prototype.addMediaTailorTrackingUrl,sf.prototype.requestMediaTailorStream=sf.prototype.requestMediaTailorStream,sf.prototype.initMediaTailor=sf.prototype.initMediaTailor,sf.prototype.updateClientSideAdsRenderingSettings=sf.prototype.updateClientSideAdsRenderingSettings,sf.prototype.requestClientSideAds=sf.prototype.requestClientSideAds,sf.prototype.onAssetUnload=sf.prototype.onAssetUnload,sf.prototype.release=sf.prototype.release,sf.prototype.initClientSide=sf.prototype.initClientSide,sf.prototype.initInterstitial=sf.prototype.initInterstitial,sf.prototype.configure=sf.prototype.configure,sf.prototype.setLocale=sf.prototype.setLocale,sf.ADS_LOADED="ads-loaded",sf.AD_STARTED="ad-started",sf.AD_FIRST_QUARTILE="ad-first-quartile",sf.AD_MIDPOINT="ad-midpoint",sf.AD_THIRD_QUARTILE="ad-third-quartile",sf.AD_COMPLETE="ad-complete",sf.AD_STOPPED="ad-stopped",sf.AD_SKIPPED="ad-skipped",sf.AD_VOLUME_CHANGED="ad-volume-changed",sf.AD_MUTED="ad-muted",sf.AD_PAUSED="ad-paused",sf.AD_RESUMED="ad-resumed",sf.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",sf.CUEPOINTS_CHANGED="ad-cue-points-changed",sf.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",sf.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",sf.AD_CLICKED="ad-clicked",sf.AD_PROGRESS="ad-progress",sf.AD_BUFFERING="ad-buffering",sf.AD_IMPRESSION="ad-impression",sf.AD_DURATION_CHANGED="ad-duration-changed",sf.AD_CLOSED="ad-closed",sf.AD_LOADED="ad-loaded",sf.ALL_ADS_COMPLETED="all-ads-completed",sf.AD_LINEAR_CHANGED="ad-linear-changed",sf.AD_METADATA="ad-metadata",sf.AD_RECOVERABLE_ERROR="ad-recoverable-error",sf.AD_ERROR="ad-error",sf.AD_BREAK_READY="ad-break-ready",sf.AD_INTERACTION="ad-interaction",sf.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",sf.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",sf.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",Ap=function(){return new sf};var df="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),hf="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),pf=["loop","playbackRate"],ff=["pause","play"],gf=(new Map).set("getAssetUri",2).set("getAudioLanguages",4).set("getAudioLanguagesAndRoles",4).set("getBufferFullness",1).set("getBufferedInfo",2).set("getExpiration",2).set("getKeyStatuses",2).set("getPlaybackRate",2).set("getTextLanguages",4).set("getTextLanguagesAndRoles",4).set("isAudioOnly",10).set("isBuffering",1).set("isInProgress",1).set("isLive",10).set("isTextTrackVisible",1).set("isVideoOnly",10).set("keySystem",10).set("seekRange",1).set("getLoadMode",10).set("getManifestType",10).set("isFullyLoaded",1).set("isEnded",1).set("getBandwidthEstimate",1),mf=(new Map).set("getConfiguration",4).set("getConfigurationForLowLatency",4).set("getStats",5).set("getAudioTracks",2).set("getChaptersTracks",2).set("getImageTracks",2).set("getVideoTracks",2).set("getTextTracks",2).set("getVariantTracks",2),vf=(new Map).set("getPlayheadTimeAsDate",1).set("getPresentationStartTimeAsDate",20).set("getSegmentAvailabilityDuration",20),yf=[["getConfiguration","configure","getConfigurationForLowLatency","configurationForLowLatency"]],Af=[["isTextTrackVisible","setTextTrackVisibility"]],bf="cancelTrickPlay configure configurationForLowLatency getChapters resetConfiguration retryStreaming selectAudioLanguage selectAudioTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel selectVideoTrack setTextTrackVisibility trickPlay updateStartTime goToLive useTrickPlayTrackIfAvailable".split(" "),Tf="addChaptersTrack addTextTrackAsync addThumbnailsTrack getAllThumbnails getChaptersAsync getThumbnails attach attachCanvas detach load unload".split(" ");function Cf(e,t,n,i,r,a,o){var s=this;this.H=e,this.K=o,this.l=new Wi(t),this.L=n,this.A=!1,this.C=i,this.G=r,this.M=a,this.i=this.m=!1,this.J="",this.u=null,this.D=function(){return Ef(s)},this.F=function(e,t){switch((e=cf(t)).type){case"event":var n=e.targetName,i=z(e.event);s.C(n,i);break;case"update":for(i in n=e.update)for(var r in e=s.g[i]||{},n[i])e[r]=n[i][r];s.A&&(s.L(),s.A=!1);break;case"asyncComplete":if(r=e.id,i=e.error,t=e.res,e=s.h.get(r),s.h.delete(r),e)if(i){for(n in r=new Ie(i.severity,i.category,i.code),i)r[n]=i[n];e.reject(r)}else e.resolve(t)}},this.g={video:{},player:{}},this.I=0,this.h=new Map,this.j=null,Df.add(this)}function wf(e,t){var n=e.M();Rf=t,t.addUpdateListener(e.D),t.addMessageListener("urn:x-cast:com.google.shaka.v2",e.F),Ef(e),If(e,{type:"init",initState:n,appData:e.u}),e.j.resolve()}function xf(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.j.reject(new Ie(2,8,n,t))}function Sf(e){var t=Rf;t.removeUpdateListener(e.D),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.F)}function Ef(e){var t=!!Rf&&"connected"==Rf.status;if(e.i&&!t){for(var n in e.G(),e.g)e.g[n]={};kf(e)}e.i=t,e.J=t?Rf.receiver.friendlyName:"",e.l.Ka()}function kf(e){if(e.h)for(var t=g(e.h.keys()),n=t.next();!n.done;n=t.next()){n=n.value;var i=e.h.get(n);e.h.delete(n),i.reject(new Ie(1,7,7e3))}}function If(e,t){t=lf(t);var n=Rf;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},Q)}catch(i){throw t=new Ie(2,8,8005,i),n=new H("error",(new Map).set("detail",t)),e.C("player",n),e.Hd(),t}}(r=Cf.prototype).destroy=function(){return Df.delete(this),kf(this),Rf&&Sf(this),this.l&&(this.l.stop(),this.l=null),this.G=this.C=null,this.i=this.m=!1,this.F=this.D=this.j=this.h=this.g=this.u=null,Promise.resolve()},r.Qa=function(){return this.i},r.Yf=function(){return this.J},r.init=function(){if(this.H.length)if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.Ka();var t=new chrome.cast.SessionRequest(this.H,[],null,this.K,null);t=new chrome.cast.ApiConfig(t,function(e){for(var t=g(Df),n=t.next();!n.done;n=t.next()){var i=e;(n=n.value).j=new Vr,n.A=!0,wf(n,i)}},function(e){for(var t=g(Df),n=t.next();!n.done;n=t.next())n=n.value,Lf="available"==e,n.l.Ka()},"origin_scoped"),chrome.cast.initialize(t,function(){},function(){}),Lf&&this.l.Y(Mf),(t=Rf)&&t.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new Vr,this.A=!0,wf(this,t)):Rf=null}else e.__onGCastApiAvailable!==Of&&(Pf=e.__onGCastApiAvailable||null,e.__onGCastApiAvailable=Of)},r.ai=function(e){this.u=e,this.i&&If(this,{type:"appData",appData:this.u})},r.cast=function(){var e=this;return D(function(t){if(!e.m)throw new Ie(1,8,8e3);if(!Lf)throw new Ie(1,8,8001);if(e.i)throw new Ie(1,8,8002);return e.j=new Vr,chrome.cast.requestSession(function(t){return wf(e,t)},function(t){return xf(e,t)}),T(t,e.j,0)})},r.Hd=function(){if(this.i){if(kf(this),Rf){Sf(this);try{Rf.stop(function(){},function(){})}catch(e){}Rf=null}Ef(this)}},r.get=function(e,t){var n=this;if("video"==e){if(ff.includes(t))return function(){return n.yj.apply(n,[e,t].concat(m(O.apply(0,arguments))))}}else if("player"==e){if(vf.has(t)&&!this.get("player","isLive")())return function(){};if(bf.includes(t))return function(){return n.yj.apply(n,[e,t].concat(m(O.apply(0,arguments))))};if(Tf.includes(t))return function(){return n.fm.apply(n,[e,t].concat(m(O.apply(0,arguments))))};if(gf.has(t)||mf.has(t))return function(){return n.g[e][t]}}return this.g[e][t]},r.set=function(e,t,n){this.g[e][t]=n,If(this,{type:"set",targetName:e,property:t,value:n})},r.yj=function(e,t){If(this,{type:"call",targetName:e,methodName:t,args:O.apply(2,arguments)})},r.fm=function(e,t){var n=O.apply(2,arguments),i=new Vr,r=this.I.toString();this.I++,this.h.set(r,i);try{If(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:r})}catch(e){i.reject(e)}return i};var Mf=.02,Lf=!1,Rf=null,Pf=null,Df=new Set;function Of(t){if(Pf?e.__onGCastApiAvailable=Pf:delete e.__onGCastApiAvailable,Pf=null,t)for(var n=g(Df),i=n.next();!i.done;i=n.next())i.value.init();"function"==typeof e.__onGCastApiAvailable&&e.__onGCastApiAvailable(t)}function Nf(t,n,i,r){r=void 0!==r&&r,ee.call(this);var a=this;this.i=t,this.h=n,this.l=this.u=this.m=this.A=this.j=null,this.I=i,this.H=r,this.F=[],this.D=[],this.C=[],this.G=new Map,this.g=null,e.chrome?(this.g=new Cf(i,function(){return _f(a)},function(){return jf(a)},function(e,t){return Gf(a,e,t)},function(){return qf(a)},function(){return Bf(a)},r),function(e){e.g.init(),e.l=new Mt;for(var t=g(df),n=t.next();!n.done;n=t.next())e.l.o(e.i,n.value,function(t){e.g.Qa()||(t=z(t),e.m.dispatchEvent(t))});for(var i in K)e.l.o(e.h,K[i],function(t){e.g.Qa()||e.u.dispatchEvent(t)});for(var r in e.j={},t={},e.i)(t={xe:t.xe}).xe=r,Object.defineProperty(e.j,t.xe,{configurable:!1,enumerable:!0,get:function(t){return function(){return Ff(e,t.xe)}}(t),set:function(t){return function(n){var i=t.xe;e.g.Qa()?e.g.set("video",i,n):e.i[i]=n}}(t)});e.A={},Uf(e,function(t){Object.defineProperty(e.A,t,{configurable:!1,enumerable:!0,get:function(){return Vf(e,t)}})}),function(e){var t=new Map;Uf(e,function(n,i){t.has(i)?(i=t.get(i),n.length<i.length?e.G.set(n,i):e.G.set(i,n)):t.set(i,n)})}(e),e.m=new ee,e.m.Ye=e.j,e.u=new ee,e.u.Ye=e.A,e.l.o(e.h,"unloading",function(){e.g&&e.g.Qa()||Hf(e)})}(this)):(this.j=this.i,this.A=this.h)}function Uf(e,t){function n(e){return"constructor"!=e&&"function"==typeof r[e]&&!a.has(e)}var i,r=e.h,a=new Set;for(i in r)n(i)&&(a.add(i),t(i,r[i]));for(e=Object.getPrototypeOf(r),i=Object.getPrototypeOf({});e&&e!=i;){for(var o=g(Object.getOwnPropertyNames(e)),s=o.next();!s.done;s=o.next())n(s=s.value)&&(a.add(s),t(s,r[s]));e=Object.getPrototypeOf(e)}}function Bf(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.hd(),startTime:null,addThumbnailsTrackCalls:e.F,addTextTrackAsyncCalls:e.D,addChaptersTrackCalls:e.C};e.i.pause();for(var n=g(pf),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.i[i];for(e.i.ended||(t.startTime=e.i.currentTime),i=(n=g(yf)).next();!i.done;i=n.next()){var r=i.value;i=r[1],r=e.h[r[0]](),t.player[i]=r}for(i=(n=g(Af)).next();!i.done;i=n.next())i=(r=i.value)[1],r=e.h[r[0]](),t.playerAfterLoad[i]=r;return t}function _f(e){var t=new H("caststatuschanged");e.dispatchEvent(t)}function jf(e){var t=new H(e.j.paused?"pause":"play");e.m.dispatchEvent(t)}function qf(e){for(var t=g(yf),n=t.next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.g.get("player",i[0])(),e.h[n](i)}var r=e.F,a=e.D,o=e.C;Hf(e);var s=e.g.get("player","getAssetUri")();i=e.g.get("video","ended"),t=Promise.resolve();var u,l=e.i.autoplay;n=null,i||(n=e.g.get("video","currentTime")),(i=e.g.get("player","getTextTracks")())&&i.length&&(u=i.find(function(e){return e.active}));var c=e.g.get("player","isTextTrackVisible")();s&&(e.i.autoplay=!1,t=e.h.load(s,n));var d={};for(i=(n=g(pf)).next();!i.done;i=n.next())i=i.value,d[i]=e.g.get("video",i);t.then(function(){if(e.i){for(var t=g(r),n=t.next();!n.done;n=t.next()){var i;n=n.value,(i=e.Wb()).gf.apply(i,m(n))}for(i=(t=g(a)).next();!i.done;i=t.next()){var h;i=i.value,(h=e.Wb()).ge.apply(h,m(i))}for(t=(h=g(o)).next();!t.done;t=h.next()){var p;t=t.value,(p=e.Wb()).ef.apply(p,m(t))}for(h=(p=g(pf)).next();!h.done;h=p.next())h=h.value,e.i[h]=d[h];for(h=(p=g(Af)).next();!h.done;h=p.next())h=(t=h.value)[1],t=e.g.get("player",t[0])(),e.h[h](t);e.h.Zd(c),u&&e.h.$h(u.language,u.roles,u.forced),e.i.autoplay=l,s&&e.i.play()}},function(t){t=new H("error",t=(new Map).set("detail",t)),e.h.dispatchEvent(t)})}function Ff(e,t){if("addEventListener"==t)return function(t,n,i){return e.m.addEventListener(t,n,i)};if("removeEventListener"==t)return function(t,n,i){return e.m.removeEventListener(t,n,i)};if(e.g.Qa()&&0==Object.keys(e.g.g.video).length){var n=e.i[t];if("function"!=typeof n)return n}return e.g.Qa()?e.g.get("video",t):("function"==typeof(t=e.i[t])&&(t=t.bind(e.i)),t)}function Vf(e,t,n){if(n=void 0!==n&&n,e.G.has(t)&&(t=e.G.get(t)),"addEventListener"==t)return function(t,n,i){return e.u.addEventListener(t,n,i)};if("removeEventListener"==t)return function(t,n,i){return e.u.removeEventListener(t,n,i)};if("getMediaElement"==t)return function(){return e.j};if("getSharedConfiguration"==t)return e.g.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.h.Vb()};if("getDrmEngine"==t)return function(){return e.h.F};if("getAdManager"==t)return function(){return e.h.uf()};if("getQueueManager"==t)return function(){return e.h.wf()};if("setVideoContainer"==t)return function(t){return e.h.ii(t)};if(!n){if("addThumbnailsTrack"==t)return function(){var n=O.apply(0,arguments);return e.F.push(n),Vf(e,t,!0).apply(null,m(n))};if("addTextTrackAsync"==t)return function(){var n=O.apply(0,arguments);return e.D.push(n),Vf(e,t,!0).apply(null,m(n))};if("addChaptersTrack"==t)return function(){var n=O.apply(0,arguments);return e.C.push(n),Vf(e,t,!0).apply(null,m(n))}}if(e.g.Qa()){if("getManifest"==t||"drmInfo"==t)return function(){return Y(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return Y(t+"() does not work while casting!"),Promise.resolve()};if("getChapters"==t)return function(){return Y(t+"() does not work while casting!"),[]}}return e.g.Qa()&&0==Object.keys(e.g.g.video).length&&(gf.has(t)||mf.has(t))||!e.g.Qa()?e.h[t].bind(e.h):e.g.get("player",t)}function Gf(e,t,n){e.g.Qa()&&("video"==t?e.m.dispatchEvent(n):"player"==t&&("unloading"==n.type&&Hf(e),e.u.dispatchEvent(n)))}function Hf(e){e.F=[],e.D=[],e.C=[]}function zf(e,t,n,i){ee.call(this);var r=this;this.h=e,this.g=t,this.j=new Mt,this.I={video:e,player:t},this.G=n||function(){},this.J=i||function(e){return e},this.i=null,this.H=!1,this.u=!0,this.m=0,this.D=!1,this.C=!0,this.A=this.l=null,this.F=new Wi(function(){Yf(r)}),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return Kf(e)},t.onSenderDisconnected=function(){return Kf(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&$f(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.l),$f(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.A=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.A.onMessage=function(t){return function(e,t){var n=cf(t.data);switch(n.type){case"PLAY":e.h.play(),eg(e);break;case"PAUSE":e.h.pause(),eg(e);break;case"SEEK":t=n.currentTime;var i=n.resumeState;null!=t&&(e.h.currentTime=Number(t)),i&&"PLAYBACK_START"==i?(e.h.play(),eg(e)):i&&"PLAYBACK_PAUSE"==i&&(e.h.pause(),eg(e));break;case"STOP":e.g.tc().then(function(){e.g&&eg(e)});break;case"GET_STATUS":Qf(e,Number(n.requestId));break;case"VOLUME":t=(i=n.volume).level,i=i.muted;var r=e.h.volume,a=e.h.muted;null!=t&&(e.h.volume=Number(t)),null!=i&&(e.h.muted=i),r==e.h.volume&&a==e.h.muted||eg(e);break;case"LOAD":e.m=0,e.D=!1,e.C=!1,t=n.media,i=n.currentTime,r=e.J(t.contentId),a=n.autoplay||!0,e.G(t.customData),a&&(e.h.autoplay=!0),e.g.load(r,i).then(function(){e.g&&Qf(e)}).catch(function(t){var i="LOAD_FAILED";7==t.category&&7e3==t.code&&(i="LOAD_CANCELLED"),$f(e,{requestId:Number(n.requestId),type:i},e.A)});break;default:$f(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.A)}}(e,t)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(t){return function(e,t){var n=cf(t.data);switch(n.type){case"init":e.m=0,e.D=!1,e.C=!0,function(e,t,n){var i,r,a,o,s,u,l,c,d,h,p,f,v,y,A,b,x,k,I;D(function(M){switch(M.g){case 1:for(i in t.player)r=t.player[i],e.g[i](r);return e.G(n),a=e.h.autoplay,t.manifest?(e.h.autoplay=!1,w(M,5),T(M,e.g.load(t.manifest,t.startTime),7)):T(M,Promise.resolve(),3);case 7:if(t.addThumbnailsTrackCalls)for(o=g(t.addThumbnailsTrackCalls),s=o.next();!s.done;s=o.next())u=s.value,e.g.gf.apply(e.g,m(u));if(t.addTextTrackAsyncCalls)for(l=g(t.addTextTrackAsyncCalls),c=l.next();!c.done;c=l.next())d=c.value,e.g.ge.apply(e.g,m(d));if(t.addChaptersTrackCalls)for(h=g(t.addChaptersTrackCalls),p=h.next();!p.done;p=h.next())f=p.value,e.g.ef.apply(e.g,m(f));S(M,3);break;case 5:return v=E(M),y=(new Map).set("detail",v),A=new H("error",y),e.g&&e.g.dispatchEvent(A),M.return();case 3:if(!e.g)return M.return();for(b in t.video)x=t.video[b],e.h[b]=x;for(k in t.playerAfterLoad)I=t.playerAfterLoad[k],e.g[k](I);e.h.autoplay=a,t.manifest&&(e.h.play(),eg(e)),C(M)}})}(e,n.initState,n.appData),Yf(e);break;case"appData":e.G(n.appData);break;case"set":var i=n.targetName,r=n.property;if(n=n.value,"video"==i){if(t=cast.receiver.CastReceiverManager.getInstance(),"volume"==r){t.setSystemVolumeLevel(n);break}if("muted"==r){t.setSystemVolumeMuted(n);break}}e.I[i][r]=n;break;case"call":(i=e.I[n.targetName])[n.methodName].apply(i,n.args);break;case"asyncCall":i=n.targetName,r=n.methodName,"player"==i&&"load"==r&&(e.m=0,e.D=!1);var a=n.id,o=t.senderId;n=(t=e.I[i])[r].apply(t,n.args),"player"==i&&"load"==r&&(n=n.then(function(){e.C=!0})),n.then(function(t){return Jf(e,o,a,null,t)},function(t){return Jf(e,o,a,t,null)})}}(e,t)},t.start();for(var n=(t=g(df)).next();!n.done;n=t.next())e.j.o(e.h,n.value,function(t){return Xf(e,"video",t)});for(var i in K)e.j.o(e.g,K[i],function(t){return Xf(e,"player",t)});e.j.o(e.h,"loadeddata",function(){e.D=!0}),e.j.o(e.g,"loading",function(){e.u=!1,Wf(e)}),e.j.o(e.h,"playing",function(){e.u=!1,Wf(e)}),e.j.o(e.h,"pause",function(){Wf(e)}),e.j.o(e.g,"unloading",function(){e.u=!0,Wf(e)}),e.j.o(e.h,"ended",function(){new Wi(function(){e.h&&e.h.ended&&(e.u=!0,Wf(e))}).Y(ng)})}(this)}function Kf(e){e.m=0,e.C=!0,e.H=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Wf(e)}function Wf(e){var t;D(function(n){return 1==n.g?T(n,Promise.resolve(),2):e.g?(t=new H("caststatuschanged"),e.dispatchEvent(t),Zf(e)||eg(e),void C(n)):n.return()})}function Xf(e,t,n){e.g&&(Yf(e),$f(e,{type:"event",targetName:t,event:n},e.l))}function Yf(e){e.F.Y(tg);for(var t={video:{},player:{}},n=g(hf),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.h[i];e.g.U()&&vf.forEach(function(n,i){e.m%n==0&&(t.player[i]=e.g[i]())}),gf.forEach(function(n,i){e.m%n==0&&(t.player[i]=e.g[i]())}),(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),$f(e,{type:"update",update:t},e.l),mf.forEach(function(t,n){e.m%t==0&&((t={player:{}}).player[n]=e.g[n](),$f(e,{type:"update",update:t},e.l))}),e.D&&(e.m+=1),Zf(e)}function Zf(e){return!(!e.C||!e.h.duration&&!e.g.U())&&(Qf(e),e.C=!1,!0)}function Qf(e,t){var n={contentId:e.g.hd(),streamType:e.g.U()?"LIVE":"BUFFERED",contentType:""};e.g.U()||(n.duration=e.h.duration),e.i&&(n.metadata=e.i),eg(e,void 0===t?0:t,n)}function Jf(e,t,n,i,r){e.g&&$f(e,{type:"asyncComplete",id:n,error:i,res:r},e.l,t)}function $f(e,t,n,i){e.H&&(e=lf(t),i?n.getCastChannel(i).send(e):n.broadcast(e))}function eg(e,t,n){n=void 0===n?null:n;var i={mediaSessionId:0,playbackRate:e.h.playbackRate,playerState:e.u?ig:e.g.Df()?ag:e.h.paused?og:rg,currentTime:e.h.currentTime,supportedMediaCommands:63,volume:{level:e.h.volume,muted:e.h.muted}};n&&(i.media=n),$f(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[i]},e.A)}p(Nf,ee),(r=Nf.prototype).destroy=function(e){return this.g&&void 0!==e&&e&&this.g.Hd(),this.l&&(this.l.release(),this.l=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.A=this.j=this.i=null,ee.prototype.release.call(this),Promise.all(e)},r.Uc=function(){return this.j},r.Wb=function(){return this.A},r.Kg=function(){return!!this.g&&(this.g.m&&Lf)},r.Qa=function(){return!!this.g&&this.g.Qa()},r.Yf=function(){return this.g?this.g.Yf():""},r.cast=function(){var e=this;return D(function(t){return 1==t.g?e.g?T(t,e.g.cast(),2):t.return():e.h?T(t,e.h.tc(),0):t.return()})},r.ai=function(e){this.g&&this.g.ai(e)},r.Vj=function(){var e;this.g&&((e=this.g).i&&chrome.cast.requestSession(function(t){return wf(e,t)},function(t){return xf(e,t)}))},r.Hd=function(){this.g&&this.g.Hd()},r.Li=function(e,t){t=void 0!==t&&t;var n=this;return D(function(i){if(1==i.g)return e==n.I&&t==n.H?i.return():(n.I=e,n.H=t,n.g?(n.g.Hd(),T(i,n.g.destroy(),2)):i.return());n.g=null,n.g=new Cf(e,function(){return _f(n)},function(){return jf(n)},function(e,t){return Gf(n,e,t)},function(){return qf(n)},function(){return Bf(n)},t),n.g.init(),C(i)})},G("shaka.cast.CastProxy",Nf),Nf.prototype.changeReceiverId=Nf.prototype.Li,Nf.prototype.forceDisconnect=Nf.prototype.Hd,Nf.prototype.suggestDisconnect=Nf.prototype.Vj,Nf.prototype.setAppData=Nf.prototype.ai,Nf.prototype.cast=Nf.prototype.cast,Nf.prototype.receiverName=Nf.prototype.Yf,Nf.prototype.isCasting=Nf.prototype.Qa,Nf.prototype.canCast=Nf.prototype.Kg,Nf.prototype.getPlayer=Nf.prototype.Wb,Nf.prototype.getVideo=Nf.prototype.Uc,Nf.prototype.destroy=Nf.prototype.destroy,p(zf,ee),(r=zf.prototype).isConnected=function(){return this.H},r.El=function(){return this.u},r.sm=function(e){this.i=e},r.rk=function(){this.i=null},r.tm=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},r.rm=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},r.qm=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},r.destroy=function(){var e,t=this;return D(function(n){if(1==n.g)return t.j&&(t.j.release(),t.j=null),e=[],t.g&&(e.push(t.g.destroy()),t.g=null),t.F&&(t.F.stop(),t.F=null),t.h=null,t.I=null,t.G=null,t.H=!1,t.u=!0,t.l=null,t.A=null,ee.prototype.release.call(t),T(n,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),C(n)})},G("shaka.cast.CastReceiver",zf),zf.prototype.destroy=zf.prototype.destroy,zf.prototype.setContentArtist=zf.prototype.qm,zf.prototype.setContentImage=zf.prototype.rm,zf.prototype.setContentTitle=zf.prototype.tm,zf.prototype.clearContentMetadata=zf.prototype.rk,zf.prototype.setContentMetadata=zf.prototype.sm,zf.prototype.isIdle=zf.prototype.El,zf.prototype.isConnected=zf.prototype.isConnected;var tg=.5,ng=5,ig="IDLE",rg="PLAYING",ag="BUFFERING",og="PAUSED";function sg(e,t,n,i,r){if(i>=r)return null;for(var a=-1,o=-1,s=0;s<n.length;s++)if(n[s].some(function(e){return null!=e&&""!=e.g.trim()})){a=s;break}for(s=n.length-1;s>=0;s--)if(n[s].some(function(e){return null!=e&&""!=e.g.trim()})){o=s;break}if(-1===a||-1===o)return null;for(var u=s=!1,l="white",c="black",d=ug(i,r,s,u,l,c);a<=o;a++){for(var h=n[a],p=-1,f=-1,g=0;g<h.length;g++)if(null!=h[g]&&""!==h[g].g.trim()){p=g;break}for(g=h.length-1;g>=0;g--)if(null!=h[g]&&""!==h[g].g.trim()){f=g;break}if(-1===p||-1===f)h=lg(i,r),e.nestedCues.push(h);else{for(;p<=f;p++)if(g=h[p]){var m=g.l,v=g.i,y=g.j,A=g.h;m==s&&v==u&&y==l&&A==c||(d.payload&&e.nestedCues.push(d),d=ug(i,r,m,v,y,A),s=m,u=v,l=y,c=A),d.payload+=g.g}else d.payload+=" ";d.payload&&e.nestedCues.push(d),a!==o&&(d=lg(i,r),e.nestedCues.push(d)),d=ug(i,r,s,u,l,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function ug(e,t,n,i,r,a){return e=new Kn(e,t,""),n&&e.textDecoration.push(mi),i&&(e.fontStyle=fi),e.color=r,e.backgroundColor=a,e}function lg(e,t){return(e=new Kn(e,t,"")).lineBreak=!0,e}function cg(e,t,n,i,r){this.g=e,this.l=t,this.i=n,this.h=i,this.j=r}function dg(e,t){this.i=[],this.g=1,this.h=0,this.F=e,this.D=t,this.j=this.m=!1,this.l="white",this.u="black",this.A=this.C=null,pg(this)}function hg(e,t,n){var i="CC"+(1+(e.F<<1|e.D)),r=new Kn(t,n,"");r.lineInterpretation=1;var a=Tg.get(e.g);return a&&(r.line=a),null!=e.A&&null!=e.C&&(r.position=10+Math.min(70,10*e.A)+2.5*e.C),(t=sg(r,i,e.i,t,n))&&e.g+t.cue.nestedCues.length-3>15&&(a=Tg.get(e.g+3-t.cue.nestedCues.length))&&(r.line=a),t}function pg(e){mg(e,0,15),e.g=1}function fg(e,t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=vg.has(n)?vg.get(n):String.fromCharCode(n);break;case 1:i=yg.get(n);break;case 2:e.i[e.g].pop(),i=Ag.get(n);break;case 3:e.i[e.g].pop(),i=bg.get(n)}i&&e.i[e.g].push(new cg(i,e.m,e.j,e.u,e.l))}}function gg(e,t,n,i){if(!(n<0||t<0))if(t>=n)for(--i;i>=0;i--)e.i[t+i]=e.i[n+i].map(function(e){return e});else for(var r=0;r<i;r++)e.i[t+r]=e.i[n+r].map(function(e){return e})}function mg(e,t,n){for(var i=0;i<=n;i++)e.i[t+i]=[]}var vg=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),yg=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57," "],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),Ag=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),bg=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),Tg=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function Cg(e,t){this.h=0,this.u=new dg(e,t),this.i=new dg(e,t),this.g=this.j=new dg(e,t),this.l=0,this.m=null}function wg(e,t,n){e.g=e.i;var i=e.g,r=null;return 3!==e.h&&4!==e.h&&(r=hg(i,e.l,n),(n=e.i).g=n.h>0?n.h:0,mg(n,0,15),(n=e.j).g=n.h>0?n.h:0,mg(n,0,15),i.g=15),e.h=3,i.h=t,r}function xg(e){e.h=1,e.g=e.j,e.g.h=0}function Sg(e){Z("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.u,e.h=4}var Eg="black green blue cyan red yellow magenta black".split(" "),kg="white green blue cyan red yellow magenta white_italics".split(" ");function Ig(e,t){this.J=t,this.M=e,this.K=this.l=!1,this.m=this.u=this.H=this.L=this.I=0,this.G=2,this.i=[],this.g=this.h=this.j=0,this.F=this.C=!1,this.D="white",this.A="black",Mg(this)}function Mg(e){e.i=[];for(var t=0;t<16;t++)e.i.push(Lg())}function Lg(){for(var e=[],t=0;t<42;t++)e.push(null);return e}function Rg(e,t){Pg(e)&&(e.i[e.h][e.g]=new cg(t,e.F,e.C,e.A,e.D),e.g++)}function Pg(e){var t=e.g<e.m&&e.g>=0;return e.h<e.u&&e.h>=0&&t}function Dg(e,t,n){var i=new Kn(e.j,t,"");i.textAlign=0===e.G?"left":1===e.G?"right":ei;var r=i.region;switch(e.J&&(r.id+="svc"+e.J),r.id+="win"+e.M,r.height=e.u,r.width=e.m,r.heightUnits=2,r.widthUnits=2,r.viewportAnchorX=e.I,r.viewportAnchorY=e.L,r.viewportAnchorUnits=e.K?en:2,e.H){case 0:r.regionAnchorX=0,r.regionAnchorY=0;break;case 1:r.regionAnchorX=50,r.regionAnchorY=0;break;case 2:r.regionAnchorX=100,r.regionAnchorY=0;break;case 3:r.regionAnchorX=0,r.regionAnchorY=50;break;case 4:r.regionAnchorX=50,r.regionAnchorY=50;break;case 5:r.regionAnchorX=100,r.regionAnchorY=50;break;case 6:r.regionAnchorX=0,r.regionAnchorY=100;break;case 7:r.regionAnchorX=50,r.regionAnchorY=100;break;case 8:r.regionAnchorX=100,r.regionAnchorY=100}return(n=sg(i,"svc"+n,e.i,e.j,t))&&(e.j=t),n}function Og(){this.i=[],this.h=null,this.g=0}function Ng(e,t){3===t.type?(e.g=2*(63&t.value)-1,e.h=[]):e.h&&(e.g>0&&(e.h.push(t),e.g--),0===e.g&&(e.i.push(new Ug(e.h)),e.h=null,e.g=0))}function Ug(e){this.g=0,this.h=e}function Bg(e){if(!e.Pa())throw new Ie(2,2,3e3);return e.h[e.g++]}function _g(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function jg(e,t,n,i){if(!e.g)return[];if(24==n)return n=Bg(t).value,i=Bg(t).value,n=[n,i].map(function(e){return("0"+(255&e).toString(16)).slice(-2)}).join(""),Rg(e.g,String.fromCharCode(parseInt(n,16))),[];t=e.g;var r=null;switch(n){case 8:!Pg(t)||t.g<=0&&t.h<=0||(t.g<=0?(t.g=t.m-1,t.h--):t.g--,t.i[t.h][t.g]=null);break;case 13:t.isVisible()&&(r=Dg(t,i,e.i)),t.h+1>=t.u?function(e){for(var t=0,n=1;n<16;n++,t++)e.i[t]=e.i[n];for(n=0;n<1;n++,t++)e.i[t]=Lg()}(t):t.h++,t.g=0;break;case 14:t.isVisible()&&(r=Dg(t,i,e.i)),t.i[t.h]=Lg(),t.g=0;break;case 12:t.isVisible()&&(r=Dg(t,i,e.i)),Mg(t),t.h=0,t.g=0}return r?[r]:[]}function qg(e,t,n,i){if(n>=128&&n<=135)i=7&n,e.h[i]&&(e.g=e.h[i]);else{if(136===n){n=Bg(t).value,t=[];for(var r=(n=g(Fg(e,n))).next();!r.done;r=n.next()){if((r=e.h[r.value]).isVisible()){var a=Dg(r,i,e.i);a&&t.push(a)}Mg(r)}return t}if(137===n)for(n=(t=g(Fg(e,t=Bg(t).value))).next();!n.done;n=t.next())(n=e.h[n.value]).isVisible()||(n.j=i),n.display();else{if(138===n){for(n=Bg(t).value,t=null,r=(n=g(Fg(e,n))).next();!r.done;r=n.next())(r=e.h[r.value]).isVisible()&&(t=Dg(r,i,e.i)),r.l=!1;return t?[t]:[]}if(139===n){for(n=Bg(t).value,t=null,r=(n=g(Fg(e,n))).next();!r.done;r=n.next())(r=e.h[r.value]).isVisible()?t=Dg(r,i,e.i):r.j=i,r.l=!r.l;return t?[t]:[]}if(140===n)return Vg(e,t=Bg(t).value,i);if(143===n)return i=Vg(e,255,i),Gg(e),i;if(144===n)t.skip(1),i=Bg(t).value,e.g&&(e.g.C=(128&i)>0,e.g.F=(64&i)>0);else if(145===n)i=Bg(t).value,n=Bg(t).value,t.skip(1),e.g&&(t=Hg((48&n)>>4,(12&n)>>2,3&n),e.g.D=Hg((48&i)>>4,(12&i)>>2,3&i),e.g.A=t);else if(146===n)i=Bg(t).value,t=Bg(t).value,e.g&&((e=e.g).h=15&i,e.g=63&t);else if(151===n)t.skip(1),t.skip(1),i=Bg(t).value,t.skip(1),e.g&&(e.g.G=3&i);else if(n>=152&&n<=159){n=(15&n)-8,(r=null!==e.h[n])||((a=new Ig(n,e.i)).j=i,e.h[n]=a),i=Bg(t).value,a=Bg(t).value;var o=Bg(t).value,s=Bg(t).value,u=Bg(t).value;t=Bg(t).value,r&&!(7&t)||((t=e.h[n]).h=0,t.g=0,t.F=!1,t.C=!1,t.D="white",t.A="black"),(t=e.h[n]).l=(32&i)>0,t.L=127&a,t.I=o,t.H=(240&s)>>4,t.K=(128&a)>0,t.u=1+(15&s),t.m=1+(63&u),e.g=e.h[n]}}}return[]}function Fg(e,t){for(var n=[],i=0;i<8;i++)!(1&~t)&&e.h[i]&&n.push(i),t>>=1;return n}function Vg(e,t,n){for(var i=[],r=(t=g(Fg(e,t))).next();!r.done;r=t.next()){r=r.value;var a=e.h[r];a.isVisible()&&(a=Dg(a,n,e.i))&&i.push(a),e.h[r]=null}return i}function Gg(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function Hg(e,t,n){var i={0:0,1:0,2:1,3:1};return Kg[(e=i[e])<<2|(t=i[t])<<1|(n=i[n])]}Ig.prototype.isVisible=function(){return this.l},Ig.prototype.display=function(){this.l=!0},Ug.prototype.Pa=function(){return this.g<this.h.length},Ug.prototype.Wa=function(){return this.g},Ug.prototype.skip=function(e){if(this.g+e>this.h.length)throw new Ie(2,2,3e3);this.g+=e},Ug.prototype.Dj=function(e){if(this.g-e<0)throw new Ie(2,2,3e3);this.g-=e};var zg=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),Kg="black blue green cyan red magenta yellow white".split(" ");function Wg(){this.h=[],this.g=[],this.i=new Og,this.l=0,this.m=new Map([["CC1",new Cg(0,0)],["CC2",new Cg(0,1)],["CC3",new Cg(1,0)],["CC4",new Cg(1,1)]]),this.A=this.u=0,this.j=new Map,this.D=!0,this.C=new Set,Xg(this)}function Xg(e){e.u=0,e.A=0;for(var t=g(e.m.values()),n=t.next();!n.done;n=t.next())(n=n.value).h=0,n.g=n.j,n.m=null,pg(n.i),pg(n.j),pg(n.u);e.D=!0}function Yg(e,t){var n=t.type;if(16==(112&t.Hb)){var i=t.Hb>>3&1;0===n?e.u=i:e.A=i}if(i="CC"+(1+(n<<1|(n?e.A:e.u))),n=e.m.get(i),255===t.Hb&&255===t.vc||!t.Hb&&!t.vc||!Qg(t.Hb)||!Qg(t.vc))return++e.l>=45&&Xg(e),null;e.l=0,t.Hb&=127,t.vc&=127;var r=t.Hb;if(r>=1&&r<=15||!t.Hb&&!t.vc)return null;if(r=null,16==(112&t.Hb))e:{if(e.C.add(i),i=t.Hb,e=t.vc,n.m===(i<<8|e))n.m=null;else if(n.m=i<<8|e,16==(240&i)&&64==(192&e)){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&i)<<1|e>>5&1],i="white",r=!1;var a=null,o=e>95?e-96:e-64;o<=13?i=kg[Math.floor(o/2)]:o<=15?r=!0:a=Math.floor((o-16)/2),e=!(1&~e),4!==n.h&&(o=n.g,3===n.h&&t!==o.g&&(gg(o,n=1+t-o.h,1+o.g-o.h,o.h),mg(o,0,n-1),mg(o,t+1,15-t)),o.g=t,o.m=e,o.j=r,o.l=i,o.A=a,o.u="black")}else if(17==(247&i)&&32==(240&e))n.g.m=!1,n.g.j=!1,n.g.l="white",fg(n.g,0,32),i=!1,"white_italics"===(t=kg[(14&e)>>1])&&(t="white",i=!0),n.g.m=!(1&~e),n.g.j=i,n.g.l=t;else if(16==(247&i)&&32==(240&e)||23==(247&i)&&45==(255&e))t="black",!(7&i)&&(t=Eg[(14&e)>>1]),n.g.u=t;else if(17==(247&i)&&48==(240&e))fg(n.g,1,e);else if(18==(246&i)&&32==(224&e))fg(n.g,1&i?3:2,e);else{if(20==(246&i)&&32==(240&e)){switch(e=t.pts,i=null,t.vc){case 32:xg(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:i=wg(n,2,e);break;case 38:i=wg(n,3,e);break;case 39:i=wg(n,4,e);break;case 40:fg(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=e;break;case 42:pg(n.u),Sg(n);break;case 43:Sg(n);break;case 44:t=n.i,i=null,4!==n.h&&(i=hg(t,n.l,e)),mg(t,0,15);break;case 45:t=n.g,3!==n.h?i=null:(i=hg(t,n.l,e),gg(t,(r=t.g-t.h+1)-1,r,t.h),mg(t,0,r-1),mg(t,t.g,15-t.g),n.l=e);break;case 46:mg(n.j,0,15);break;case 47:t=null,4!==n.h&&(t=hg(n.i,n.l,e)),i=n.j,n.j=n.i,n.i=i,xg(n),n.l=e,i=t}r=i;break e}(23==i||31==i)&&e>=33&&e<=35&&(n.g.C=e-32)}r=null}else e=t.vc,fg(n.g,0,t.Hb),fg(n.g,0,e);return r}function Zg(e,t){var n=[];try{for(;t.Pa();){var i=Bg(t).value,r=(224&i)>>5,a=31&i;if(7===r&&0!=a&&(r=63&Bg(t).value),0!=r){e.C.add("svc"+r),e.j.has(r)||e.j.set(r,new _g(r));for(var o=e.j.get(r),s=t.Wa();t.Wa()-s<a;){r=o;var u=t,l=Bg(u),c=l.value,d=l.pts;if(16===c)c=c<<16|Bg(u).value;if(c>=0&&c<=31)var h=jg(r,u,c,d);else if(c>=128&&c<=159)h=qg(r,u,c,d);else{if(c>=4096&&c<=4127)r=u,(u=255&c)>=8&&u<=15?r.skip(1):u>=16&&u<=23?r.skip(2):u>=24&&u<=31&&r.skip(3);else if(c>=4224&&c<=4255)r=u,(u=255&c)>=128&&u<=135?r.skip(4):u>=136&&u<=143&&r.skip(5);else if(c>=32&&c<=127)u=c,r.g&&Rg(r.g,127===u?"♪":String.fromCharCode(u));else if(c>=160&&c<=255)r.g&&Rg(r.g,String.fromCharCode(c));else if(c>=4128&&c<=4223){if(u=255&c,r.g)if(zg.has(u)){var p=zg.get(u);Rg(r.g,p)}else Rg(r.g,"_")}else c>=4256&&c<=4351&&r.g&&Rg(r.g,160!=(255&c)?"_":"[CC]");h=[]}n.push.apply(n,m(h))}}}}catch(e){if(!(e instanceof Ie&&3e3===e.code))throw e;Z("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Qg(e){for(var t=0;e;)t^=1&e,e>>=1;return 1===t}function Jg(e){for(var t=[],n=e,i=e=0;i<n.length;)2==e&&3==n[i]?(e=0,(n=[].concat(m(n))).splice(i,1),n=new Uint8Array(n)):0==n[i]?e++:e=0,i++;for(e=n,i=0;i<e.length;){for(n=0;255==e[i];)n+=255,i++;n+=e[i++];for(var r=0;255==e[i];)r+=255,i++;r+=e[i++],4==n&&t.push(e.subarray(i,i+r)),i+=r}return t}function $g(){this.j=new Map,this.i=this.h=0,this.g=tm}function em(e,t,n,i,r,a,o,s,u){var l=0,c=a,d=s.map(function(e){return e.Yh});for((d=[].concat.apply([],m(d))).length&&(c=d[0].sampleSize||a),t.skip(o+s[0].Tg);t.Pa();){o=t.$();var h=t.ba(),p=null;switch(p=!1,s=1,e.g){case nm:p=6==(p=31&h);break;case im:s=2,t.skip(1),p=39==(p=h>>1&63)||40==p;break;case rm:s=2,t.skip(1),p=23==(p=h>>1&63)||24==p;break;default:return}if(p)for(h=0,l<d.length&&(h=d[l].cg||0),h=(n+h)/i,p=(s=g(Jg(s=t.ac(o-s,!1)))).next();!p.done;p=s.next())u.push({packet:p.value,pts:h});else try{t.skip(o-s)}catch(e){break}0==(c-=o+4)&&(n=l<d.length?n+(d[l].Zh||r):n+r,c=++l<d.length&&d[l].sampleSize||a)}}Wg.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var e=this.i;e.i=[],e.h=[],e.g=0,Xg(this);for(var t=(e=g(this.j.values())).next();!t.done;t=e.next())Gg(t.value)},Wg.prototype.extract=function(e,t){if(this.D){for(var n=g(this.m.values()),i=n.next();!i.done;i=n.next())i.value.l=t;this.D=!1}if(!((e=new ha(e,0)).getLength()<8)&&181===e.ba()&&49===e.Ia()&&1195456820===e.$()&&3===e.ba()&&64&(n=e.ba()))for(n&=31,e.skip(1),i=0;i<n;i++){var r=e.ba(),a=(4&r)>>2,o=e.ba(),s=e.ba();a&&(0===(r&=3)||1===r?this.h.push({pts:t,type:r,Hb:o,vc:s,order:this.h.length}):(this.g.push({pts:t,type:r,value:o,order:this.g.length}),this.g.push({pts:t,type:2,value:s,order:this.g.length})))}},Wg.prototype.decode=function(){function e(e,t){return e.pts-t.pts||e.order-t.order}var t=[];this.h.sort(e),this.g.sort(e);for(var n=g(this.h),i=n.next();!i.done;i=n.next())(i=Yg(this,i.value))&&t.push(i);for(i=(n=g(this.g)).next();!i.done;i=n.next())Ng(this.i,i.value);for(i=(n=g(this.i.i)).next();!i.done;i=n.next())i=Zg(this,i.value),t.push.apply(t,m(i));return this.i.i=[],this.h=[],this.g=[],t},Wg.prototype.getStreams=function(){return Array.from(this.C)},G("shaka.cea.CeaDecoder",Wg),Jt=function(){return new Wg},$g.prototype.init=function(e){function t(e){e=e.name,am.has(e)&&(n.g=am.get(e))}var n=this,i=[],r=[];if((new ga).box("moov",ma).box("mvex",ma).X("trex",function(e){var t=e.reader;t.skip(4),t.skip(4),e=t.$(),t=t.$(),n.h=e,n.i=t}).box("trak",ma).X("tkhd",function(e){var t=e.reader;1==(e=e.version)?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4));var n=t.$();1==e?t.skip(8):t.skip(4),t.skip(4),t.skip(8),t.skip(2),t.skip(2),t.skip(2),t.skip(2),t.skip(36),t.Ia(),t.Ia(),t.Ia(),t.Ia(),i.push(n)}).box("mdia",ma).X("mdhd",function(e){e=fo(e.reader,e.version),r.push(e.timescale)}).box("minf",ma).box("stbl",ma).X("stsd",va).box("avc1",t).box("avc3",t).box("dvav",t).box("dva1",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("vvc1",t).box("vvi1",t).box("dvc1",t).box("dvi1",t).box("encv",ya).box("sinf",ma).box("frma",function(e){e=vo(e.reader).codec,am.has(e)&&(n.g=am.get(e))}).parse(e,!0,!0),!i.length||!r.length||i.length!=r.length)throw new Ie(2,2,2010);this.g==tm&&Y("Unable to determine bitstream format for CEA parsing!"),i.forEach(function(e,t){n.j.set(e,r[t])})},$g.prototype.parse=function(e){var t=this;if(this.g==tm)return[];var n=[],i=0,r=[];return(new ga).box("moof",function(e){i=e.start,r=[],ma(e)}).box("traf",function(e){r.push({baseMediaDecodeTime:null,le:t.h,me:t.i,uj:[],timescale:9e4}),ma(e)}).X("trun",function(e){var t=r[r.length-1];e=go(e.reader,e.version,e.flags),t.uj.push(e)}).X("tfhd",function(e){var n=r[r.length-1];e=ho(e.reader,e.flags),n.le=e.le||t.h,n.me=e.me||t.i,e=e.trackId,t.j.has(e)&&(n.timescale=t.j.get(e))}).X("tfdt",function(e){var t=r[r.length-1];e=po(e.reader,e.version),t.baseMediaDecodeTime=e.baseMediaDecodeTime}).box("mdat",function(e){for(var a=i-e.start-8,o=e.reader.Wa(),s=g(r),u=s.next();!u.done;u=s.next())null===(u=u.value).baseMediaDecodeTime?Y("Unable to find base media decode time for CEA captions!"):(e.reader.seek(o),em(t,e.reader,u.baseMediaDecodeTime,u.timescale,u.le,u.me,a,u.uj,n))}).parse(e,!1,!0),n},G("shaka.cea.Mp4CeaParser",$g);var tm=0,nm=1,im=2,rm=3,am=(new Map).set("avc1",nm).set("avc3",nm).set("dvav",nm).set("dva1",nm).set("hev1",im).set("hvc1",im).set("dvh1",im).set("dvhe",im).set("vvc1",rm).set("vvi1",rm).set("dvc1",rm).set("dvi1",rm);function om(){this.g=null}function sm(e){return(e=function(e){var t=0,n=Ee(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+4+2,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var r=n.getUint16(e,!0);if(e+=2,1&r||r+e>n.byteLength){n=[];break e}var a=xe(n,e,r);t.push({type:i,value:a}),e+=r}n=t}return n}(e=We(bn(e))).filter(function(e){return e.type===lm})[0])&&(e=gn(e=Be(e.value,!0),"WRMHEADER"))?e:null}function um(e){try{var t=sm(e);if(t)e:{for(var n=g(Cn(t,"DATA")),i=n.next();!i.done;i=n.next()){var r=i.value;if(r.children)for(var a=g(r.children),o=a.next();!o.done;o=a.next()){var s=o.value;if("LA_URL"==s.tagName){var u=bn(s);break e}}}u=""}else u="";return u}catch(e){return""}}Yt("video/mp4",function(){return new $g}),om.prototype.init=function(){},om.prototype.parse=function(e){this.g?this.g.clearData():this.g=new Bs;var t=[];if(!Fs(e=xe(e)))return t;var n=(e=this.g.parse(e)).oe(),i=e.zf();switch(e=[],n.video){case"avc":e.push(6);break;case"hvc":e.push(39),e.push(40)}if(!e.length)return t;for(i=(n=g(i)).next();!i.done;i=n.next())if(i=i.value,e.includes(i.type)&&null!=i.time)for(var r=g(Jg(i.data)),a=r.next();!a.done;a=r.next())t.push({packet:a.value,pts:i.time});return t},G("shaka.cea.TsCeaParser",om),Yt("video/mp2t",function(){return new om});var lm=1;function cm(){this.g=new Map}function dm(t,n,i,r){var a=function(e,t){for(var n=[],i=(t=g(t)).next();!i.done;i=t.next())(i=pm(e,i.value))&&n.push(i);return n}(t,n),o=null;t=[];var s=[];n=null;var u=new Set(a.map(function(e){return e.keyId}));u.delete(null);var l="cenc";if(u.size>1)throw new Ie(2,4,4010);if(!i){if((s=a.filter(function(e){return"urn:mpeg:dash:sea:2012"==e.Wd})).length>1)throw new Ie(2,4,4050);s.length&&(n=function(t){if(!e.crypto||!e.crypto.subtle)throw Y("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new Ie(2,4,4042);var n=xn(t.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!n)throw new Ie(2,4,4051);if("urn:mpeg:dash:sea:aes128-cbc:2013"!=n.attributes.schemeIdUri)throw new Ie(2,4,4051);if(n=xn(t.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod"),!n)throw new Ie(2,4,4051);if(t=n.attributes.IV,n=Ve(n.attributes.keyUriTemplate),!t||!n)throw new Ie(2,4,4051);if(t=Xe(t.substr(2)),16!=t.byteLength)throw new Ie(2,4,4048);return{Kl:n,iv:t}}(s[0])),(s=a.find(function(e){return"urn:mpeg:dash:mp4protection:2011"==e.Wd}))&&s.encryptionScheme&&(l=s.encryptionScheme),(s=a.filter(function(e){return"urn:mpeg:dash:mp4protection:2011"==e.Wd?(o=e.init||o,!1):"urn:mpeg:dash:sea:2012"!=e.Wd})).length&&(t=function(e,t,n,i,r){for(var a=[],o=(n=g(n)).next();!o.done;o=n.next()){var s=i[(o=o.value).Wd];if(s){var u;if((u=xn(o.node,"urn:microsoft:playready","pro"))&&bn(u)){u=We(u=bn(u));var l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);u=[{initData:ka(u,l,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else u=null;if(l=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===o.Wd){l=o;var c=r;if(0==c.size)l=null;else{var d=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);l=[{initData:ka(new Uint8Array([]),d,c,1),initDataType:"cenc",keyId:l.keyId}]}}u=Je(s,t,o.init||e||u||l),(s=fm.get(s))&&(u.licenseServerUri=s(o)),(o=xn(o.node,"https://dashif.org/CPS","Certurl"))&&(o=bn(o))||(o=""),u.serverCertificateUri=o,a.push(u)}}return a}(o,l,s,r,u),0==t.length&&(t=[Je("",l,o)]))}if(a.length&&!n&&(i||!s.length))for(t=[],r=(i=g(Object.values(r))).next();!r.done;r=i.next())"org.w3.clearkey"!=(r=r.value)&&t.push(Je(r,l,o));if(u=Array.from(u)[0]||null)for(i=(l=g(t)).next();!i.done;i=l.next())for(r=(i=g(i.value.initData)).next();!r.done;r=i.next())r.value.keyId=u;return{Pi:u,Rn:o,drmInfos:t,Hg:n,Ui:!0}}function hm(e){var t=xn(e.node,"https://dashif.org/CPS","Laurl");if(t&&(t=bn(t)))return t;if((t=xn(e.node,"urn:microsoft:playready","pro"))&&bn(t))return um(t);if((e=xn(e.node,"urn:mpeg:cenc:2013","pssh"))&&(e=bn(e))){t=We(e),e=8;var n=(t=Ee(t)).getUint8(e);return e+=20,n>0&&(e+=4+16*t.getUint32(e)),um(e=gn("<pro>"+(e=ze(e=xe(t,e+4)))+"</pro>"))}return""}function pm(e,t){var n=t.attributes.schemeIdUri,i=En(t,"urn:mpeg:cenc:2013","default_KID"),r=kn(t,"urn:mpeg:cenc:2013","pssh").map(Tn),a=t.attributes.value;if(!n)return null;if(n=n.toLowerCase(),i&&(i=i.replace(/-/g,"").toLowerCase()).includes(" "))throw new Ie(2,4,4009);var o=[];try{o=r.map(function(t){if(!e.g.has(t)){var n=We(t);e.g.set(t,n)}return{initDataType:"cenc",initData:e.g.get(t),keyId:null}})}catch(e){throw new Ie(2,4,4007)}return{node:t,Wd:n,keyId:i,init:o.length>0?o:null,encryptionScheme:a}}cm.prototype.release=function(){this.g.clear()};var fm=(new Map).set("com.apple.fps",function(t){if("apple"===e.shakaMediaKeysPolyfill)throw new Ie(2,4,4054);return(t=xn(t.node,"https://dashif.org/CPS","Laurl"))&&(t=bn(t))?t:""}).set("com.widevine.alpha",function(e){var t=xn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=bn(t))?t:(e=xn(e.node,"urn:microsoft","laurl"))&&Ve(e.attributes.licenseUrl)||""}).set("com.microsoft.playready",hm).set("com.microsoft.playready.recommendation",hm).set("com.microsoft.playready.software",hm).set("com.microsoft.playready.hardware",hm).set("org.w3.clearkey",function(e){var t=xn(e.node,"https://dashif.org/CPS","Laurl");return t&&(t=bn(t))?t:(e=xn(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===e.attributes.Lic_type&&e&&(e=bn(e))?e:""});function gm(t,n,i,r,a,o){var s=(new Map).set("RepresentationID",n).set("Number",i).set("SubNumber",r).set("Bandwidth",a).set("Time",o);return t.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(t,n,i,r){if("$$"==t)return"$";var a=s.get(n);if(null==a)return t;switch("RepresentationID"==n&&i&&(i=void 0),"Time"==n&&"bigint"!=typeof a&&(Math.abs(a-Math.round(a))>=.2&&Y("Calculated $Time$ values must be close to integers"),a=Math.round(a)),r){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return i=e.parseInt(i,10)||1,Array(Math.max(0,i-t.length)+1).join("0")+t})}function mm(e,t){var n=ym(e,t,"timescale"),i=1;n&&(i=Dn(n)||1);var r=(n=Dn((n=ym(e,t,"duration"))||""))?n/i:null,a=ym(e,t,"startNumber"),o=Number(ym(e,t,"presentationTimeOffset"))||0,s=On(a||"");if(null!=a&&null!=s||(s=1),a=null,t=Am(e,t,"SegmentTimeline")){t=An(t,"S"),a=i,e=e.qa.duration||1/0;for(var u=s,l=[],c=-o,d=0;d<t.length;++d){var h=t[d],p=t[d+1],f=Sn(h,"t",On),g=Sn(h,"d",On),m=Sn(h,"r",Pn);if(h=Sn(h,"k",Pn)||0,null!=f&&(f-=o),g){if(f=null!=f?f:c,(m=m||0)<0)if(p){if(null==(p=Sn(p,"t",On)))break;if(f>=p)break;m=Math.ceil((p-f)/g)-1}else{if(e==1/0)break;if(f/a>=e)break;m=Math.ceil((e*a-f)/g)-1}for(l.length>0&&f!=c&&(l[l.length-1].end=f/a),p=0;p<=m;++p)c=f+g,l.push({start:f/a,end:c/a,wi:f,Ec:h,om:l.length+u}),f=c}}a=l}return{timescale:i,pg:n,pb:r,Ke:s,Pb:o/i||0,wd:o,timeline:a}}function vm(e,t){return[t(e.N),t(e.va),t(e.Aa)].filter(Zi)}function ym(e,t,n){t=vm(e,t),e=null;for(var i=(t=g(t)).next();!i.done&&!(e=i.value.attributes[n]);i=t.next());return e}function Am(e,t,n){t=vm(e,t),e=null;for(var i=(t=g(t)).next();!i.done&&!(e=wn(i.value,n));i=t.next());return e}function bm(e,t,n,i,r,a){if(a=void 0===a?0:a,En(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,i,r,a){for(var o=En(e,"http://www.w3.org/1999/xlink","href"),s=En(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=g(Object.keys(e.attributes)),l=u.next();!l.done;l=u.next()){var c=(l=l.value).split(":"),d=mn("http://www.w3.org/1999/xlink");c[0]==d&&delete e.attributes[l]}if(a>=5)return Hr(new Ie(2,4,4028));if("onLoad"!=s)return Hr(new Ie(2,4,4027));var h=Qe([i],[o]);return r.request(0,ea(h,t)).bb(function(i){if(!(i=fn(i.data,e.tagName)))return Hr(new Ie(2,4,4001,o));for(e.children=[];i.children.length;){var s=i.children.shift();e.children.push(s)}for(var u=(s=g(Object.keys(i.attributes))).next();!u.done;u=s.next())u=u.value,e.attributes[u]=i.attributes[u];return bm(e,t,n,h[0],r,a+1)})}(e,t,n,i,r,a);return n&&(o=o.bb(void 0,function(){return bm(e,t,n,i,r,a)})),o}o=[];for(var s=g(yn(e)),u=s.next(),l={};!u.done;l={ie:void 0},u=s.next())l.ie=u.value,"urn:mpeg:dash:resolve-to-zero:2013"==En(l.ie,"http://www.w3.org/1999/xlink","href")?e.children=e.children.filter(function(e){return function(t){return t!==e.ie}}(l)):"SegmentTimeline"!=l.ie.tagName&&o.push(bm(l.ie,t,n,i,r,a));return Xr(o).bb(function(){return e})}function Tm(e,t,n,i,r,a,o){var s,u=(new ga).X("sidx",function(e){s=function(e,t,n,i,r,a,o){var s=[];o.reader.skip(4);var u=o.reader.$();if(0==u)throw new Ie(2,3,3005);if(0==o.version)var l=o.reader.$(),c=o.reader.$();else l=o.reader.Td(),c=o.reader.Td();o.reader.skip(2);var d=o.reader.Ia();for(e=e+o.size+c,c=0;c<d;c++){var h=o.reader.$(),p=(2147483648&h)>>>31;h&=2147483647;var f=o.reader.$();if(o.reader.skip(4),1==p)throw new Ie(2,3,3006);s.push(new Zo(l/u+n,(l+f)/u+n,function(){return a},e,e+h-1,t,n,i,r)),l+=f,e+=h}return o.parser.stop(),s}(t,i,r,a,o,n,e)});if(e&&u.parse(e),s)return s;throw new Ie(2,3,3004)}function Cm(e){this.h=Ee(e),this.g=new ha(this.h,0)}function wm(e){var t=xm(e);if(t.length>7)throw new Ie(2,3,3002);for(var n=0,i=(t=g(t)).next();!i.done;i=t.next())n=256*n+i.value;t=xm(e);e:{for(var r=(i=g(Sm)).next();!r.done;r=i.next())if(Ce(t,new Uint8Array(r.value))){i=!0;break e}i=!1}if(i)t=e.h.byteLength-e.g.Wa();else{if(8==t.length&&224&t[1])throw new Ie(2,3,3001);for(r=i=0;r<t.length;r++){var a=t[r];i=0==r?a&(1<<8-t.length)-1:256*i+a}t=i}return t=e.g.Wa()+t<=e.h.byteLength?t:e.h.byteLength-e.g.Wa(),i=Ee(e.h,e.g.Wa(),t),e.g.skip(t),new Em(n,i)}function xm(e){var t=e.g.Wa(),n=e.g.ba();if(0==n)throw new Ie(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),xe(e.h,t,n)}Cm.prototype.Pa=function(){return this.g.Pa()};var Sm=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function Em(e,t){this.id=e,this.g=t}function km(e){if(e.g.byteLength>8)throw new Ie(2,3,3002);if(8==e.g.byteLength&&224&e.g.getUint8(0))throw new Ie(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){t=256*t+e.g.getUint8(n)}return t}function Im(e){var t=new Cm(e.g);if(179!=(e=wm(t)).id)throw new Ie(2,3,3013);if(e=km(e),183!=(t=wm(t)).id)throw new Ie(2,3,3012);t=new Cm(t.g);for(var n=0;t.Pa();){var i=wm(t);if(241==i.id){n=km(i);break}}return{Cm:e,bm:n}}function Mm(e,t,n){if(!(t=Am(e,t,"Initialization")))return null;var i=e.N.mb(),r=t.attributes.sourceURL;r&&(i=Qe(i,[Ve(r)],e.Rb())),r=0;var a=null;return(t=Sn(t,"range",Rn))&&(r=t.start,a=t.end),(n=new Xo(function(){return i},r,a,Nm(e),null,null,n,e.va.encrypted)).codecs=e.N.codecs,n.mimeType=e.N.mimeType,e.qa&&!e.qa.Ef&&(n.g=e.qa.start+e.qa.duration),n}function Lm(e,t,n){var i=Number(ym(e,Pm,"presentationTimeOffset"))||0,r=ym(e,Pm,"timescale"),a=1;r&&(a=Dn(r)||1);var o=i/a||0,s=Mm(e,Pm,n);!function(e,t){if(Om(e,t),!Dm(e))throw new Ie(2,4,4002)}(e,s);var u=hn(e);return{endTime:-1,timeline:-1,gd:function(){var e=Am(u,Pm,"RepresentationIndex"),n=u.N.mb();return e&&(e=Ve(e.attributes.sourceURL))&&(n=Qe(n,[e],u.Rb())),e=Dm(u),Rm(u,t,s,n,e.start,e.end,o)},timescale:a}}function Rm(e,t,n,i,r,a,o){var s,u,l,c,d,h,p,f,m,v,y,A,b,C,w,x,S,E;return D(function(k){if(1==k.g)return s=e.presentationTimeline,u=!e.Jb||!e.qa.Ef,l=e.qa.start,c=e.qa.duration,d=e.N.mimeType.split("/")[1],p=null,f=[(h=t)(i,r,a,!1),"webm"==d?h(n.T(),n.startByte,n.endByte,!0):null],h=null,T(k,Promise.all(f),2);if(m=k.h,v=m[0],y=m[1]||null,null,b=l-o,C=l,w=c?l+c:1/0,"mp4"==d)var I=Tm(v,r,i,n,b,C,w);else{I=v;var M=new Cm(y);if(440786851!=wm(M).id)throw new Ie(2,3,3008);var L=wm(M);if(408125543!=L.id)throw new Ie(2,3,3009);M=L.g.byteOffset,L=new Cm(L.g);for(var R=null;L.Pa();){var P=wm(L);if(357149030==P.id){R=P;break}}if(!R)throw new Ie(2,3,3010);for(R=new Cm(R.g),P=1e6,L=null;R.Pa();){var D=wm(R);if(2807729==D.id)P=km(D);else if(17545==D.id)if(4==D.g.byteLength)L=D.g.getFloat32(0);else{if(8!=D.g.byteLength)throw new Ie(2,3,3003);L=D.g.getFloat64(0)}}if(null==L)throw new Ie(2,3,3011);if(L*=R=P/1e9,475249515!=(I=wm(new Cm(I))).id)throw new Ie(2,3,3007);I=function(e,t,n,i,r,a,o,s,u){function l(){return r}var c=[];e=new Cm(e.g);for(var d=null,h=null;e.Pa();){var p=wm(e);if(187==p.id){var f=Im(p);f&&(p=n*f.Cm,f=t+f.bm,null!=d&&c.push(new Zo(d+o,p+o,l,h,f-1,a,o,s,u)),d=p,h=f)}}return null!=d&&c.push(new Zo(d+o,i+o,l,h,null,a,o,s,u)),c}(I,M,R,L,i,n,b,C,w)}for(x=g(A=I),S=x.next();!S.done;S=x.next())(E=S.value).codecs=e.N.codecs,E.mimeType=e.N.mimeType,E.bandwidth=e.bandwidth;return s.Ce(A),p=new Hu(A),u&&p.Gd(C,w,!0),k.return(p)})}function Pm(e){return e.Xd}function Dm(e){var t=Am(e,Pm,"RepresentationIndex");return e=Rn((e=ym(e,Pm,"indexRange"))||""),t&&(e=Sn(t,"range",Rn,e)),e}function Om(e,t){var n=e.N.mimeType.split("/")[1];if(e.N.contentType!=it&&"mp4"!=n&&"webm"!=n)throw new Ie(2,4,4006);if("webm"==n&&!t)throw new Ie(2,4,4005)}function Nm(e){var t=e.N;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.Rf,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null,label:e.va.label||null,roles:e.roles||null,language:e.va.language||null}}function Um(e,t,n){var i=Mm(e,Bm,n),r=function(e){var t=function(e){return[e.N.Ic,e.va.Ic,e.Aa.Ic].filter(Zi).map(function(e){return An(e,"SegmentURL")}).reduce(function(e,t){return e.length>0?e:t}).map(function(t){return t.attributes.indexRange&&!e.Bh&&(e.Bh=!0),{Rl:Ve(t.attributes.media),start:(t=Sn(t,"mediaRange",Rn,{start:0,end:null})).start,end:t.end}})}(e);e=mm(e,Bm);var n=e.Ke;0==n&&(n=1);var i=0;return e.pb?i=e.pb*(n-1):e.timeline&&e.timeline.length>0&&(i=e.timeline[0].start),{pb:e.pb,startTime:i,Ke:n,Pb:e.Pb,timescale:e.timescale,timeline:e.timeline,Pd:t}}(e);if(!r.pb&&!r.timeline&&r.Pd.length>1)throw new Ie(2,4,4002);if(!r.pb&&!e.qa.duration&&!r.timeline&&1==r.Pd.length)throw new Ie(2,4,4002);if(r.timeline&&0==r.timeline.length)throw new Ie(2,4,4002);var a=null,o=null;e.Aa.id&&e.N.id&&(o=t.get(e.Aa.id+","+e.N.id))&&(a=o.segmentIndex);var s=function(e,t,n,i,r,a,o,s,u,l){var c=i.Pd.length;i.timeline&&i.timeline.length!=i.Pd.length&&(c=Math.min(i.timeline.length,i.Pd.length));for(var d=e-i.Pb,h=t?e+t:1/0,p=[],f=i.startTime,g={},m=0;m<c;g={rg:void 0,dg:void 0},m++){g.dg=i.Pd[m];var v=f;f=void 0,f=null!=i.pb?v+i.pb:i.timeline?i.timeline[m].end:v+t,g.rg=null,(g=new Zo(e+v,e+f,function(e){return function(){return null==e.rg&&(e.rg=Qe(n(),[e.dg.Rl],l())),e.rg}}(g),g.dg.start,g.dg.end,r,d,e,h,[],"",null,null,$o,a)).codecs=s,g.mimeType=o,g.bandwidth=u,p.push(g)}return p}(e.qa.start,e.qa.duration,e.N.mb,r,i,n,e.N.mimeType,e.N.codecs,e.bandwidth,e.Rb);return t=!a,a?a.Ae(s,e.presentationTimeline.Mb()):a=new Hu(s),e.presentationTimeline.Ce(s),e.Jb&&e.qa.Ef||a.Gd(e.qa.start,e.qa.duration?e.qa.start+e.qa.duration:1/0,t),o&&(o.segmentIndex=a),{endTime:-1,timeline:-1,gd:function(){return a&&0!=a.getNumReferences()||a.Mf(s),Promise.resolve(a)},timescale:r.timescale}}function Bm(e){return e.Ic}function _m(t,n,i,r,a,o,s,u,l,c){l||t.N.Bf||(t.N.Bf=ym(t,jm,"initialization"));var d=t.N.Bf?function(e,t){var n=e.N.Bf;if(n||(n=ym(e,jm,"initialization")),!n)return null;n=Ve(n);var i=e.N.originalId,r=e.bandwidth||null,a=e.N.mb,o=e.Rb;return t=new Xo(function(){var e=gm(n,i,null,null,r,null);return Qe(a(),[e],o())},0,null,Nm(e),null,null,t,e.va.encrypted),t.codecs=e.N.codecs,t.mimeType=e.N.mimeType,e.qa&&!e.qa.Ef&&(t.g=e.qa.start+e.qa.duration),t}(t,s):null,h=function(e){var t=mm(e,jm),n=ym(e,jm,"media"),i=ym(e,jm,"index"),r=ym(e,jm,"k"),a=0;return r&&(a=parseInt(r,10)),{pg:t.pg,pb:t.pb,timescale:t.timescale,Ke:t.Ke,Pb:t.Pb,wd:t.wd,timeline:t.timeline,jc:n&&Ve(n),ve:i,mimeType:e.N.mimeType,codecs:e.N.codecs,bandwidth:e.bandwidth,Sl:a}}(t);!function(e){var t=e.ve?1:0;if(t+=e.timeline?1:0,t+=e.pb?1:0,0==t)throw new Ie(2,4,4002);if(1!=t&&(e.ve&&(e.timeline=null),e.pg=null,e.pb=null),!e.ve&&!e.jc)throw new Ie(2,4,4002)}(h);var p=hn(t);if(h.ve)return Om(t,d),{endTime:-1,timeline:-1,gd:function(){var e=gm(h.ve,p.N.originalId,null,null,p.bandwidth||null,null);return e=Qe(p.N.mb(),[e]),Rm(p,n,d,e,0,null,h.Pb)},timescale:h.timescale};if(h.pb)return r||"image"===t.va.contentType||"text"===t.va.contentType||(r=t.qa.start,c=t.Aa.id,i=t.qa.duration,c=(c=null!=c&&o.get(c)||i)?r+c:1/0,t.presentationTimeline.Kh(h.pb),t.presentationTimeline.sj(r,c)),{endTime:-1,timeline:-1,gd:function(){return function(t,n,i,r,a,o,s,u){function l(i){var a=i-y,s=a*v,l=n.pg,c=a*l;"BigInt"in e&&c>Number.MAX_SAFE_INTEGER&&(c=BigInt(a)*BigInt(l)),a=(s+=p)+v,l=Math.min(a,d());var h=[],f=n.Sl;if(f)for(var g=(l-s)/f,m={},S=0;S<f;m={Tj:void 0},S++){var E=s+g*S,k=E+g;m.Tj=S,(m=new Zo(E,k,function(e){return function(){var t=gm(A,T,i,e.Tj,b,c);return Qe(C(),[t],w())}}(m),0,null,r,x,p,d(),[],"",null,null,$o,o)).codecs=t.N.codecs,m.mimeType=t.N.mimeType,0==u?S>0&&m.Nd():S%u!=0&&m.Nd(),h.push(m)}return(s=new Zo(s,l,function(){if(f)return[];var e=gm(A,T,i,null,b,c);return Qe(C(),[e],w())},0,null,r,x,p,d(),h,"",null,null,$o,o,h.length>0)).codecs=t.N.codecs,s.mimeType=t.N.mimeType,s.bandwidth=t.bandwidth,s.j=a,s}function c(){var e=[Math.max(h.Mb(),p),Math.min(h.Rc(),d())].map(function(e){return e-p});return e=[Math.ceil(e[0]/v),Math.ceil(e[1]/v)-1],t.N.zb&&e[1]++,e.map(function(e){return e+y})}function d(){var e=null!=f&&a.get(f)||m;return e?p+e:1/0}var h=t.presentationTimeline,p=t.qa.start,f=t.Aa.id,m=t.qa.duration,v=n.pb,y=n.Ke,A=n.jc,b=t.bandwidth||null,T=t.N.originalId,C=t.N.mb,w=t.Rb,x=p-n.Pb,S=c();i=t.Jb?Math.max(S[0],S[1]-i+1):S[0],s=s||S[1],S=[];for(var E=i;E<=s;++E){var k=l(E);S.push(k)}var I=new Hu(S);if(S=h.Rc()<d(),E=h.U(),S||E){var M=Math.max(i,s+1);i=v,t.N.zb&&(i=.1),I.qg(i,function(){var e=h.Mb();I.cb(e);var t=g(c());t.next(),t=t.next().value;for(var n=[];M<=t;){var i=l(M);n.push(i),M++}return e>d()&&!n.length?null:n})}return Promise.resolve(I)}(p,h,a,d,o,s,u,t.N.eg)},timescale:h.timescale};var f=null;r=r=null,t.Aa.id&&t.N.id&&(r=t.Aa.id+","+t.N.id,r=i.get(r))&&(f=r.segmentIndex);var m=t.qa.start,v=t.qa.duration?m+t.qa.duration:1/0;if(f)Fm(c=f,h,m,v,d,t.Jb),c.cb(t.presentationTimeline.Mb());else{if(i=0,l=-1,null!=t.Aa.id&&null!=t.N.id){var y=c.get(t.Aa.id);if(y)l=y.timeline;else for(y=(c=g(c.values())).next();!y.done;y=c.next()){if(y=y.value,Math.abs(h.Pb-y.endTime)<=at&&y.Th.includes(t.N.id)){l=y.timeline;break}y.timeline>=i&&(i=y.timeline+1)}}-1==l&&(l=i),f=new qm(t.Jb,h,t.N.originalId,t.bandwidth,t.N.mb,t.Rb,m,v,d,s,t.N.eg,l)}return h.timeline&&"image"!==t.va.contentType&&"text"!==t.va.contentType&&t.presentationTimeline.tj(f.h?f.h.timeline:[],m),r&&t.Jb&&(r.segmentIndex=f),r=(r=(r=h.timeline)&&r[r.length-1])?r.end+h.Pb:-1,c=-1,f instanceof qm&&(c=f.pf()),{endTime:r,timeline:c,gd:function(){return f instanceof qm&&0==f.getNumReferences()&&Fm(f,h,m,v,d,t.Jb),Promise.resolve(f)},timescale:h.timescale}}function jm(e){return e.Zc}function qm(e,t,n,i,r,a,o,s,u,l,c,d){Hu.call(this,[]),this.F=e,this.h=t,this.H=n,this.D=i,this.G=r,this.J=a,this.j=o,this.l=s,this.A=u,this.C=l,this.I=c,this.K=d,Vm(this)}function Fm(e,t,n,i,r,a){if(function(e,t){if(e.A!==t){e.A=t;for(var n=(e=g(e.g)).next();!n.done;n=e.next())(n=n.value)&&Jo(n,t)}}(e,r),e.F=a,e.h){if(e.h.wd!==t.wd&&(e.h.timeline=t.timeline,e.h.wd=t.wd,e.h.Pb=t.Pb),e.h.jc!==t.jc&&(e.h.jc=t.jc),(n=e.h.timeline).length){var o=n[n.length-1];t=t.timeline.filter(function(e){return e.end>o.end})}else t=t.timeline.slice();t.length>0&&e.h.timeline.push.apply(e.h.timeline,m(t)),e.l!==i&&(e.l=i)}else e.h=t,e.j=n,e.l=i;Vm(e)}function Vm(e){if(e.h&&!e.u){for(var t=[],n=g(e.h.timeline),i=n.next();!i.done;i=n.next())(i=i.value).start>=e.l||i.end<=0||t.push(i);e.h.timeline=t,e.cb(e.j)}}function Gm(e,t,n,i,r,a,o,s){return e=gm(e,t,n,a,i||null,r),Qe(o(),[e],s()).map(function(e){return e.toString()})}function Hm(e){this.u=null,this.C=e,this.H=new Yr,this.i=[],this.h=null,this.m=[],this.D=null,this.G=[],this.F=300,this.l=new Map,this.j=new Map,this.g=null,this.A="UNKNOWN"}function zm(e,t){var n,i,r,a,o,s,u;return D(function(l){return 1==l.g?(n=Qe(e.i,[Km(e,t)]),i=ea(n,e.u.retryParameters),r=e.C.networkingEngine.request(8,i),Zr(e.H,r),w(l,2),T(l,r.promise,4)):2!=l.g?(a=l.h,o=Ue(a.data),1==(s=JSON.parse(o)).VERSION&&function(e,t,n){null!=e.g&&(e.g.stop(),e.g=null);var i=t["RELOAD-URI"]||n;e.g=new Wi(function(){zm(e,i)}),(n=t.TTL)&&(e.F=n);e.g.Y(e.F),e.m=t["PATHWAY-PRIORITY"]||[],e.G=t["PATHWAY-CLONES"]||[]}(e,s,a.uri),S(l,0)):(u=E(l))&&7001==u.code?l.return():(null!=e.g&&(e.g.stop(),e.g=null),e.g=new Wi(function(){zm(e,t)}),e.g.Y(e.F),void C(l))})}function Km(e,t){if(!e.m.length)return t;t=new ae(t);var n=e.D||e.m[0],i=Math.round(e.C.getBandwidthEstimate()),r=t.g;return"DASH"==e.A?(r.add("_DASH_pathway",n),r.add("_DASH_throughput",String(i))):"HLS"==e.A&&(r.add("_HLS_pathway",n),r.add("_HLS_throughput",String(i))),be(r)&&le(t,r),t.toString()}function Wm(e,t,n,i){var r=e.l.get(t);r||(r=new Map),r.set(n,i),e.l.set(t,r)}function Xm(e,t,n){n=void 0!==n&&n,t=e.l.get(t)||new Map;for(var i=[],r=g(e.m),a=r.next(),o={};!a.done;o={Rd:void 0},a=r.next())if(o.Rd=a.value,a=t.get(o.Rd))i.push({Ph:o.Rd,location:a});else if(a=e.G.find(function(e){return function(t){return t.Zm==e.Rd}}(o))){var s=t.get(a["BASE-ID"]);s&&(a["URI-REPLACEMENT"].ik?(se(s=new ae(s),a["URI-REPLACEMENT"].ik),i.push({Ph:o.Rd,location:s.toString()})):i.push({Ph:o.Rd,location:s}))}for(r=Date.now(),a=(o=g(e.j.keys())).next();!a.done;a=o.next())a=a.value,r>(s=e.j.get(a))&&e.j.delete(a);if(i=i.filter(function(t){for(var n=g(e.j.keys()),i=n.next();!i.done;i=n.next())if(i.value.includes(new ae(t.location).Ib))return!1;return!0}),i.length&&(e.D=i[0].Ph),i=i.map(function(e){return e.location}),!i.length&&e.h)for(o=(r=g(e.h.split(","))).next();!o.done;o=r.next())(o=t.get(o.value))&&(e.D=e.h,i.push(o));if(!i.length)for(r=(t=g(t.values())).next();!r.done;r=t.next())i.push(r.value);return n?i:Qe(e.i,i)}function Ym(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.u=!1,this.m=new Set}function Zm(e,t){for(var n=[],i=[],r=[],a=[],o=(e=g(e)).next();!o.done;o=e.next()){var s=o.value;o=new Map(s.audioStreams.map(function(e){return[wv(e),e]}));var u=new Map(s.videoStreams.map(function(e){return[Cv(e),e]})),l=new Map(s.textStreams.map(function(e){return[xv(e),e]}));if(s=new Map(s.imageStreams.map(function(e){return[Sv(e),e]})),t){var c=vv(it);l.set(xv(c),c),c=vv("image"),s.set(Sv(c),c)}n.push(o),i.push(u),r.push(l),a.push(s)}return{Gi:n,fk:i,Zj:r,ej:a}}function Qm(e){var t,n,i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A,b,C,w,x,S,E,k,I,M,L,R;return D(function(P){switch(P.g){case 1:if(t=rt,1==e.length)return P.return(e[0]);for(n=e.map(function(e){return new Map(e.filter(function(e){return e.type===t.na}).map(function(e){return[wv(e),e]}))}),i=e.map(function(e){return new Map(e.filter(function(e){return e.type===t.Ha}).map(function(e){return[Cv(e),e]}))}),r=e.map(function(e){return new Map(e.filter(function(e){return e.type===t.Va}).map(function(e){return[xv(e),e]}))}),a=e.map(function(e){return new Map(e.filter(function(e){return e.type===t.yg}).map(function(e){return[Sv(e),e]}))}),o=g(r),s=o.next();!s.done;s=o.next())u=s.value,l=mv(t.Va),u.set(xv(l),l);for(c=g(a),d=c.next();!d.done;d=c.next())h=d.value,p=mv(t.yg),h.set(Sv(p),p);return T(P,Jm(f=new Ym,[],n,0,iv,av,0),2);case 2:return m=P.h,T(P,Jm(f,[],i,0,iv,av,0),3);case 3:return v=P.h,T(P,Jm(f,[],r,0,iv,av,0),4);case 4:return y=P.h,T(P,Jm(f,[],a,0,iv,av,0),5);case 5:if(A=P.h,b=0,v.length&&m.length)for(S=g(m),E=S.next();!E.done;E=S.next())for(k=E.value,I=g(v),M=I.next();!M.done;M=I.next())L=M.value,R=b++,L.variantIds.push(R),k.variantIds.push(R);else for(C=v.concat(m),w=g(C),x=w.next();!x.done;x=w.next())x.value.variantIds=[b++];return P.return(v.concat(m).concat(y).concat(A))}})}function Jm(e,t,n,i,r,a,o){var s,u,l,c,d,h,p,f,m,v,y,A,b,C,w,x,S,E;return D(function(k){switch(k.g){case 1:for(s=[],u=0;u<n.length;u++)u>=i?s.push(new Set(n[u].values())):s.push(new Set);l=g(t),c=l.next();case 2:if(c.done){k.B(4);break}return d=c.value,T(k,function(e,t,n,i,r,a,o){return D(function(s){return 1==s.g?(ov(e,n,t,o>0),t.matchedStreams?t.segmentIndex?T(s,$m(t,i+o),2):s.B(2):s.return(!1)):(tv(t,i,r,a,o),s.return(!0))})}(e,d,n,i,a,s,o),5);case 5:if(!k.h)throw new Ie(2,4,4037);c=l.next(),k.B(2);break;case 4:for(h=g(s),p=h.next();!p.done;p=h.next())for(f=p.value,m=g(f),v=m.next();!v.done;v=m.next())y=v.value,(A=ev(e,t,y,n,r,a,s))&&t.push(A);for(b=g(s),C=b.next();!C.done;C=b.next())for(w=C.value,x=g(w),S=x.next(),E={};!S.done;E={ki:void 0},S=x.next())if(E.ki=S.value,!Tv(E.ki)&&t.some(function(e){return function(t){return lv(e.ki,t)}}(E)))throw new Ie(2,4,4037);return k.return(t)}})}function $m(e,t){var n,i,r,a,o,s;return D(function(u){if(1==u.g){for(n=[],i=e.matchedStreams,r=t;r<i.length;r++)a=i[r],n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex()),a.dependencyStream&&!a.dependencyStream.segmentIndex&&n.push(a.dependencyStream.createSegmentIndex());return T(u,Promise.all(n),2)}if(e.segmentIndex instanceof Xu)for(o=t;o<i.length;o++)(s=i[o]).segmentIndex&&e.segmentIndex.h.push(s.segmentIndex);C(u)})}function ev(e,t,n,i,r,a,o){if(Tv(n))return null;var s=r(n);return ov(e,i,s),s.createSegmentIndex&&(s.createSegmentIndex=function(){return D(function(e){return s.segmentIndex?e.B(0):(s.segmentIndex=new Xu,T(e,$m(s,0),0))})},s.closeSegmentIndex=function(){if(s.segmentIndex&&(s.segmentIndex.release(),s.segmentIndex=null),s.matchedStreams)for(var e=g(s.matchedStreams),n=e.next();!n.done;n=e.next()){var i;if(i=(n=n.value).segmentIndex){e:{for(var r=(i=g(t)).next();!r.done;r=i.next())if((r=r.value)!==s&&r.segmentIndex&&r.matchedStreams&&r.matchedStreams.includes(n)){i=!0;break e}i=!1}i=!i}i&&(n.segmentIndex.release(),n.segmentIndex=null)}}),s.matchedStreams&&s.matchedStreams.length?(tv(s,0,a,o,0),s):null}function tv(e,t,n,i,r){var a=e.matchedStreams;for(t+=r;t<a.length;t++){var o=a[t];n(e,o);var s=!0;if("audio"==e.type&&0==pt(e.language,o.language)&&(s=!1),s&&((s=i[t-r])&&s.delete(o),o.fullMimeTypes))for(s=(o=g(o.fullMimeTypes.values())).next();!s.done;s=o.next())e.fullMimeTypes.add(s.value)}}function nv(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){},t.roles=t.roles.slice(),t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set(e.keyIds),t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t.trickModeVideo=null,t.dependencyStream=null,t}function iv(e){var t=Object.assign({},e);return t.roles=t.roles.slice(),t.keyIds=new Set(e.keyIds),t.segments=[],t.variantIds=[],t.closedCaptions=e.closedCaptions?new Map(e.closedCaptions):null,t}function rv(e,t){function n(e,t){e||(e=[]);for(var n=(t=g(t)).next();!n.done;n=t.next())n=n.value,e.includes(n)||e.push(n);return e}e.roles=n(e.roles,t.roles),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=n(e.emsgSchemeIdUris,t.emsgSchemeIdUris));for(var i=g(t.keyIds),r=i.next();!r.done;r=i.next())e.keyIds.add(r.value);if(null==e.originalId?e.originalId=t.originalId:(i=t.originalId||"")&&!e.originalId.endsWith(i)&&(e.originalId+=","+i),i=Dr(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!i.length)throw new Ie(2,4,4038);if(e.drmInfos=i,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),r=(i=g(t.closedCaptions)).next();!r.done;r=i.next()){var a=g(r.value);r=a.next().value,a=a.next().value,e.closedCaptions.set(r,a)}e.bandwidth&&t.bandwidth&&(e.bandwidth=Math.max(e.bandwidth,t.bandwidth)),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=nv(t.trickModeVideo),e.trickModeVideo.matchedStreams=[],e.trickModeVideo.createSegmentIndex=function(){if(e.trickModeVideo.segmentIndex)return Promise.resolve();for(var t=new Xu,n=g(e.trickModeVideo.matchedStreams),i=n.next();!i.done;i=n.next())t.h.push(i.value.segmentIndex);return e.trickModeVideo.segmentIndex=t,Promise.resolve()}),e.trickModeVideo.matchedStreams.push(t.trickModeVideo),rv(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&(e.trickModeVideo.matchedStreams.push(t),rv(e.trickModeVideo,t)),t.dependencyStream?(e.dependencyStream||(e.dependencyStream=nv(t.dependencyStream),e.dependencyStream.matchedStreams=[],e.dependencyStream.createSegmentIndex=function(){if(e.dependencyStream.segmentIndex)return Promise.resolve();for(var t=new Xu,n=g(e.dependencyStream.matchedStreams),i=n.next();!i.done;i=n.next())t.h.push(i.value.segmentIndex);return e.dependencyStream.segmentIndex=t,Promise.resolve()}),e.dependencyStream.matchedStreams.push(t.dependencyStream),rv(e.dependencyStream,t.dependencyStream)):e.dependencyStream&&(e.dependencyStream.matchedStreams.push(t),rv(e.dependencyStream,t))}function av(e,t){var n=e.roles;n||(n=[]);for(var i=g(t.roles),r=i.next();!r.done;r=i.next())r=r.value,n.includes(r)||n.push(r);for(e.roles=n,i=(n=g(t.keyIds)).next();!i.done;i=n.next())e.keyIds.add(i.value);if(e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,m(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),n=(t=g(t.closedCaptions)).next();!n.done;n=t.next())n=(i=g(n.value)).next().value,i=i.next().value,e.closedCaptions.set(n,i)}function ov(e,t,n,i){i=void 0!==i&&i?n.matchedStreams:[];for(var r=(t=g(t)).next();!r.done;r=t.next()){if(!(r=sv(e,r.value,n)))return;i.push(r)}n.matchedStreams=i}function sv(e,t,n){var i={audio:wv,video:Cv,text:xv,image:Sv}[n.type],r=null,a=i(n);if(t.has(a))r=t.get(a);else{a={audio:function(e,t){return lv(e,t)},video:function(e,t){return lv(e,t)},text:cv,image:dv}[n.type];for(var o={audio:hv,video:pv,text:fv,image:gv}[n.type],s=g(t.values()),u=s.next();!u.done;u=s.next())!a(n,u=u.value)||n.fastSwitching!=u.fastSwitching||r&&!o(n,r,u)||(r=u)}return e.u&&!Tv(r)&&t.delete(i(r)),r}function uv(e,t){return e.mimeType==t.mimeType&&kv(e.codecs)===kv(t.codecs)}function lv(e,t){return!(e.drmInfos&&!Pr(e.drmInfos,t.drmInfos))}function cv(e,t){return!t.language||e.forced===t.forced&&0!=pt(e.language,t.language)&&t.kind==e.kind}function dv(){return!0}function hv(e,t,n){var i=Av(e,t,n);if(i===Iv)return!0;if(i===Lv)return!1;i=pt(e.language,t.language);var r=pt(e.language,n.language);if(r>i)return!0;if(r<i)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(i=t.roles.filter(function(t){return e.roles.includes(t)}),(r=n.roles.filter(function(t){return e.roles.includes(t)})).length>i.length)return!0;if(r.length<i.length)return!1;if(n.roles.length!==t.roles.length)return n.roles.length<t.roles.length}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&((i=yv(e.channelsCount,t.channelsCount,n.channelsCount))==Iv||i!=Lv&&((i=yv(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==Iv||i!=Lv&&!(!e.bandwidth||bv(e.bandwidth,t.bandwidth,n.bandwidth)!=Iv)))}function pv(e,t,n){var i=Av(e,t,n);if(i===Iv)return!0;if(i===Lv)return!1;if((i=yv(e.width*e.height,t.width*t.height,n.width*n.height))==Iv)return!0;if(i==Lv)return!1;if(e.frameRate){if((i=yv(e.frameRate,t.frameRate,n.frameRate))==Iv)return!0;if(i==Lv)return!1}return!(!e.bandwidth||bv(e.bandwidth,t.bandwidth,n.bandwidth)!=Iv)}function fv(e,t,n){var i=pt(e.language,t.language),r=pt(e.language,n.language);if(r>i)return!0;if(r<i)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(t.label!==n.label){if(e.label===t.label)return!1;if(e.label===n.label)return!0}if(e.roles.length){if(i=t.roles.filter(function(t){return e.roles.includes(t)}),(r=n.roles.filter(function(t){return e.roles.includes(t)})).length>i.length)return!0;if(r.length<i.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function gv(e,t,n){return yv(e.width*e.height,t.width*t.height,n.width*n.height)==Iv}function mv(e){return{id:0,originalId:"",groupId:null,primary:!1,type:e,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1,baseOriginalId:null}}function vv(e){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Hu([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:e,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}}function yv(e,t,n){if(t==e&&e!=n)return Lv;if(n==e&&e!=t)return Iv;if(t>e){if(n<=e||n-e<t-e)return Iv;if(n-e>t-e)return Lv}else{if(n>e)return Lv;if(e-n<e-t)return Iv;if(e-n>e-t)return Lv}return Mv}function Av(e,t,n){var i=e.mimeType===t.mimeType&&e.codecs===t.codecs,r=e.mimeType===n.mimeType&&e.codecs===n.codecs;return i&&!r?Lv:!i&&r?Iv:(t=uv(e,t),e=uv(e,n),t&&!e?Lv:!t&&e?Iv:Mv)}function bv(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?Iv:t<e?Lv:Mv}function Tv(e){switch(e.type){case it:return!e.language;case"image":return!e.tilesLayout;default:return!1}}function Cv(e){return Ev([e.fastSwitching,e.width,e.frameRate,e.codecs,e.mimeType,e.label,e.roles,e.closedCaptions?Array.from(e.closedCaptions.entries()):null,e.bandwidth,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function wv(e){return Ev([e.fastSwitching,e.channelsCount,e.language,e.bandwidth,e.label,e.codecs,e.mimeType,e.roles,e.audioSamplingRate,e.primary,e.dependencyStream?e.dependencyStream.baseOriginalId:null,Array.from(e.keyIds)])}function xv(e){return Ev([e.language,e.label,e.codecs,e.mimeType,e.bandwidth,e.roles])}function Sv(e){return Ev([e.width,e.codecs,e.mimeType])}function Ev(e){return JSON.stringify(e)}function kv(e){if(!Rv.has(e)){var t=Ri(e);Rv.set(e,t)}return Rv.get(e)}p(qm,Hu),(r=qm.prototype).getNumReferences=function(){return this.h?this.h.timeline.length:0},r.release=function(){Hu.prototype.release.call(this),this.h=null},r.cb=function(e){if(this.h){for(var t=0,n=this.h.timeline,i=0;i<n.length&&n[i].end+this.j<=e;i+=1)t+=1;t>0&&(this.h.timeline=n.slice(t),this.g.length>=t&&(this.g=this.g.slice(t)),this.i+=t,0===this.getNumReferences()&&this.release())}},r.find=function(e){if(this.h&&this.h.timeline&&this.h.timeline.length&&e<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var t=this.h.timeline;if(e<this.j||e>=this.l)return null;for(var n=t.length-1,i=0;i<t.length;i++){var r=t[i],a=r.start+this.j;if(r=i<n?t[i+1].start+this.j:this.l===1/0?r.end+this.j:this.l,e>=a&&e<r)return i+this.i}return null},r.get=function(e){var t=this;if((e-=this.i)<0||e>=this.getNumReferences()||!this.h)return null;var n=this.g[e];if(!n){var i=(n=this.h.timeline[e]).om,r=n.wi+this.h.wd,a=this.j-this.h.Pb,o=this.j+n.end,s=o;e===this.getNumReferences()-1&&this.l!==1/0&&(s=this.F&&Math.abs(s-this.l)>.1?Math.min(s,this.l):this.l);var u=this.h.codecs,l=this.h.mimeType,c=this.h.bandwidth,d=[],h=!1;if(n.Ec&&this.h&&this.h.jc&&(h=this.h.jc.includes("$SubNumber$")),h){h=(n.end-n.start)/n.Ec;for(var p={},f=0;f<n.Ec;p={sg:void 0,Uj:void 0},f++){var g=n.start+h*f,m=g+h;p.Uj=f,p.sg=null,(p=new Zo(this.j+g,this.j+m,function(e){return function(){return t.h?(null==e.sg&&(e.sg=Gm(t.h.jc,t.H,i,t.D,r,e.Uj,t.G,t.J)),e.sg):[]}}(p),0,null,this.A,a,this.j,this.l,[],"",null,null,$o,this.C)).codecs=u,p.mimeType=l,p.bandwidth=c,0==this.I?f>0&&p.Nd():f%this.I!=0&&p.Nd(),d.push(p)}}(n=new Zo(this.j+n.start,s,function(){return d.length>0||!t.h?[]:Gm(t.h.jc,t.H,i,t.D,r,null,t.G,t.J)},0,null,this.A,a,this.j,this.l,d,"",null,null,$o,this.C,d.length>0)).codecs=u,n.mimeType=l,n.j=o,n.bandwidth=c,this.g[e]=n}return n},r.Kb=function(e){Vm(this);for(var t=0;t<this.getNumReferences();t++){var n=this.get(t+this.i);n&&e(n)}},r.pf=function(){return this.K},Hm.prototype.configure=function(e){this.u=e},Hm.prototype.destroy=function(){return this.C=this.u=null,this.i=[],this.h=null,this.m=[],this.G=[],this.l.clear(),null!=this.g&&(this.g.stop(),this.g=null),this.H.destroy()},Hm.prototype.setManifestType=function(e){this.A=e},Hm.prototype.banLocation=function(e){this.j.set(e,Date.now()+6e4)},(r=Ym.prototype).release=function(){for(var e=g(this.h.concat(this.g,this.j,this.i)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.u=!1,this.m.clear()},r.wl=function(){return this.l},r.uh=function(){return this.j.slice()},r.Ok=function(){return this.i},r.Qi=function(e,t){if(e){if("audio"==e.type)for(var n=g(this.h),i=n.next();!i.done;i=n.next())(i=i.value).matchedStreams=i.matchedStreams.filter(function(t){return t!==e});else if("video"==e.type)for(i=(n=g(this.g)).next();!i.done;i=n.next())(i=i.value).matchedStreams=i.matchedStreams.filter(function(t){return t!==e}),i.trickModeVideo&&(i.trickModeVideo.matchedStreams=i.trickModeVideo.matchedStreams.filter(function(t){return t!==e})),i.dependencyStream&&(i.dependencyStream.matchedStreams=i.dependencyStream.matchedStreams.filter(function(t){return t!==e}));else if(e.type==it)for(i=(n=g(this.j)).next();!i.done;i=n.next())(i=i.value).matchedStreams=i.matchedStreams.filter(function(t){return t!==e});else if("image"==e.type)for(i=(n=g(this.i)).next();!i.done;i=n.next())(i=i.value).matchedStreams=i.matchedStreams.filter(function(t){return t!==e});e.segmentIndex&&e.closeSegmentIndex(),this.m.delete(t)}},r.Og=function(e,t,n){n=void 0!==n&&n;var i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A,b,w,x,S,E,k,I,M,L,R,P,O,N,U,B,_,j=this;return D(function(D){if(1==D.g){if(i=rt,!t&&1==e.length)return r=Zm(e,!1),a=r.Gi,o=r.fk,s=r.Zj,u=r.ej,j.h=Array.from(a[0].values()),j.g=Array.from(o[0].values()),j.j=Array.from(s[0].values()),j.i=Array.from(u[0].values()),D.B(2);for(l=n?j.m.size:0,c=-1,d=0;d<e.length;d++)h=e[d],j.m.has(h.id)||(j.m.add(h.id),-1==c&&(c=d));return-1==c?D.return():(p=Zm(e,!0),f=p.Gi,m=p.fk,v=p.Zj,y=p.ej,T(D,Promise.all([Jm(j,j.h,f,c,nv,rv,l),Jm(j,j.g,m,c,nv,rv,l),Jm(j,j.j,v,c,nv,rv,l),Jm(j,j.i,y,c,nv,rv,l)]),2))}if(A=0,b=[],j.g.length&&j.h.length)for(M=g(j.h),L=M.next();!L.done;L=M.next())for(R=L.value,P=g(j.g),O=P.next();!O.done;O=P.next())N=O.value,U=Dr(R.drmInfos,N.drmInfos),R.drmInfos.length&&N.drmInfos.length&&!U.length||(B=(R.bandwidth||0)+(N.bandwidth||0),R.dependencyStream&&(B+=R.dependencyStream.bandwidth||0),N.dependencyStream&&(B+=N.dependencyStream.bandwidth||0),_=A++,b.push({id:_,language:R.language,disabledUntilTime:0,primary:R.primary,audio:R,video:N,bandwidth:B,drmInfos:U,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(w=j.g.length?j.g:j.h,x=g(w),S=x.next();!S.done;S=x.next())E=S.value,k=A++,I=E.bandwidth||0,E.dependencyStream&&(I+=E.dependencyStream.bandwidth||0),b.push({id:k,language:E.language,disabledUntilTime:0,primary:E.primary,audio:E.type==i.na?E:null,video:E.type==i.Ha?E:null,bandwidth:I,drmInfos:E.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});j.l=b,C(D)})},r.Oj=function(e){this.u=e},G("shaka.util.PeriodCombiner",Ym),Ym.prototype.setUseStreamOnce=Ym.prototype.Oj,Ym.prototype.combinePeriods=Ym.prototype.Og,Ym.prototype.deleteStream=Ym.prototype.Qi,Ym.prototype.getImageStreams=Ym.prototype.Ok,Ym.prototype.getTextStreams=Ym.prototype.uh,Ym.prototype.getVariants=Ym.prototype.wl;var Iv=1,Mv=0,Lv=-1,Rv=new Map;function Pv(e,t){try{return function(e,t){var n=new DOMParser,i=Dv.value()(e);e=null;try{e=n.parseFromString(i,"text/xml")}catch(e){return null}if(!(n=e.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;if(!("createNodeIterator"in document))return n;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}(_e(e),t)}catch(e){return null}}var Dv=new Le(function(){if("undefined"!=typeof trustedTypes){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(e){return e}});return function(t){return e.createHTML(t)}}return function(e){return e}});function Ov(){var e=this;this.j=this.g=null,this.C=[],this.h=null,this.Ca=1,this.H=[],this.l={Of:"",type:"",profiles:[],Bc:null,zb:0,mb:null,Fe:0},this.A=new Map,this.D=new Map,this.u=new Map,this.F=new Map,this.sa=new Map,this.m=new Ym,this.K=0,this.ya=new Ct(5),this.L=new Wi(function(){e.J&&!e.g.continueLoadingWhenPaused&&(e.I.Fa(e.J,"timeupdate"),e.J.paused)?e.I.ua(e.J,"timeupdate",function(){return Yv(e)}):Yv(e)}),this.P=new Yr,this.O=null,this.G=[],this.Z=1/0,this.oa=!1,this.i=null,this.M=0,this.R=!1,this.I=new Mt,this.J=null,this.S=!1,this.W="",this.ea=function(){return!1},this.V=[],this.aa=new Set,this.ra=new cm}function Nv(e){var t,n,i,r,a,o,s,u,l,c,d;return D(function(h){return 1==h.g?(t=4,n="MPD",i=function(e){var t=e.l.Fe;if(!e.l.Of||!t||!e.H.length)return[];var n=Date.now()/1e3,i=e.H.filter(function(e){return!(e=On(e.attributes.ttl))||t+e>n}).map(Tn).filter(Zi);return i.length?Qe(e.C,i):[]}(e),r=e.C,i.length?(r=i,n="Patch",t=6):e.C.length>1&&e.i&&((a=Xm(e.i,"Location",!0)).length&&(r=a)),o=ea(r,e.g.retryParameters),s=Date.now(),T(h,ny(e,o,0,{type:t}),2)):3!=h.g?(u=h.h,e.j?(u.uri&&u.uri!=u.originalUri&&!e.C.includes(u.uri)&&e.C.unshift(u.uri),l=new ae(u.uri),e.W=l.g.toString(),T(h,function(e,t,n,i){var r,a,o,s,u,l,c,d;return D(function(h){if(1==h.g){if(r=t,(a=e.g.dash.manifestPreprocessor)!=fc){if(Dt("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),!(o=Pv(r,i)))throw new Ie(2,4,4001,n);a(o),r=je(o.outerHTML)}if(!(s=fn(r,i)))throw new Ie(2,4,4001,n);return(u=e.g.dash.manifestPreprocessorTXml)!=gc&&u(s),"Patch"===i?h.return(function(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,f,v,y,A,b,w,x,S,E,k,I,M;return D(function(L){if(1==L.g){if(n=t.attributes.mpdId,i=Sn(t,"originalPublishTime",Mn),!n||n!==e.l.Of||i!==e.l.Fe)throw e.H=[],new Ie(1,4,4052);for(r=[],a=[],o=new Set,s=g(yn(t)),u=s.next();!u.done;u=s.next())if(l=u.value,c=_n(l.attributes.sel||""),d=c[c.length-1],h=Tn(l)||"","MPD"===d.name)if("mediaPresentationDuration"===d.Lc){var R=Ln(Tn(l)||"");if(null!=R){e.l.Bc=R;for(var P=g(e.A.values()),D=P.next();!D.done;D=P.next())D.value.Bc=R}}else if("type"===d.Lc){for(e.h.presentationTimeline.sd("static"==h),e.l.type=h,P=(R=g(e.A.values())).next();!P.done;P=R.next())P.value.Jb="dynamic"==h;"static"==h&&(e.K=-1)}else"publishTime"===d.Lc?e.l.Fe=Mn(h)||0:null===d.Lc&&"add"===l.tagName&&a.push(l);else if("PatchLocation"===d.name)jn(e.H,l);else if("Period"===d.name)"add"===l.tagName?a.push(l):"remove"===l.tagName&&d.id&&jv(e,d.id);else if("SegmentTemplate"===d.name){if((R=(P=_n(l.attributes.sel||""))[P.length-1]).Lc){P=qv(e,P),D=Tn(l)||"";for(var O=g(P),N=O.next();!N.done;N=O.next())Fn((N=e.A.get(N.value)).N.Zc,l.tagName,R.Lc,D);R=P}else R=[];for(p=g(R),f=p.next();!f.done;f=p.next())v=f.value,o.add(v)}else if("SegmentTimeline"===d.name||"S"===d.name){for(R=_n(l.attributes.sel||""),D=(P=g(R=qv(e,R))).next();!D.done;D=P.next())jn(O=An(D=Am(D=e.A.get(D.value),jm,"SegmentTimeline"),"S"),l),D.children=O;for(y=g(R),A=y.next();!A.done;A=y.next())b=A.value,o.add(b)}for(w=g(o),x=w.next();!x.done;x=w.next())S=x.value,Fv(e,S);for(E=g(a),k=E.next();!k.done;k=E.next())I=k.value,r.push.apply(r,m(_v(e,I)));return r.length?(e.h.periodCount+=r.length,e.h.gapCount=e.M,T(L,Bv(e,r,!0),2)):L.B(2)}"static"==e.l.type&&(M=e.l.Bc,e.h.presentationTimeline.Fb(M||1/0)),C(L)})}(e,s)):e.g.dash.disableXlinkProcessing?h.return(Uv(e,s,n)):(l=e.g.dash.xlinkFailGracefully,c=bm(s,e.g.retryParameters,l,n,e.j.networkingEngine),Zr(e.P,c),T(h,c.promise,2))}return d=h.h,h.return(Uv(e,d,n))})}(e,u.data,u.uri,n),3)):h.return(0)):(c=Date.now(),d=(c-s)/1e3,e.ya.sample(1,d),e.aa.clear(),h.return(d))})}function Uv(e,t,n){var i,r,a,o,s,u,l,c,d,h,p,f,v,y,A,b,x,k,I,M,L,R,P,O,N,U,B,_,j,q,F,V,G,H,z,K,W,X,Z,Q,J,$,ee,te,ne,ie,re,ae,oe,se,ue,le,ce,de;return D(function(he){switch(he.g){case 1:for(e.i&&e.i.l.clear(),i=[n],r=[],a=new Map,o=An(t,"Location"),s=g(o),u=s.next();!u.done;u=s.next())l=u.value,c=l.attributes.serviceLocation,(d=Tn(l))&&(h=Qe(i,[d])[0],c&&(e.i?Wm(e.i,"Location",c,h):a.set(c,h)),r.push(h));if(e.i?(p=Xm(e.i,"Location",!0)).length>0&&(i=e.C=p):r.length&&(i=e.C=r),e.l.Of=t.attributes.id||"",e.l.Fe=Sn(t,"publishTime",Mn)||0,e.H=An(t,"PatchLocation"),f=Promise.resolve(),(v=wn(t,"ContentSteering"))&&e.j)for(y=v.attributes.defaultServiceLocation,e.i?(e.i.i=i,e.i.h=y):(e.i=new Hm(e.j),e.i.configure(e.g),e.i.setManifestType("DASH"),e.i.i=i,e.i.h=y,(A=Tn(v))&&(Sn(v,"queryBeforeStart",Un,!1)?f=zm(e.i,A):zm(e.i,A))),b=g(a.keys()),x=b.next();!x.done;x=b.next())k=x.value,I=a.get(k),Wm(e.i,"Location",k,I);if(M=An(t,"BaseURL"),L=!1,e.i)for(R=g(M),P=R.next();!P.done;P=R.next())O=P.value,N=O.attributes.serviceLocation,U=Tn(O),N&&U&&(Wm(e.i,"BaseURL",N,U),L=!0);if(e.V.splice(0),L&&e.i||(B=M.map(Tn),e.V.push.apply(e.V,m(Qe(i,B)))),_=e.i,j=e.V,q=function(){return _&&L?Xm(_,"BaseURL"):j.slice()},e.l.mb=q,F=0,M&&M.length&&(F=Sn(M[0],"availabilityTimeOffset",Nn)||0),e.l.zb=F,e.K=Sn(t,"minimumUpdatePeriod",Ln,-1),V=Sn(t,"availabilityStartTime",Mn),G=Sn(t,"timeShiftBufferDepth",Ln),H=e.g.dash.ignoreSuggestedPresentationDelay,z=null,H||(z=Sn(t,"suggestedPresentationDelay",Ln)),K=e.g.dash.ignoreMaxSegmentDuration,W=null,K||(W=Sn(t,"maxSegmentDuration",Ln)),X=t.attributes.type||"static",e.h&&e.h.presentationTimeline&&(e.S=e.h.presentationTimeline.U()&&"static"==X),e.l.type=X,e.h)for(Z=e.h.presentationTimeline,Q=Z.Mb(),J=g(e.u.values()),$=J.next();!$.done;$=J.next())(ee=$.value).segmentIndex&&ee.segmentIndex.cb(Q);else te=e.g.dash.ignoreMinBufferTime,ne=0,te||(ne=Sn(t,"minBufferTime",Ln)||0),0,ie=null!=z?Math.min(z,G||1/0):e.g.defaultPresentationDelay>0?e.g.defaultPresentationDelay:Math.min(1.5*ne,G||1/0),Z=new Tu(V,ie,e.g.dash.autoCorrectDrift);return Z.sd("static"==X),Z.U()&&!isNaN(e.g.availabilityWindowOverride)&&(G=e.g.availabilityWindowOverride),null==G&&(G=1/0),Z.hg(G),re=t.attributes.profiles||"",e.l.profiles=re.split(","),ae={Jb:"static"!=X,presentationTimeline:Z,Aa:null,qa:null,va:null,N:null,bandwidth:0,Bh:!1,zb:F,Bc:null,profiles:re.split(","),roles:null,Rb:function(){return""}},T(he,f,2);case 2:return e.M=0,oe=Hv(e,ae,q,t,!1),se=oe.duration,ue=oe.periods,("static"!=X||e.S)&&oe.Si||Z.Fb(se||1/0),e.R&&e.oa&&Z.Jj(e.Z),Z.Kh(W||1),e.R&&e.oa&&(le=null!=z?z:e.g.defaultPresentationDelay,Z.bi(le)),e.h?(e.h.periodCount=ue.length,e.h.gapCount=e.M,T(he,Bv(e,ue,!1),4)):T(he,e.m.Og(ue,ae.Jb),6);case 6:if(e.h={presentationTimeline:Z,variants:e.m.l,textStreams:e.m.uh(),imageStreams:e.m.i,offlineSessionIds:[],sequenceMode:e.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:Vv(t),nextUrl:Gv(t),periodCount:ue.length,gapCount:e.M,isLowLatency:e.R,startTime:null},!Z.dk()){he.B(7);break}return ce=An(t,"UTCTiming"),T(he,function(e,t,n){var i,r,a,o,s,u,l,c;return D(function(d){switch(d.g){case 1:i=n.map(function(e){return{scheme:e.attributes.schemeIdUri,value:e.attributes.value}}),r=e.g.dash.clockSyncUri,!i.length&&r&&i.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),a=g(i),o=a.next();case 2:if(o.done){d.B(4);break}switch(s=o.value,w(d,5),u=s.scheme,l=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return d.B(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return d.B(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return c=Date.parse(l),d.return(isNaN(c)?0:c-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":Y("NTP UTCTiming scheme is not supported");break;default:Y("Unrecognized scheme in UTCTiming element",u)}d.B(9);break;case 7:return T(d,Jv(e,t,l,"HEAD"),10);case 10:return d.return(d.h);case 8:return T(d,Jv(e,t,l,"GET"),11);case 11:return d.return(d.h);case 9:S(d,3);break;case 5:E(d);case 3:o=a.next(),d.B(2);break;case 4:return Y("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),d.return(0)}})}(e,q,ce),8);case 8:if(de=he.h,!e.j)return he.return();Z.Kj(de);case 7:Z.Kf(),e.m&&!e.h.presentationTimeline.U()&&e.m.release();case 4:e.j.makeTextStreamsForClosedCaptions(e.h),function(e){for(var t=Array.from(e.F.keys()).filter(function(t){return!e.G.includes(t)}),n=(t=g(t)).next();!n.done;n=t.next()){n=n.value;for(var i=!0,r=g(e.F.get(n)),a=r.next();!a.done;a=r.next()){a=a.value;var o=e.u.get(a);o&&(o.segmentIndex&&0!=o.segmentIndex.getNumReferences()?i=!1:(e.m&&e.m.Qi(o,n),e.u.delete(a)))}i&&e.F.delete(n)}}(e),function(e,t){t=new Set(t.map(function(e){return e.id}));for(var n=g(e.D.keys()),i=n.next();!i.done;i=n.next())i=i.value,t.has(i)||e.D.delete(i)}(e,ue),C(he)}})}function Bv(e,t,n){var i;return D(function(r){if(1==r.g)return T(r,e.m.Og(t,!0,n),2);e.h.variants=e.m.l,(i=e.m.uh()).length>0&&(e.h.textStreams=i),e.h.imageStreams=e.m.i,e.j.filter(e.h),C(r)})}function _v(e,t){return Hv(e,{Jb:"dynamic"==e.l.type,presentationTimeline:e.h.presentationTimeline,Aa:null,qa:null,va:null,N:null,bandwidth:0,Bh:!1,zb:e.l.zb,profiles:e.l.profiles,Bc:e.l.Bc,roles:null,Rb:function(){return""}},e.l.mb,t,!0).periods}function jv(e,t){e.h.periodCount--;for(var n=g(e.A.keys()),i=n.next();!i.done;i=n.next())if((i=i.value).startsWith(t)){Am(e.A.get(i),jm,"SegmentTimeline").children=[],Fv(e,i),e.A.delete(i)}e.G=e.G.filter(function(e){return e!==t})}function qv(e,t){for(var n="",i="",r=-1,a="",o=(t=g(t)).next();!o.done;o=t.next())"Period"===(o=o.value).name?n=o.id:"AdaptationSet"===o.name?(i=o.id,null!==o.position&&(r=o.position)):"Representation"===o.name&&(a=o.id);if(t=[],a)t.push(n+","+a);else if(i)for(r=g(e.A.values()),e=r.next();!e.done;e=r.next())(e=e.value).Aa.id===n&&e.va.id===i&&e.N.id&&t.push(n+","+e.N.id);else if(r>-1)for(i=g(e.A.values()),e=i.next();!e.done;e=i.next())(e=e.value).Aa.id===n&&e.va.position===r&&e.N.id&&t.push(n+","+e.N.id);return t}function Fv(e,t){var n=e.A.get(t),i=e.u.get(t);i.segmentIndex&&i.segmentIndex.cb(e.h.presentationTimeline.Mb());try{var r=_m(n,function(t,n,i,r){return ey(e,t,n,i,r)},e.u,!0,e.g.dash.initialSegmentLimit,e.sa,n.N.aesKey,null,!0,e.D);i.createSegmentIndex=function(){return D(function(e){if(1==e.g)return i.segmentIndex?e.B(0):T(e,r.gd(),3);i.segmentIndex=e.h,C(e)})}}catch(e){if((t=n.N.contentType)!=it&&"application"!=t&&"image"!=t||4002!=e.code)throw e}}function Vv(e){var t=wn(e,"ServiceDescription");if(!t)return null;if(e=wn(t,"Latency"),t=wn(t,"PlaybackRate"),!e&&!t)return null;var n={};return e&&("target"in e.attributes&&(n.targetLatency=parseInt(e.attributes.target,10)/1e3),"max"in e.attributes&&(n.maxLatency=parseInt(e.attributes.max,10)/1e3),"min"in e.attributes&&(n.minLatency=parseInt(e.attributes.min,10)/1e3)),t&&("max"in t.attributes&&(n.maxPlaybackRate=parseFloat(t.attributes.max)),"min"in t.attributes&&(n.minPlaybackRate=parseFloat(t.attributes.min))),n}function Gv(e){if(!(e=An(e,"SupplementalProperty")).length)return null;for(var t=(e=g(e)).next();!t.done;t=e.next())if("urn:mpeg:dash:chaining:2016"==(t=t.value).attributes.schemeIdUri)return t.attributes.value;return null}function Hv(e,t,n,i,r){var a=t.Bc;a||(a=Sn(i,"mediaPresentationDuration",Ln),e.l.Bc=a);var o=0;e.h&&e.h.presentationTimeline&&e.S&&(o=e.h.presentationTimeline.fc());var s=[],u=o;i=An(i,"Period");for(var l=0;l<i.length;l++){var c=i[l],d=i[l+1],h=Sn(c,"start",Ln,u),p=c.attributes.id,f=Sn(c,"duration",Ln);h=0==l&&0==h&&e.S?o:h;var m=null;if(d){var v=Sn(d,"start",Ln);null!=v&&(m=v-h+o)}else null!=a&&(m=a-h+o);if(v=at,m&&f&&Math.abs(m-f)>v&&m>f&&e.M++,null==m&&(m=f),!(null!==e.O&&null!==p&&null!==h&&h<e.O)||e.G.includes(p)||l+1==i.length){if(null!==h&&(null===e.O||h>e.O)&&(e.O=h),u=zv(e,t,n,{start:h,duration:m,node:c,Ef:null==m||!d}),s.push(u),t.Aa.id&&m&&e.sa.set(t.Aa.id,m),null==m){u=null;break}u=h+m}}if(r)for(n=(t=g(s)).next();!n.done;n=t.next())n=n.value.id,e.G.includes(n)||e.G.push(n);else e.G=s.map(function(e){return e.id});return null!=a?{periods:s,duration:a+o,Si:!1}:{periods:s,duration:u,Si:!0}}function zv(e,t,n,i){t.Aa=Qv(e,i.node,null,n),t.qa=i,t.Aa.zb=t.zb,t.Aa.id||(t.Aa.id="__shaka_period_"+i.start);var r=An(i.node,"EventStream");n=t.presentationTimeline.Mb();for(var a=(r=g(r)).next();!a.done;a=r.next())$v(e,i.start,i.duration,a.value,n);for(r=(n=g(n=An(i.node,"SupplementalProperty"))).next();!r.done;r=n.next())"urn:mpeg:dash:urlparam:2014"==(r=r.value).attributes.schemeIdUri&&(r=Xv(e,r))&&(t.Rb=r);if(n=An(i.node,"AdaptationSet").map(function(n,i){return Wv(e,t,i,n)}).filter(Zi),t.Jb){r=[];for(var o=(a=g(n)).next();!o.done;o=a.next())for(var s=(o=g(o.value.hm)).next();!s.done;s=o.next())r.push(s.value);if(r.length!=new Set(r).size)throw new Ie(2,4,4018)}for(r=new Map,o=(a=g(n)).next();!o.done;o=a.next())for(s=(o=g(o.value.xk)).next();!s.done;s=o.next()){var u=g(s.value);s=u.next().value,u=u.next().value,r.set(s,u)}if(r.size)for(a=null,s=(o=g(n)).next();!s.done;s=o.next()){u=[];for(var l=g((s=s.value).streams),c=l.next(),d={};!c.done;d={li:void 0},c=l.next())if(d.li=c.value,r.has(d.li.originalId)){a||(a=An(i.node,"AdaptationSet").map(function(n,i){return Wv(e,t,i,n)}).filter(Zi));for(var h=(c=g(a)).next();!h.done;h=c.next())(h=h.value.streams.find(function(e){return function(t){return t.originalId==e.li.originalId}}(d)))&&(h.dependencyStream=r.get(h.originalId),h.originalId+=h.dependencyStream.originalId,u.push(h))}u.length&&s.streams.push.apply(s.streams,m(u))}if(i=n.filter(function(e){return!e.ti}),n=n.filter(function(e){return e.ti}),!e.g.disableIFrames)for(r=(n=g(n)).next();!r.done;r=n.next())for(a=(r=r.value).ti.split(" "),s=(o=g(i)).next();!s.done;s=o.next())if(s=s.value,a.includes(s.id))for(u=(s=g(s.streams)).next();!u.done;u=s.next())br(u.value,r.streams);if(n=Kv(e.g.disableAudio,i,"audio"),r=Kv(e.g.disableVideo,i,"video"),a=Kv(e.g.disableText,i,it),i=Kv(e.g.disableThumbnails,i,"image"),0===r.length&&0===n.length)throw new Ie(2,4,4004);return{id:t.Aa.id,audioStreams:n,videoStreams:r,textStreams:a,imageStreams:i}}function Kv(e,t,n){return e||!t.length?[]:t.reduce(function(e,t){return t.contentType!=n||e.push.apply(e,m(t.streams)),e},[])}function Wv(t,n,i,r){function a(e){var i=e.attributes["dvb:fontFamily"];e=e.attributes["dvb:url"],i&&e&&(e=Qe(n.va.mb(),[e],n.Rb()),t.j.addFont(i,e[0]))}function o(e){switch(e){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function s(e){switch(e){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}n.va=Qv(t,r,n.Aa,null),n.va.position=i;var u=!1,l=(i=An(r,"Role")).map(function(e){return e.attributes.value}).filter(Zi),c=void 0,d=n.va.contentType==it;d&&(c="subtitle");for(var h=(i=g(i)).next();!h.done;h=i.next()){var p=(h=h.value).attributes.schemeIdUri;if(null==p||"urn:mpeg:dash:role:2011"==p)switch(h=h.attributes.value,h){case"main":u=!0;break;case"caption":case"subtitle":c=h}}var f=An(r,"EssentialProperty");i=null;var v=!1;h=null,p=!1;for(var y=(f=g(f)).next();!y.done;y=f.next()){var A=(y=y.value).attributes.schemeIdUri;if("http://dashif.org/guidelines/trickmode"==A)i=y.attributes.value;else if("urn:mpeg:mpegB:cicp:TransferCharacteristics"==A)var b=s(parseInt(y.attributes.value,10));else if("urn:mpeg:mpegB:cicp:ColourPrimaries"==A)var w=o(parseInt(y.attributes.value,10));else"urn:mpeg:mpegB:cicp:MatrixCoefficients"!=A&&("urn:mpeg:dash:ssr:2023"==A&&t.g.dash.enableFastSwitching?v=!0:"urn:dvb:dash:fontdownload:2014"==A?a(y):"urn:mpeg:dash:urlparam:2014"==A&&(h=Xv(t,y))||(p=!0))}if(p)return null;var x=null;for(f=(p=g(p=An(r,"SupplementalProperty"))).next();!f.done;f=p.next())"http://dashif.org/guidelines/last-segment-number"==(y=(f=f.value).attributes.schemeIdUri)?x=parseInt(f.attributes.value,10)-1:"urn:mpeg:mpegB:cicp:TransferCharacteristics"==y?b=s(parseInt(f.attributes.value,10)):"urn:mpeg:mpegB:cicp:ColourPrimaries"==y?w=o(parseInt(f.attributes.value,10)):"urn:dvb:dash:fontdownload:2014"==y?a(f):"urn:mpeg:dash:urlparam:2014"==y&&(h=Xv(t,f));h&&(n.Rb=h),h=An(r,"Accessibility");var S,E=new Map;for(p=(h=g(h)).next();!p.done;p=h.next())if(p=(f=p.value).attributes.schemeIdUri,f=f.attributes.value,"urn:scte:dash:cc:cea-608:2015"!=p||t.g.disableText)if("urn:scte:dash:cc:cea-708:2015"!=p||t.g.disableText)"urn:mpeg:dash:role:2011"==p?null!=f&&(l.push(f),"captions"==f&&(c="caption")):"urn:tva:metadata:cs:AudioPurposeCS:2007"==p&&("1"==f?S="visually impaired":"2"==f?S="hard of hearing":"9"==f&&(S="spoken subtitles"));else if(p=1,null!=f)for(y=(f=g(f.split(";"))).next();!y.done;y=f.next()){A=y.value;var k=y=void 0;A.includes("=")?(y="svc"+(A=A.split("="))[0],k=A[1].split(",")[0].split(":").pop()):(y="svc"+p,p++,k=A),E.set(y,dt(k))}else E.set("svc1","und");else if(p=1,null!=f)for(A=(y=g(f=f.split(";"))).next();!A.done;A=y.next()){k=A.value;var I=A=void 0;k.includes("=")?(A=(k=k.split("="))[0].startsWith("CC")?k[0]:"CC"+k[0],I=k[1]||"und"):(A="CC"+p,2==f.length?p+=2:p++,I=k),E.set(A,dt(I))}else E.set("CC1","und");h=An(r,"ContentProtection");var M=dm(t.ra,h,t.g.ignoreDrmInfo,t.g.dash.keySystemsByURI);n.va.encrypted=h.length>0;var L=dt(n.va.language||"und"),R=n.va.label,P=new Map;if(r=An(r,"Representation"),!t.g.ignoreSupplementalCodecs){for(h=[],f=(p=g(r)).next();!f.done;f=p.next())(f=En(y=f.value,"urn:scte:dash:scte214-extensions","supplementalCodecs"))&&((y=dn(y)).attributes.codecs=f.split(" ").join(","),y.attributes.id&&(y.attributes.supplementalId=y.attributes.id+"_supplementalCodecs"),h.push(y));r.push.apply(r,m(h))}if(h=r.map(function(i){var r=function(t,n,i,r,a,o,s,u,l,c,d,h){n.N=Qv(t,c,n.va,null);var p=n.N.id;if(t.Z=Math.min(t.Z,n.N.zb),t.R=t.Z>0,!function(e){var t=e.Xd?1:0;return t+=e.Ic?1:0,t+=e.Zc?1:0,0==t?e.contentType==it||"application"==e.contentType:(1!=t&&(e.Xd&&(e.Ic=null),e.Zc=null),!0)}(n.N))return null;var f=n.qa.start;n.bandwidth=Sn(c,"bandwidth",Dn)||0,n.roles=u;var g=An(c,"SupplementalProperty"),m=An(c,"EssentialProperty"),v=An(c,"ContentProtection");c=null;var y,A,b=m.find(function(e){return"urn:mpeg:dash:urlparam:2014"==e.attributes.schemeIdUri});(b||(b=g.find(function(e){return"urn:mpeg:dash:urlparam:2014"==e.attributes.schemeIdUri})))&&(c=Xv(t,b)),c&&(n.Rb=c),b=n.N.contentType,c=b==it||"application"==b,b="image"==b,v.length&&(n.va.encrypted=!0);try{var w=void 0;if(i.Hg){var x=n.N.mb,S=n.Rb,E=ea(Qe(x(),[i.Hg.Kl],S()),t.g.retryParameters);w={bitsKey:128,blockCipherMode:"CBC",iv:i.Hg.iv,firstMediaSequenceNumber:0,fetchKey:function(){var n,i,r;return D(function(a){if(1==a.g)return T(a,ny(t,E,6),2);if(3!=a.g){if(!(n=a.h).data||16!=n.data.byteLength)throw new Ie(2,4,4049);return i={name:"AES-CBC"},r=w,T(a,e.crypto.subtle.importKey("raw",n.data,i,!0,["decrypt"]),3)}r.cryptoKey=a.h,w.fetchKey=void 0,C(a)})}}}if(n.N.aesKey=w,x=function(e,n,i,r){return ey(t,e,n,i,r)},n.N.Xd)var k=Lm(n,x,w);else if(n.N.Ic)k=Um(n,t.u,w);else if(n.N.Zc)k=_m(n,x,t.u,!!t.h,t.g.dash.initialSegmentLimit,t.sa,w,h,!1,t.D);else{var I=n.qa.duration||0,M=n.N.mb,L=n.N.mimeType,R=n.N.codecs;k={endTime:-1,timeline:-1,gd:function(){var e=Ku(f,I,M());return e.Kb(function(e){e.mimeType=L,e.codecs=R}),Promise.resolve(e)},timescale:1}}}catch(e){if((c||b)&&4002==e.code)return null;throw e}if(h=function(e,t,n,i,r){var a=dm(e,t,i,r);if(n.Ui)e=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,t=0==a.drmInfos.length,(0==n.drmInfos.length||e&&!t)&&(n.drmInfos=a.drmInfos),n.Ui=!1;else if(a.drmInfos.length>0&&(n.drmInfos=n.drmInfos.filter(function(e){return a.drmInfos.some(function(t){return t.keySystem==e.keySystem})}),0==n.drmInfos.length))throw new Ie(2,4,4008);return a.Pi||n.Pi}(t.ra,v,i,t.g.ignoreDrmInfo,t.g.dash.keySystemsByURI),h=new Set(h?[h]:[]),v=!1,g.some(function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.attributes.schemeIdUri&&"JOC"==e.attributes.value})&&(v=!0),g=!1,c&&(g=u.includes("forced_subtitle")||u.includes("forced-subtitle")),b&&((m=m.find(function(e){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(e.attributes.schemeIdUri)}))&&(y=m.attributes.value),!y))return null;c=n.N.codecs,n.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(c.includes("hvc1.2.4.L153.B0")||c.includes("hev1.2.4.L153.B0"))&&(A="PQ"),m=n.N.id?n.Aa.id+","+n.N.id:"",t.H.length&&p&&t.A.set(n.Aa.id+","+p,function(e){function t(e){return e?((e=hn(e)).Xd=null,e.Ic=null,e.Zc=Gn(e.Zc),e.Wf=null,e):null}return e=hn(e),e.Aa=t(e.Aa),e.va=t(e.va),e.N=t(e.N),e.qa&&(e.qa=hn(e.qa),e.qa.node=null),e}(n)),n.N.Wf&&function(e,t,n,i){if(!e.aa.has(t)){e.aa.add(t);var r,a=Sn(t,"presentationTime",On)||0,o=wn(t,"UTCTiming");(r=o&&o.attributes.schemeIdUri)&&(r=!("urn:mpeg:dash:utc:http-ntp:2014"===(o=o.attributes.schemeIdUri)||"urn:mpeg:dash:utc:ntp:2014"===o||"urn:mpeg:dash:utc:sntp:2014"===o)),r?t=1e3*(Sn(t,"wallClockTime",Mn)||0):t=xs(t=Sn(t,"wallClockTime",On)||0),a=(n=new Date(t-a/n.timescale*1e3)).getTime()/1e3,isNaN(a)||(i.u||i.di(a),i=new H("prft",i=(new Map).set("detail",{wallClockTime:t,programStartDate:n})),e.j.onEvent(i))}}(t,n.N.Wf,k,n.presentationTimeline),-1!=k.endTime&&null!=n.Aa.id&&null!=n.N.id&&((p=t.D.get(n.Aa.id))?(p.endTime=k.endTime,p.Th.includes(n.N.id)||p.Th.push(n.N.id),t.D.set(n.Aa.id,p)):t.D.set(n.Aa.id,{endTime:k.endTime,timeline:k.timeline,Th:[n.N.id]}));var P=m&&t.u.has(m)?t.u.get(m):{id:t.Ca++,originalId:n.N.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){P.segmentIndex&&(P.segmentIndex.release(),P.segmentIndex=null)},segmentIndex:null,mimeType:n.N.mimeType,codecs:c,frameRate:n.N.frameRate,pixelAspectRatio:n.N.pixelAspectRatio,bandwidth:n.bandwidth,width:n.N.width,height:n.N.height,kind:r,encrypted:i.drmInfos.length>0,drmInfos:i.drmInfos,keyIds:h,language:a,originalLanguage:n.va.language,label:o,type:n.va.contentType,primary:s,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:n.N.emsgSchemeIdUris,roles:u,forced:g,channelsCount:n.N.Rf,audioSamplingRate:n.N.audioSamplingRate,spatialAudio:v,closedCaptions:l,hdr:A,colorGamut:void 0,videoLayout:void 0,tilesLayout:y,accessibilityPurpose:d,external:!1,fastSwitching:!1,fullMimeTypes:new Set([ki(n.N.mimeType,n.N.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null};return P.createSegmentIndex=function(){var e;return D(function(t){if(1==t.g)return P.segmentIndex?t.B(0):(e=P,T(t,k.gd(),3));e.segmentIndex=t.h,C(t)})},m&&n.Jb&&!t.u.has(m)&&(n=n.Aa.id||"",t.F.has(n)||t.F.set(n,[]),t.u.set(m,P),t.F.get(n).push(m)),P}(t,n,M,c,L,R,u,l,E,i,S,x);return r&&(r.hdr=r.hdr||b,r.colorGamut=r.colorGamut||w,r.fastSwitching=v,i=i.attributes.dependencyId)?(r.baseOriginalId=i,P.set(i,r),null):r}).filter(function(e){return!!e}),0==h.length&&0==P.size){if(i="image"==n.va.contentType,t.g.dash.ignoreEmptyAdaptationSet||d||i)return null;throw new Ie(2,4,4003)}if(!n.va.contentType||"application"==n.va.contentType)for(n.va.contentType=ty(h[0].mimeType,h[0].codecs),p=(d=g(h)).next();!p.done;p=d.next())p.value.type=n.va.contentType;for(d=n.va.id||"__fake__"+t.Ca++,f=(p=g(h)).next();!f.done;f=p.next()){for(f=f.value,A=(y=g(M.drmInfos)).next();!A.done;A=y.next())(A=A.value).keyIds=A.keyIds&&f.keyIds?new Set([].concat(m(A.keyIds),m(f.keyIds))):A.keyIds||f.keyIds;t.g.enableAudioGroups&&(f.groupId=d)}return r=r.map(function(e){return e.attributes.supplementalId||e.attributes.id}).filter(Zi),{id:d,contentType:n.va.contentType,language:L,Sn:u,streams:h,drmInfos:M.drmInfos,ti:i,hm:r,xk:P}}function Xv(e,t){if((t=xn(t,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&Sn(t,"useMPDUrlQuery",Un,!1)){var n=t.attributes.queryTemplate;if(n)return function(){return"$querypart$"==n?e.W:n.split("&").map(function(t){if("$querypart$"==t)return e.W;var n=/\$query:(.*?)\$/g.exec(t);if(n&&2==n.length){n=n[1];var i=new ye(e.W).get(n);if(i.length)return n+"="+i[0]}return t}).join("&")}}return null}function Yv(e){var t,n;return D(function(i){switch(i.g){case 1:return t=0,w(i,2),T(i,Nv(e),4);case 4:t=i.h,S(i,3);break;case 2:if(n=E(i),e.j){if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.j.onError(n),i.return();n.severity=1,e.j.onError(n)}case 3:if(!e.j)return i.return();e.j.onManifestUpdated(),Zv(e,t),C(i)}})}function Zv(e,t){if(!(e.K<0)){var n=e.K;e.g.updatePeriod>=0&&(n=e.g.updatePeriod),e.L.Y(Math.max(n-t,wt(e.ya)))}}function Qv(e,t,n,i){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Rf:null,audioSamplingRate:null,zb:0,eg:1,encrypted:!1},i=i||n.mb;var r,a=t.attributes.id,o=t.attributes.supplementalId,s=An(t,"BaseURL"),u=!1;if(e.i)for(var l=g(s),c=l.next();!c.done;c=l.next()){var d=c.value;c=d.attributes.serviceLocation,d=Tn(d),c&&d&&(Wm(e.i,a,c,d),u=!0)}u&&e.i||(r=s.map(Tn));var h=e.i;e=t.attributes.contentType||n.contentType,l=t.attributes.mimeType||n.mimeType,c=vl([t.attributes.codecs||n.codecs]).join(","),d=Sn(t,"frameRate",Bn)||n.frameRate;var p=t.attributes.sar||n.pixelAspectRatio,f=function(e,t){t=t.slice();for(var n=(e=g(e)).next();!n.done;n=e.next())n=n.value.attributes.schemeIdUri,t.includes(n)||t.push(n);return t}(An(t,"InbandEventStream"),n.emsgSchemeIdUris),m=An(t,"AudioChannelConfiguration");m=function(e){for(var t=(e=g(e)).next();!t.done;t=e.next()){var n=(t=t.value).attributes.schemeIdUri;if(n&&(t=t.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return t.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(t,10)))continue;return t;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],!(t=parseInt(t,16)))continue;for(var i=0,r=0;r<n.length;r++)t&1<<r&&(i+=n[r]);if(i)return i;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),!(t=parseInt(t,16)))continue;for(r=i=0;r<n.length;r++)t&1<<r&&(i+=n[r]);if(i)return i;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(t=parseInt(t,10))&&t>0&&t<n.length)return n[t]}}return null}(m)||n.Rf;var v=Sn(t,"audioSamplingRate",On)||n.audioSamplingRate;e||(e=ty(l,c));var y=wn(t,"SegmentBase"),A=wn(t,"SegmentTemplate"),b=y&&Sn(y,"availabilityTimeOffset",Nn)||0,T=A&&Sn(A,"availabilityTimeOffset",Nn)||0,C=s&&s.length&&Sn(s[0],"availabilityTimeOffset",Nn)||0;b=n.zb+C+b+T,T=null,(C=wn(t,"SegmentSequenceProperties"))&&(C=Sn(C,"cadence",Dn))&&(T=C),C=t.attributes.label;var w=An(t,"Label");return w&&w.length&&(bn(w=w[0])&&(C=bn(w))),{mb:function(){return Qe(i(),s.length?h&&u?Xm(h,a):r||[]:[])},Xd:y||n.Xd,Ic:wn(t,"SegmentList")||n.Ic,Zc:A||n.Zc,Wf:wn(t,"ProducerReferenceTime")||n.Wf,width:Sn(t,"width",On)||n.width,height:Sn(t,"height",On)||n.height,contentType:e,mimeType:l,codecs:c,frameRate:d,pixelAspectRatio:p,emsgSchemeIdUris:f,id:o||a,originalId:a,language:t.attributes.lang,Rf:m,audioSamplingRate:v,zb:b,Bf:null,eg:T||n.eg,label:C||null,encrypted:!1}}function Jv(e,t,n,i){var r,a,o,s,u,l,c;return D(function(d){if(1==d.g)return r=[Ve(n)],a=Qe(t(),r),(o=ea(a,e.g.retryParameters)).method=i,s=e.j.networkingEngine.request(4,o,{isPreload:e.ea()}),Zr(e.P,s),T(d,s.promise,2);if(u=d.h,"HEAD"==i){if(!u.headers||!u.headers.date)return d.return(0);l=u.headers.date}else l=Ue(u.data);return c=Date.parse(l),isNaN(c)?d.return(0):d.return(c-Date.now())})}function $v(e,t,n,i,r){for(var a=i.attributes.schemeIdUri||"",o=i.attributes.value||"",s=Sn(i,"timescale",On)||1,u=Sn(i,"presentationTimeOffset",On)||0,l=(i=g(An(i,"Event"))).next();!l.done;l=i.next()){var c=Sn(l=l.value,"presentationTime",On)||0,d=Sn(l,"duration",On)||0;d=(c=Math.max((c-u)/s+t,t))+d/s,null!=n&&(c=Math.min(c,t+n),d=Math.min(d,t+n)),d<r||(l={schemeIdUri:a,value:o,startTime:c,endTime:d,id:l.attributes.id||"",timescale:s,eventElement:Vn(l),eventNode:Gn(l)},e.j.onTimelineRegionAdded(l))}}function ey(e,t,n,i,r){var a,o,s,u;return D(function(l){return 1==l.g?(a=aa,o=r?0:1,s=Al(t,n,i,e.g.retryParameters),T(l,ny(e,s,a,{type:o}),2)):(u=l.h,l.return(u.data))})}function ty(e,t){return Fi(t=ki(e,t))?it:e.split("/")[0]}function ny(e,t,n,i){return i||(i={}),i.isPreload=e.ea(),t=e.j.networkingEngine.request(n,t,i),Zr(e.P,t),t.promise}function iy(){}(r=Ov.prototype).configure=function(e,t){var n=this.j&&e.updatePeriod!=this.g.updatePeriod&&e.updatePeriod>=0;this.g=e,t&&(this.ea=t),n&&this.h&&this.h.presentationTimeline.U()&&this.L.Ka(),this.i&&this.i.configure(this.g),this.m&&this.m.Oj(this.g.dash.useStreamOnceInPeriodFlattening)},r.start=function(e,t){var n,i=this;return D(function(r){if(1==r.g)return i.oa=t.isLowLatencyMode(),i.C=[e],i.j=t,T(r,Nv(i),2);if(n=r.h,i.j&&Zv(i,n),!i.j)throw new Ie(2,7,7001);return r.return(i.h)})},r.stop=function(){for(var e=g(this.u.values()),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.C=[],this.h=null,this.u.clear(),this.F.clear(),this.A.clear(),this.D.clear(),this.l={Of:"",type:"",profiles:[],Bc:null,zb:0,mb:null,Fe:0},this.m=null,null!=this.L&&(this.L.stop(),this.L=null),this.i&&this.i.destroy(),this.I&&(this.I.release(),this.I=null),this.aa.clear(),this.ra.release(),this.P.destroy()},r.update=function(){var e,t=this;return D(function(n){return 1==n.g?(w(n,2),T(n,Nv(t),4)):2!=n.g?S(n,0):(e=E(n),t.j&&e?(t.j.onError(e),void C(n)):n.return())})},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(e){if(this.h&&this.h.presentationTimeline.U()){var t=e.video||e.audio;if(t&&t.segmentIndex){e=this.h.presentationTimeline.Rc();var n=t.segmentIndex.find(e);null!=n&&(t=t.segmentIndex.get(n))&&(this.K=t.endTime-e,Zv(this,0))}}},r.banLocation=function(e){this.i&&this.i.banLocation(e)},r.setMediaElement=function(e){this.J=e},G("shaka.dash.DashParser",Ov),uo("application/dash+xml",function(){return new Ov}),uo("video/vnd.mpeg.dash.mpd",function(){return new Ov}),G("shaka.dependencies",iy),iy.has=function(e){return oy.has(e)},iy.add=function(e,t){if(!ay[e])throw Error(e+" is not supported");e==ry?Dt("mux.js","mux.js is no longer used in Shaka Player."):oy.set(e,function(){return t})};var ry="muxjs",ay={Tn:ry,ISOBoxer:"ISOBoxer"};iy.Allowed=ay;var oy=new Map([["ISOBoxer",function(){return e.ISOBoxer}]]);function sy(){this.j=new Le(function(){return["Oculus","Quest"].some(function(e){return navigator.userAgent.includes(e.toLowerCase())})?"VR":navigator.userAgent.match(/Smart( ?|_)TV/i)||navigator.userAgent.match(/Android ?TV/i)?"TV":navigator.userAgentData?navigator.userAgentData.mobile?"MOBILE":"DESKTOP":/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)?"MOBILE":navigator.userAgentData&&navigator.userAgentData.platform?"android"==navigator.userAgentData.platform.toLowerCase()?"MOBILE":"DESKTOP":navigator.userAgent.includes("Android")?"MOBILE":"DESKTOP"}),this.l=new Le(function(){return navigator.vendor.includes("Apple")&&(navigator.userAgent.includes("Version/")||navigator.userAgent.includes("OS/"))?"WEBKIT":navigator.userAgent.includes("Edge/")?"EDGE":navigator.userAgent.includes("Chrome/")?"CHROMIUM":navigator.userAgent.includes("Firefox/")?"GECKO":"UNKNOWN"})}function uy(){var t=e.ManagedMediaSource||e.MediaSource;return!(!t||!t.isTypeSupported)}function ly(){sy.call(this),this.g=new Le(function(){var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}),this.h=new Le(function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||navigator.maxTouchPoints>1?"xr"in navigator?"APPLE_VR":"MOBILE":"xr"in navigator?"APPLE_VR":"DESKTOP"})}function cy(){if(!dy())throw Error("Not a Chromecast device!");sy.call(this),this.h=new Le(function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}),this.g=new Le(function(){var e=navigator.userAgentData&&navigator.userAgentData.platform||navigator.userAgent;return(e=e.toLowerCase()).includes("android")?hy:e.includes("fuchsia")?py:fy})}function dy(){return navigator.userAgent.includes("CrKey")&&!navigator.userAgent.includes("VIZIO SmartCast")}(r=sy.prototype).mc=function(){return!!navigator.mediaCapabilities},r.Oa=function(){return this.j.value()},r.Ja=function(){return this.l.value()},r.Ud=function(){return!1},r.zj=function(){return!1},r.Cf=function(){return!1},r.Aj=function(){return!1},r.He=function(){return!1},r.vd=function(){return!0},r.bd=function(){return!0},r.Le=function(){return!0},r.Fj=function(){return 0},r.wc=function(){return Promise.resolve({width:1/0,height:1/0})},r.Qj=function(){return!1},r.ji=function(){return!1},r.ab=function(e){var t=this.Oa();return"TV"!==t&&"CONSOLE"!==t&&"CAST"!==t||(e.ads.customPlayheadTracker=!0,e.ads.skipPlayDetection=!0,e.ads.supportsMultipleMediaElements=!1),e},r.ni=function(){return!!e.indexedDB},r.xj=function(){return[]},r.Id=function(t){return void 0!==e.matchMedia&&e.matchMedia("(color-gamut: p3)").matches?t?"HLG":"PQ":"SDR"},r.kg=function(){return!1},r.nj=function(){return!1},r.Xh=function(){return!1},r.mg=function(){return!0},r.oj=function(){return!1},r.Yj=function(){return!0},r.ud=function(){return!1},r.Jh=function(e){return"com.apple.fps"===e},r.lg=function(){return!0},r.toString=function(){return"Device: "+this.Ub()+" v"+this.Ga()+"; Type: "+this.Oa()},p(ly,sy),(r=ly.prototype).Ga=function(){return this.g.value()},r.Ub=function(){return"Apple Browser"},r.Oa=function(){return this.h.value()},r.Ja=function(){return"WEBKIT"},r.mc=function(){return!1},r.Ud=function(e,t){return"audio"===t},r.Cf=function(){return!0},r.Aj=function(e){return"audio"===e},r.ab=function(e){return sy.prototype.ab.call(this,e),e.abr.minTimeToSwitch=.5,e},r.kg=function(){return!0},r.lg=function(){return!1},(navigator.vendor||"").includes("Apple")&&(/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||navigator.maxTouchPoints>1||navigator.userAgentData&&navigator.userAgentData.platform&&"macos"==navigator.userAgentData.platform.toLowerCase()||navigator.platform&&navigator.platform.toLowerCase().includes("mac"))&&(Pe=function(){return new ly}),p(cy,sy),(r=cy.prototype).Ga=function(){return this.h.value()},r.Ub=function(){return"Chromecast with "+this.g.value()},r.Oa=function(){return"CAST"},r.Ja=function(){return"CHROMIUM"},r.mc=function(){return sy.prototype.mc.call(this)&&this.g.value()!==fy},r.bd=function(){return this.g.value()!==fy},r.Fj=function(){switch(this.g.value()){case hy:return 0;case py:return 3;default:return 1}},r.wc=function(){var t,n,i,r;return D(function(a){switch(a.g){case 1:if(t=e.cast&&cast.__platform__&&cast.__platform__.canDisplayType,n={width:1280,height:720},w(a,2),!(i=t)){a.B(4);break}return T(a,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),5);case 5:i=a.h;case 4:if(i){n.width=3840,n.height=2160,a.B(6);break}if(!(r=t)){a.B(7);break}return T(a,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),8);case 8:r=a.h;case 7:r&&(n.width=1920,n.height=1080);case 6:S(a,3);break;case 2:X("Failed to check canDisplayType:",E(a));case 3:return a.return(n)}})},r.ab=function(e){return sy.prototype.ab.call(this,e),e.streaming.stallSkip=0,e},r.ni=function(){return!1},r.ud=function(){return!0};var hy="Android",py="Fuchsia",fy="Linux";function gy(){sy.call(this);var e=this;this.i=new Le(function(){var e=navigator.userAgent.match(/(Chrome|Firefox)\/(\d+)/);return e?parseInt(e[2],10):null}),this.g=new Le(function(){return navigator.userAgent.match(/Edge?\//)?"Edge":navigator.userAgent.includes("Chrome")?"Chrome":navigator.userAgent.includes("Firefox")?"Firefox":"Unknown"}),this.h=new Le(function(){return navigator.userAgentData&&navigator.userAgentData.platform?"windows"==navigator.userAgentData.platform.toLowerCase():!!navigator.platform&&navigator.platform.toLowerCase().includes("win32")}),this.A=new Le(function(){return!navigator.userAgent.match(/Edge?\//)||!e.h.value()}),this.u=new Le(function(){return navigator.userAgent.includes("sony.hbbtv.tv")}),this.m=new Le(function(){return navigator.userAgentData&&navigator.userAgentData.platform?"android"==navigator.userAgentData.platform.toLowerCase():!!navigator.userAgent.includes("Android")})}function my(){sy.apply(this,arguments)}function vy(){sy.call(this),this.g=new Le(function(){var e=navigator.userAgent.match(/PlayStation (\d+)/);return e?parseInt(e[1],10):null})}function yy(){sy.call(this);var e=navigator.userAgent.match(/Tizen (\d+).(\d+)/);this.g=e?parseInt(e[1],10):null,this.h=e?parseInt(e[2],10):null}function Ay(){sy.apply(this,arguments)}function by(){sy.call(this),this.i=new Le(function(){return navigator.userAgent.includes("DT_STB_BCM")||navigator.userAgent.includes("Sky_STB")}),this.h=new Le(function(){return navigator.userAgent.includes("SOPOpenBrowser")}),this.g=new Le(function(){if(navigator.userAgent.includes("DT_STB_BCM"))return 11;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null})}function Ty(){sy.call(this);var e=this;this.h=function(){var e=null,t=navigator.userAgent.match(/Chrome\/(\d+)/);switch(t&&(e=parseInt(t[1],10)),e){case 38:return 3;case 53:return 4;case 68:return 5;case 79:return 6;case 87:return 22;case 94:return 23;case 108:return 24;case 120:return 25;default:return null}}(),this.g=null;try{var t=new PalmServiceBridge;t.onservicecallback=function(t){t=JSON.parse(t),e.g=t.tk["tv.model.supportHDR"]||t.tk["tv.config.supportDolbyHDRContents"]||!1},t.call("luna://com.webos.service.config/getConfigs",JSON.stringify({Qn:["tv.model.supportHDR","tv.config.supportDolbyHDRContents"]}))}catch(e){Y("WebOS: getConfigs call failed",e)}}if(dy()&&(Pe=function(){return new cy}),p(gy,sy),(r=gy.prototype).Ga=function(){return this.i.value()},r.Ub=function(){return this.g.value()},r.Ud=function(e){return!!Or(e)&&("Edge"===this.g.value()&&this.h.value())},r.zj=function(){return"Edge"===this.g.value()&&this.h.value()},r.Cf=function(){return"Edge"===this.g.value()&&this.h.value()},r.bd=function(){return this.A.value()},r.ab=function(e){if(sy.prototype.ab.call(this,e),this.h.value())switch(this.g.value()){case"Firefox":e.drm.keySystemsMapping={"com.microsoft.playready":"com.microsoft.playready.recommendation"};break;case"Chrome":e.drm.keySystemsMapping={"com.microsoft.playready":"com.microsoft.playready.recommendation.3000","com.microsoft.playready.recommendation":"com.microsoft.playready.recommendation.3000"}}return this.m.value()&&(e.drm.defaultAudioRobustnessForWidevine="",e.drm.defaultVideoRobustnessForWidevine=""),e},r.Xh=function(){return"Edge"===this.g.value()||this.u.value()},r.ud=function(){if("GECKO"===this.Ja()){var e=this.Ga();return null!==e?e>=100:sy.prototype.ud.call(this)}return sy.prototype.ud.call(this)},r.Jh=function(e){return"GECKO"===this.Ja()?e.startsWith("com.microsoft.playready.recommendation"):sy.prototype.Jh.call(this,e)},De=function(){return new gy},p(my,sy),(r=my.prototype).Ga=function(){return null},r.Ub=function(){return"Hisense"},r.Oa=function(){return"TV"},r.mc=function(){return!1},r.wc=function(){var t={width:1920,height:1080},n=null;if(e.Hisense_Get4KSupportState)try{n=e.Hisense_Get4KSupportState()}catch(e){}return null==n&&(n=navigator.userAgent.includes("UHD")),n&&(t.width=3840,t.height=2160),Promise.resolve(t)},r.ab=function(e){return sy.prototype.ab.call(this,e),e.streaming.stallSkip=0,e},(navigator.userAgent.includes("Hisense")||navigator.userAgent.includes("VIDAA"))&&(Pe=function(){return new my}),p(vy,sy),(r=vy.prototype).Ub=function(){return"PlayStation"},r.Oa=function(){return"CONSOLE"},r.Ja=function(){return"WEBKIT"},r.Ga=function(){return this.g.value()},r.mc=function(){return!1},r.vd=function(){return!1},r.bd=function(){return!1},r.ji=function(){return 4===this.Ga()},r.wc=function(){var t,n,i,r;return D(function(a){switch(a.g){case 1:return t={width:1920,height:1080},n=!1,w(a,2),T(a,e.msdk.device.getDisplayInfo(),4);case 4:i=a.h,n="4K"===i.resolution,S(a,3);break;case 2:return E(a),w(a,5),T(a,e.msdk.device.getDisplayInfoImmediate(),7);case 7:r=a.h,n="4K"===r.resolution,S(a,3);break;case 5:Y("PlayStation: Failed to get the display info:",E(a));case 3:return n&&(t.width=3840,t.height=2160),a.return(t)}})},r.ab=function(e){return sy.prototype.ab.call(this,e),4===this.Ga()&&e.drm.preferredKeySystems.push("com.microsoft.playready"),e.streaming.clearDecodingCache=!0,e},r.Xh=function(){return 4===this.Ga()},r.mg=function(){return 4!==this.Ga()},navigator.userAgent.includes("PlayStation")&&(Pe=function(){return new vy}),p(yy,sy),(r=yy.prototype).Ga=function(){return this.g},r.Ub=function(){return"Tizen"},r.Ja=function(){return"CHROMIUM"},r.Oa=function(){return"TV"},r.Ud=function(){return!0},r.He=function(){return 3===this.Ga()},r.mc=function(){return!1},r.vd=function(){var e=this.Ga();return null!==e?e>=4:sy.prototype.vd.call(this)},r.bd=function(){return!1},r.Le=function(){return this.g&&this.h?5===this.g?this.h>=5:this.g>5:sy.prototype.Le.call(this)},r.wc=function(){var t=e.devicePixelRatio;t={width:e.screen.width*t>1920?3840:1920,height:e.screen.height*t>1080?2160:1080};try{if(webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution){var n=webapis.systeminfo.getMaxVideoResolution();t.width=n.width,t.height=n.height}else webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(t.width=7680,t.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(t.width=3840,t.height=2160)}catch(e){Y("Tizen: Error detecting screen size, default screen size 1920x1080.")}return Promise.resolve(t)},r.ab=function(e){return sy.prototype.ab.call(this,e),e.drm.ignoreDuplicateInitData=2!==this.Ga(),3===this.Ga()&&(e.streaming.crossBoundaryStrategy="reset_to_encrypted"),e.streaming.shouldFixTimestampOffset=!0,e.streaming.stallSkip=0,e.streaming.gapPadding=2,e},r.xj=function(){var e=[];return null!==this.g&&this.g<5&&e.push("opus"),e},r.Id=function(e){try{if(webapis.avinfo.isHdrTvSupport())return e?"HLG":"PQ"}catch(t){return sy.prototype.Id.call(this,e)}return"SDR"},r.nj=function(){return!0},r.oj=function(){return 3===this.Ga()},navigator.userAgent.includes("Tizen")&&(Pe=function(){return new yy}),p(Ay,sy),Ay.prototype.Ga=function(){return null},Ay.prototype.Ub=function(){return"Vizio"},Ay.prototype.Oa=function(){return"TV"},Ay.prototype.mc=function(){return!1},navigator.userAgent.includes("VIZIO SmartCast")&&(Pe=function(){return new Ay}),p(by,sy),(r=by.prototype).Ga=function(){return this.g.value()},r.Ub=function(){return"WebKit STB"},r.Oa=function(){return"TV"},r.Ja=function(){return"WEBKIT"},r.mc=function(){return!1},r.vd=function(){var e=this.g.value();return null===e||e>=15},r.Ud=function(){return this.h.value()},r.wc=function(){return Promise.resolve({width:e.screen.width*e.devicePixelRatio,height:e.screen.height*e.devicePixelRatio})},r.mg=function(){return!this.i.value()},r.lg=function(){return!1},(navigator.userAgent.includes("SOPOpenBrowser")||navigator.userAgent.includes("DT_STB_BCM")||navigator.userAgent.includes("Sky_STB")||!(!(navigator.vendor||"").includes("Apple")||/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||navigator.maxTouchPoints>1||navigator.userAgentData&&navigator.userAgentData.platform&&"macos"==navigator.userAgentData.platform.toLowerCase()||navigator.platform&&navigator.platform.toLowerCase().includes("mac")))&&(Pe=function(){return new by}),p(Ty,sy),(r=Ty.prototype).Ga=function(){return this.h},r.Ub=function(){return"WebOS"},r.Oa=function(){return"TV"},r.Ja=function(){return"CHROMIUM"},r.mc=function(){return!1},r.vd=function(){var e=this.Ga();return null!==e?e>3:sy.prototype.vd.call(this)},r.bd=function(){var e=this.Ga();return null!==e?e>6:sy.prototype.bd.call(this)},r.Le=function(){var e=this.Ga();return null!==e?e>3:sy.prototype.Le.call(this)},r.wc=function(){var t={width:1920,height:1080};try{var n=JSON.parse(e.PalmSystem.deviceInfo);t.width=Math.max(1920,n.screenWidth),t.height=Math.max(1080,n.screenHeight)}catch(e){Y("WebOS: Error detecting screen size, default screen size 1920x1080.")}return Promise.resolve(t)},r.ab=function(e){return sy.prototype.ab.call(this,e),3===this.Ga()&&(e.streaming.crossBoundaryStrategy="reset"),e.streaming.shouldFixTimestampOffset=!0,e.streaming.stallSkip=0,e},r.Id=function(e){return null==this.g?(Y("WebOS: getConfigs call haven't finished"),sy.prototype.Id.call(this,e)):this.g?e?"HLG":"PQ":"SDR"},r.Yj=function(){return!1},r.ud=function(){var e=this.Ga();return null!==e?e>=6:sy.prototype.ud.call(this)},navigator.userAgent.includes("Web0S")){var Cy=new Ty;Pe=function(){return Cy}}function wy(){sy.call(this),this.g=navigator.userAgent.includes("Edge/");var e=navigator.userAgent.match(/Edge?\/(\d+)/);this.h=e?parseInt(e[1],10):null}function xy(){var e=null;try{e="undefined"!=typeof Windows?Windows:chrome.webview.hostObjects.sync.Windows}catch(e){}return e}function Sy(e,t,n){this.type=e,this.ka=t,this.segments=n||null}function Ey(e,t,n,i){this.id=e,this.name=t,this.attributes=n,this.value=void 0===i?null:i}function ky(e,t){return t?e.toString():(t=(new Set).add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),e.toString(t))}function Iy(e,t){return(e=e.attributes.filter(function(e){return e.name==t})).length?e[0]:null}function My(e,t,n){return(e=Iy(e,t))?e.value:n||null}function Ly(e,t){if(!(e=Iy(e,t)))throw new Ie(2,4,4023,t);return e.value}function Ry(e,t,n){n=void 0===n?[]:n,this.ka=t,this.g=e,this.Ec=n}function Py(e,t){this.name=e,this.value=t}function Dy(e,t){return e.filter(function(e){return e.name==t})}function Oy(e,t){return e.filter(function(e){return Ly(e,"TYPE")==t})}function Ny(e,t){for(var n=(e=g(e)).next();!n.done;n=e.next())if((n=n.value).name===t)return n;return null}function Uy(e,t,n){return n=void 0===n?0:n,(e=Ny(e,t))?Number(e.value):n}function By(e,t,n){return t?_y(e,[t],n):[]}function _y(e,t,n){if(!t.length)return[];var i=t;return n&&n.size&&(i=t.map(function(e){return jy(e,n)})),Qe(e,i)}function jy(e,t){if(!t||!t.size)return e;var n=(e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}")).match(/{\$\w*}/g);if(n)for(var i=(n=g(n)).next();!i.done;i=n.next()){var r=(i=i.value).slice(2,i.length-1),a=t.get(r);if(!a)throw new Ie(2,4,4039,r);e=e.replace(i,a)}return e}function qy(){this.g=0}function Fy(e,t){var n=(t=(t=Ue(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new Ie(2,4,4015);t=0;for(var i=!0,r=g(n),a=r.next();!a.done;a=r.next())if(a=a.value,/^#(?!EXT)/m.test(a)||i)i=!1;else{if(a=Vy(e,a),--e.g,Gy.includes(a.name)){t=1;break}"EXT-X-STREAM-INF"==a.name&&(i=!0)}for(r=[],i=!0,a=0;a<n.length;a++){var o=n[a],s=n[a+1];if(/^#(?!EXT)/m.test(o)||i)i=!1;else{if(o=Vy(e,o),Hy.includes(o.name)){if(1!=t)throw new Ie(2,4,4017);o=n.splice(a,n.length-a),n=[],i=[],a=[],s=null;for(var u=(o=g(o)).next();!u.done;u=o.next())u=u.value,/^(#EXT)/.test(u)?(u=Vy(e,u),Gy.includes(u.name)?r.push(u):"EXT-X-MAP"==u.name?s=u:"EXT-X-PART"==u.name?a.push(u):"EXT-X-PRELOAD-HINT"==u.name?"PART"==My(u,"TYPE")?a.push(u):"MAP"==My(u,"TYPE")&&(u.name="EXT-X-MAP",s=u):i.push(u)):/^#(?!EXT)/m.test(u)||(u=u.trim(),s&&i.push(s),n.push(new Ry(u,i,a)),i=[],a=[]);return a.length&&(s&&i.push(s),n.push(new Ry("",i,a))),new Sy(t,r,n)}r.push(o),"EXT-X-STREAM-INF"==o.name&&(o.attributes.push(new Py("URI",s)),i=!0)}}return new Sy(t,r)}function Vy(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new Ie(2,4,4016,t);t=n[1];var i,r=n[2];if(n=[],r){var a;(a=an(r=new nn(r),/^([^,=]+)(?:,|$)/g))&&(i=a[1]);for(var o=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=an(r,o);)n.push(new Py(a[1],a[2]||a[3])),rn(r)}return new Ey(e,t,n,i)}p(wy,sy),(r=wy.prototype).Ga=function(){return this.h},r.Ub=function(){return"Xbox"},r.Oa=function(){return"CONSOLE"},r.Ja=function(){return this.g?"EDGE":"CHROMIUM"},r.Ud=function(){return!0},r.Cf=function(){return!0},r.Qj=function(){return this.g},r.wc=function(){var e={width:1920,height:1080},t=xy();if(t)try{var n=new t.Media.Protection.ProtectionCapabilities,i=t.Media.Protection.ProtectionCapabilityResult;t=null;do{t=n.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation")}while(t===i.maybe);t===i.probably&&(e.width=3840,e.height=2160)}catch(e){Y("Xbox: Error detecting screen size, default screen size 1920x1080.")}return Promise.resolve(e)},r.ab=function(e){return sy.prototype.ab.call(this,e),e.drm.parseInbandPsshEnabled=this.g,e.drm.preferredKeySystems.push("com.microsoft.playready"),this.g&&(e.streaming.gapPadding=.01),e},r.ni=function(){return!1},(navigator.userAgent.includes("Xbox One")||null!==xy())&&(Pe=function(){return new wy}),Ey.prototype.toString=function(e){var t="#"+this.name,n=this.attributes?this.attributes.filter(function(t){return!e||!e.has(t.name)}).map(function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)}):[];return this.value&&n.unshift(this.value),n.length>0&&(t+=":"+n.join(",")),t};var Gy="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),Hy="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP EXT-X-TILES".split(" ");function zy(){}function Ky(e,t){try{var n=Wy(e);return Kr({uri:e,originalUri:e,data:n.data,headers:{"content-type":n.contentType},originalRequest:t})}catch(e){return Hr(e)}}function Wy(t){var n=t.split(":");if(n.length<2||"data"!=n[0])throw new Ie(2,1,1004,t);if((n=n.slice(1).join(":").split(",")).length<2)throw new Ie(2,1,1004,t);var i=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),n=i.split(";"),i=n[0];var r=!1;return n.length>1&&"base64"==n[n.length-1]&&(r=!0,n.pop()),{data:r?We(t):je(t),contentType:i}}function Xy(){var t=this;this.g=this.h=null,this.G=1,this.C=new Map,this.L=new Map,this.D=new Map,this.D.set("video",new Map),this.D.set("audio",new Map),this.D.set(it,new Map),this.D.set("image",new Map),this.Dc=(new Map).set("com.apple.streamingkeydelivery",function(n,i,r){return function(t,n,i,r){var a,o,s,u,l;return D(function(c){if(1==c.g){if("video/mp2t"==i)throw new Ie(2,4,4040);if("apple"===e.shakaMediaKeysPolyfill)throw new Ie(2,4,4041);if(a=Ly(n,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(a))return c.return(null);o="cenc","SAMPLE-AES"==a&&(o="cbcs"),s=Ly(n,"URI"),u=Je("com.apple.fps",o,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],s);var d=new ae(s).Ib.replace(/-/g,"").toLowerCase();return(l=32===d.length&&/^[0-9a-f]+$/.test(d)?d:null)||!r?c.B(2):T(c,BA(t,r),3)}return 2!=c.g&&(l=c.h),l&&u.keyIds.add(l),c.return(u)})}(t,n,i,r)}).set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",function(e){var n=Ly(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var i="cenc";"SAMPLE-AES"==n&&(i="cbcs");var r=Ly(e,"URI");n=Wy(r.split("?")[0]),r=r.split("?")[0],t.I.has(r)||(n=xe(n.data),t.I.set(r,n)),i=Je("com.widevine.alpha",i,[{initDataType:"cenc",initData:t.I.get(r)}]),(e=My(e,"KEYID"))&&i.keyIds.add(e.toLowerCase().substr(2)),e=Promise.resolve(i)}else e=Promise.resolve(null);return e}).set("com.microsoft.playready",function(e){var t=Ly(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)){var n="cenc";"SAMPLE-AES"==t&&(n="cbcs"),n=Je("com.microsoft.playready",n,[{initDataType:"cenc",initData:t=ka(e=xe((e=Wy((e=Ly(e,"URI")).split("?")[0])).data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),new Set,0)}]),(e=gn(["<PLAYREADY>",Ke(e),"</PLAYREADY>"].join("\n")))&&(n.licenseServerUri=um(e)),n=Promise.resolve(n)}else n=Promise.resolve(null);return n}).set("urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c",function(e){var n=Ly(e,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var i="cenc";"SAMPLE-AES"==n&&(i="cbcs");var r=Ly(e,"URI");n=Wy(r.split("?")[0]),r=r.split("?")[0],t.I.has(r)||(n=xe(n.data),t.I.set(r,n)),i=Je("com.huawei.wiseplay",i,[{initDataType:"cenc",initData:t.I.get(r)}]),(e=My(e,"KEYID"))&&i.keyIds.add(e.toLowerCase().substr(2)),e=Promise.resolve(i)}else e=Promise.resolve(null);return e}),this.jb=new Set,this.i=new Map,this.l=null,this.H="",this.Na=new qy,this.M=-1,this.aa=1/0,this.Z=this.Hc=this.ib=!1,this.F=new Wi(function(){t.V&&!t.g.continueLoadingWhenPaused&&(t.S.Fa(t.V,"timeupdate"),t.V.paused)?t.S.ua(t.V,"timeupdate",function(){return RA(t)}):RA(t)}),this.Ca=zA,this.m=null,this.fb=0,this.u=1/0,this.hb=this.La=this.R=0,this.W=new Yr,this.J=new Map,this.K=new Map,this.ya=new Map,this.oa=new Map,this.O=new Map,this.ra=new Map,this.sa=new Map,this.Gc=this.ea=!1,this.Ob=new Ct(5),this.j=null,this.P=!0,this.S=new Mt,this.A=this.V=null,this.kc=function(){return!1},this.I=new Map}function Yy(e,t){return PA(e)?e.D.get(t.type):t.Lf}function Zy(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,f,v,y,A,b,x,k,I,M,L,R,P,O,N,U,B,_,j,q,F,V,G,H;return D(function(D){switch(D.g){case 1:if(t.stream.isAudioMuxedInVideo)return D.return();for(n=[],i=g(t.T()),r=i.next();!r.done;r=i.next())a=r.value,o=new ae(a),s=o.g,t.mf&&(t.Zb>=0&&s.add("_HLS_msn",String(t.Zb)),t.$b>=0&&s.add("_HLS_part",String(t.$b))),t.nf&&s.add("_HLS_skip","YES"),be(s)&&le(o,ce(s.toString())),n.push(o.toString());return w(D,2),T(D,LA(e,n,!0).promise,4);case 4:u=D.h,S(D,3);break;case 2:throw l=E(D),e.h&&e.h.disableStream(t.stream),l;case 3:if(!t.stream.segmentIndex)return D.return();if(1!=(c=Fy(e.Na,u.data)).type)throw new Ie(2,4,4017);return(d=u.uri)==u.originalUri||t.T().includes(d)||t.Zf.push(d),h=Dy(c.ka,"EXT-X-DEFINE"),p=tA(e,h,d),f=t.stream,v=Yy(e,t),T(D,mA(e,c,f.mimeType,t.T,p),5);case 5:for(y=D.h,A=y.keyIds,b=y.drmInfos,x=y.encrypted,k=y.Ei,f.encrypted||!x||k||(f.encrypted=!0),function(e,t){return e.size===t.size&&[].concat(m(e)).every(function(e){return t.has(e)})}(f.keyIds,A)||(f.keyIds=A,f.drmInfos=b,e.h.newDrmInfo(f)),I=SA(e,c,v,p,t.T,t.type),M=I.segments,(L=I.bandwidth)&&(f.bandwidth=L),R=tl(f),P=g(M),O=P.next();!O.done;O=P.next())(N=O.value).ia&&(N.ia.Od=R);f.segmentIndex.Ae(M,e.l.Mb()),M.length&&(U=Uy(c.ka,"EXT-X-MEDIA-SEQUENCE",0),_=(B=Ny(c.ka,"EXT-X-SKIP"))?Number(My(B,"SKIPPED-SEGMENTS")):0,j=fA(U,M),q=j.Zb,F=j.$b,t.Zb=q+_,t.$b=F,V=v.get(U),f.segmentIndex.cb(V)),(G=zu(f.segmentIndex))&&(t.md=G.startTime,H=M[M.length-1],t.Xc=H.endTime),Ny(c.ka,"EXT-X-ENDLIST")&&(t.re=!0),AA(e,c),xA(e,c.ka,f.type,p,t.T),C(D)}})}function Qy(e,t,n){n=void 0!==n&&n;for(var i=-1==e.M,r=g(t),a=r.next();!a.done;a=r.next()){var o=(a=a.value).stream.segmentIndex,s=Yy(e,a);if(o=zu(o))for(var u=(s=g(s)).next();!u.done;u=s.next()){var l=(u=g(u.value)).next().value;if(u.next().value==o.startTime){i&&(e.M=Math.max(e.M,l)),a.Vg=l;break}}}if(!(e.M<0))for(i=(t=g(t)).next();!i.done;i=t.next())(hA(e,(i=i.value).type)||n)&&(r=i.stream.segmentIndex)&&((a=e.M-i.Vg)>0&&(r.g.splice(0,a),r=zu(r))&&(r=-r.startTime,i.stream.segmentIndex.offset(r),Jy(e,i,r)))}function Jy(e,t,n){if(!(Math.abs(n)<.001)){t.md+=n,t.Xc+=n;for(var i=g(e=Yy(e,t)),r=i.next();!r.done;r=i.next()){var a=g(r.value);r=a.next().value,a=a.next().value,e.set(r,a+n)}t.T()}}function $y(e,t,n){var i,r,a,o,s;return D(function(u){switch(u.g){case 1:return t?(i=aa,r=Al(t.T(),t.Sc(),t.Pc(),e.g.retryParameters),T(u,OA(e,r,i,{type:t instanceof Zo?1:0}).promise,2)):u.return({mimeType:null,data:null});case 2:if(a=u.h,o=a.data,!t.aesKey){u.B(3);break}return T(u,yl(o,t.aesKey,n),4);case 4:o=u.h;case 3:return t instanceof Zo?t.Je(o,!0):t.Je(o),(s=a.headers["content-type"])&&(s=s.split(";")[0].toLowerCase()),u.return({mimeType:s,data:o})}})}function eA(e){if(PA(e)){if(e.Ca==WA){for(var t=1/0,n=1/0,i=g(e.i.values()),r=i.next();!r.done;r=i.next())(r=r.value).stream.segmentIndex&&"text"!=r.stream.type&&!r.stream.isAudioMuxedInVideo&&(t=Math.min(t,r.Xc),n=Math.min(n,r.md));t=t-n||0,isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.l.hg(t)}}else e.l.Fb(lA(e));if(!e.l.u)for(n=(t=g(e.i.values())).next();!n.done;n=t.next())!(n=n.value).stream.segmentIndex||"audio"!=n.type&&"video"!=n.type||(n=zu(n.stream.segmentIndex))&&n.h&&e.l.di(n.h);e.l.Kf()}function tA(e,t,n){n=new ae(n).g;for(var i=new Map,r=(t=g(t)).next();!r.done;r=t.next()){var a=r.value,o=My(a,"NAME"),s=My(a,"VALUE");r=My(a,"QUERYPARAM"),a=My(a,"IMPORT"),o&&s&&(i.has(o)||i.set(o,s)),r&&(o=n.get(r)[0])&&!i.has(o)&&i.set(r,o),a&&(r=e.C.get(a))&&i.set(a,r)}return i}function nA(e){var t=new Set([ki(e.mimeType,e.codecs)]);e.segmentIndex&&e.segmentIndex.Kb(function(n){n.mimeType&&t.add(ki(n.mimeType,e.codecs))}),e.fullMimeTypes=t}function iA(e,t,n){for(var i={audio:[],video:[]},r=new Map,a=[],o=!1,s=!1,u=g(t),l=u.next();!l.done;l=u.next()){var c=l.value;l=My(c,"AUDIO");var d=My(c,"VIDEO"),h=l||d;h&&(a.includes(h)||a.push(h),(c=My(c,"PATHWAY-ID"))&&r.set(h,c),l?o=!0:d&&(s=!0))}a.length&&n.length&&function(e,t,n){t=t.filter(function(e){var t=My(e,"URI")||"";return"SUBTITLES"!=(e=My(e,"TYPE"))&&(""!=t||"AUDIO"==e)});for(var i={},r=(t=g(t)).next();!r.done;r=t.next()){var a=ky(r=r.value,!e.j);i[a]?i[a].push(r):i[a]=[r]}for(var o in i)oA(e,i[o],n,!1)}(e,n=n.filter(function(e){return a.includes(Ly(e,"GROUP-ID"))}),r),n=(r=a.sort().join(","))&&e.L.has(r)?e.L.get(r):[],o?i.audio.push.apply(i.audio,m(n)):s&&i.video.push.apply(i.video,m(n)),s=!1;var p=t.map(function(e){return Ly(e,"URI")});return o=i.audio.find(function(e){return e&&e.T().find(function(e){return p.includes(e)})}),u=tt("video",n=rA(e,t[0])),(l=tt("audio",n))&&!u?(o="audio",s=i.audio.length>0&&!i.audio.some(function(e){return e.stream.isAudioMuxedInVideo})):!i.audio.length&&!i.video.length&&l&&u?(o="video",n=[[u,l].join()]):i.audio.length&&o?(o="audio",s=!0):o=i.video.length&&!i.audio.length?"audio":"video",s||(t=function(e,t,n,i){for(var r=e.G++,a=[],o=g(t),s=o.next();!s.done;s=o.next()){var u=s.value;s=Ly(u,"URI"),u=My(u,"PATHWAY-ID"),e.j&&u&&Wm(e.j,r,u,s),a.push(s)}if(o=a.sort().join(",")+n.sort().join(","),e.i.has(o))return e.i.get(o);s=a.join(",");e:{if(t=My(t[0],"CLOSED-CAPTIONS"),"video"==i){if(e.g.disableText){e.P=!1,t=null;break e}if(t){if("NONE"!=t){t=e.J.get(t);break e}e.P=!1}else if(!t&&e.J.size)for(t=(t=g(e.J.keys())).next();!t.done;t=t.next()){t=e.J.get(t.value);break e}}t=null}return n=et(i,n),i=uA(e,r,a,n,i,null,!1,s,null,t,null,!1,null,!1),e.i.set(o,i),i}(e,t,n,o),r&&e.g.enableAudioGroups&&(t.stream.groupId=r),"audio"==t.stream.type&&"audio"===o&&i.audio.some(function(e){return e.stream.isAudioMuxedInVideo})&&(e=i.audio[0].stream,t.stream.language=e.language,t.stream.channelsCount=e.channelsCount,t.stream.label=e.label,t.stream.audioSamplingRate=e.audioSamplingRate,t.stream.originalId=e.originalId,t.stream.originalLanguage=e.originalLanguage),i[t.stream.type]=[t]),i}function rA(e,t){return t=My(t,"CODECS")||"",e.Z=t.length>0,e.Z||e.g.hls.disableCodecGuessing||(t=[],e.g.disableVideo||t.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||t.push(e.g.hls.defaultAudioCodec),t=t.join(",")),vl(t.split(/\s*,\s*/))}function aA(e,t,n,i,r,a,o,s,u,l,c,d){for(var h=g(n),p=h.next();!p.done;p=h.next())MA(p.value.stream,r,a,o,s,u,null);for(r=e.g.disableVideo,n.length&&!r||(n=[null]),r&&(t=t.filter(function(e){return!e.stream.isAudioMuxedInVideo})),r=e.g.disableAudio,t.length&&!r||(t=[null]),r=[],a=(t=g(t)).next();!a.done;a=t.next())for(a=a.value,s=(o=g(n)).next();!s.done;s=o.next()){var f=s.value;(s=a?a.stream:null)&&(s.drmInfos=l,s.keyIds=c),(u=f?f.stream:null)&&(u.drmInfos=l,u.keyIds=c,e.g.disableIFrames||br(u,d)),u&&!s&&(u.bandwidth=i),!u&&s&&(s.bandwidth=i),h=a?a.stream.drmInfos:null,p=f?f.stream.drmInfos:null,f=f?f.T().sort().join(","):"";var m=a?a.T().sort().join(","):"",v=[];s&&s.codecs&&v.push(s.codecs),u&&u.codecs&&v.push(u.codecs),f=[f,m,v.sort()].join("-"),s&&u&&!Pr(h,p)||e.jb.has(f)||(s={id:e.G++,language:s?s.language:"und",disabledUntilTime:0,primary:!!s&&s.primary||!!u&&u.primary,audio:s,video:u,bandwidth:i,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},r.push(s),e.jb.add(f))}return r}function oA(e,t,n,i){i=void 0===i||i;for(var r=[],a=[],o=new Map,s=g(t),u=s.next(),l={};!u.done;l={dj:void 0},u=s.next())u=u.value,l.dj=++e.G,l=function(e){return function(){return"shaka://hls-muxed"+e.dj}}(l),l=i?Ly(u,"URI"):My(u,"URI")||l(),u=Ly(u,"GROUP-ID"),r.push(l),a.push(u),o.set(u,l);if(i=a.sort().join(","),u=t[0],t="",s=function(e){return"subtitles"==(e=Ly(e,"TYPE").toLowerCase())&&(e=it),e}(u),s==it)t=My(u,"CODECS")||"";else for(l=(a=g(a)).next();!l.done;l=a.next())if(l=l.value,e.K.has(l)){t=e.K.get(l);break}if(a=r.sort().join(","),e.i.has(a))return e.i.get(a);if(l=e.G++,e.j)for(var c=(o=g(o)).next();!c.done;c=o.next()){var d=g(c.value);c=d.next().value,d=d.next().value,(c=n.get(c))&&Wm(e.j,l,c,d)}n=My(u,"LANGUAGE"),o=My(u,"NAME"),c="YES"==My(u,"DEFAULT"),d="audio"==s?function(e){return(e=My(e,"CHANNELS"))?parseInt(e.split("/")[0],10):null}(u):null;var h="audio"==s&&function(e){return!!(e=My(e,"CHANNELS"))&&2==(e=e.split("/")).length&&("JOC"===e[1]||e[1].includes("ATMOS"))}(u),p=My(u,"CHARACTERISTICS"),f="YES"==My(u,"FORCED");return u="audio"==s?function(e){return(e=My(e,"SAMPLE-RATE"))?parseInt(e,10):null}(u):null,(r=uA(e,l,r,t,s,n,c,o,d,null,p,f,u,h)).stream&&e.g.enableAudioGroups&&(r.stream.groupId=i),e.L.has(i)?e.L.get(i).push(r):e.L.set(i,[r]),e.i.set(a,r),r}function sA(e,t){var n="video",i=Ly(t,"URI"),r=My(t,"CODECS")||"";if("mjpg"==r&&(n="image"),e.i.has(i))return e.i.get(i);var a=My(t,"LANGUAGE"),o=My(t,"NAME"),s=My(t,"CHARACTERISTICS");return n=uA(e,e.G++,[i],r,n,a,!1,o,null,null,s,!1,null,!1),a=g((r=My(t,"RESOLUTION"))?r.split("x"):[null,null]),r=a.next().value,a=a.next().value,n.stream.width=Number(r)||void 0,n.stream.height=Number(a)||void 0,(t=My(t,"BANDWIDTH"))&&(n.stream.bandwidth=Number(t)),e.i.set(i,n),n}function uA(e,t,n,i,r,a,o,s,u,l,c,d,h,p){function f(t){var n,f,y,b,x,k,I,M,L,R,P,O,N,U,B,_,j,q;return D(function(D){switch(D.g){case 1:return n=rt,w(D,2),T(D,t.promise,4);case 4:if(f=D.h,t.aborted)return D.return();if((y=f.uri)!=f.originalUri&&(A.T().includes(y)||A.Zf.push(y)),1!=(b=Fy(e.Na,f.data)).type)throw new Ie(2,4,4017);return x=Dy(b.ka,"EXT-X-DEFINE"),k=tA(e,x,y),I=!1,(!e.Z&&e.g.hls.disableCodecGuessing||e.P&&r==n.Ha&&!e.g.hls.disableClosedCaptionsDetection)&&b.segments.length>0&&(e.P=!1,I=!0),M=!e.Z&&e.g.hls.disableCodecGuessing,L=PA(e),T(D,pA(e,0,k,b,m,i,r,a,o,s,u,l,c,d,h,p,void 0,I,M),5);case 5:if(R=D.h,t.aborted)return D.return();P=R.stream,yA(e,b),PA(e)&&!L&&bA(e,b),A.md=R.md,A.Xc=R.Xc,A.nf=R.nf,A.mf=R.mf,A.re=R.re,A.Lf=R.Lf,A.Zb=R.Zb,A.$b=R.$b,v.segmentIndex=P.segmentIndex,v.encrypted=P.encrypted,v.drmInfos=P.drmInfos,v.keyIds=P.keyIds,v.mimeType=P.mimeType,v.bandwidth=v.bandwidth||P.bandwidth,v.codecs=v.codecs||P.codecs,v.closedCaptions=v.closedCaptions||P.closedCaptions,v.width=v.width||P.width,v.height=v.height||P.height,v.hdr=v.hdr||P.hdr,v.colorGamut=v.colorGamut||P.colorGamut,v.frameRate=v.frameRate||P.frameRate,"und"==v.language&&"und"!=P.language&&(v.language=P.language),v.language=v.language||P.language,v.channelsCount=v.channelsCount||P.channelsCount,v.audioSamplingRate=v.audioSamplingRate||P.audioSamplingRate,nA(v),v.drmInfos.length&&e.h.newDrmInfo(v),O=!1,(!l&&v.closedCaptions||l&&v.closedCaptions&&l.size!=v.closedCaptions.size)&&(O=!0),e.m&&O&&e.h.makeTextStreamsForClosedCaptions(e.m),r==n.Va&&(N=zu(P.segmentIndex))&&N.ia&&(v.mimeType="application/mp4",nA(v)),U=tl(v),v.segmentIndex.Kb(function(e){e.ia&&(e.ia.Od=U)}),function(e){if(!e.m)return!1;for(var t=[],n=[],i=(e=g(e.m.variants)).next();!i.done;i=e.next())(i=i.value).video&&t.push(i.video),i.audio&&n.push(i.audio);return!(t.length>0&&!t.some(function(e){return e.segmentIndex})||n.length>0&&!n.some(function(e){return e.segmentIndex}))}(e)&&(e.Hc?dA(e,[A]):(e.Hc=!0,B=Array.from(e.i.values()),_=B.filter(function(e){return e.stream.segmentIndex}),dA(e,_),eA(e),(j=e.u)>0&&e.F.Y(j))),xA(e,b.ka,v.type,k,m),e.m&&(e.m.startTime=e.A),S(D,0);break;case 2:if(q=E(D),v.closeSegmentIndex(),7001===q.code)return D.return();if(!e.h.disableStream(v))throw q;C(D)}})}function m(){return e.j&&n.length>1?Xm(e.j,t):A.Zf.concat(_y([e.H],n,e.C))}var v=gA(e,i,r,a,o,s,u,l,c,d,h,p);n.some(function(e){return e.startsWith("shaka://hls-muxed")})&&(v.isAudioMuxedInVideo=!0,v.mimeType="video/mp2t",nA(v));var y,A={stream:v,type:r,Zf:[],md:0,Xc:0,Lf:new Map,nf:!1,mf:!1,re:!1,Vg:-1,Zb:-1,$b:-1,T:m},b=null;return v.createSegmentIndex=function(){return b||(v.isAudioMuxedInVideo?(v.segmentIndex=new Hu([]),Promise.resolve()):(y=LA(e,A.T(),!0),b=new Promise(function(e){e(f(y))})))},v.closeSegmentIndex=function(){b&&!v.segmentIndex&&y.abort(),v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null),b=null},A}function lA(e){for(var t=1/0,n=(e=g(e.i.values())).next();!n.done;n=e.next())(n=n.value).stream.segmentIndex&&"text"!=n.stream.type&&!n.stream.isAudioMuxedInVideo&&(t=Math.min(t,n.Xc));return t}function cA(e,t){for(var n=[],i=(t=g(t)).next();!i.done;i=t.next())(i=i.value).segmentIndex&&i.segmentIndex.Kb(function(e){n.push(e)});e.l.Ce(n)}function dA(e,t){if(!PA(e))for(var n=lA(e),i=g(t),r=i.next();!r.done;r=i.next())r.value.stream.segmentIndex.Gd(0,n);cA(e,t.map(function(e){return e.stream})),n=(i=Array.from(e.i.values()).filter(function(e){return e.stream.segmentIndex})).some(function(e){return"audio"==e.stream.type}),r=i.some(function(e){return"video"==e.stream.type}),i=PA(e)&&!e.ib,n=!PA(e)&&e.ib&&!(n&&r),e.g.hls.ignoreManifestProgramDateTime||i||n?Qy(e,t,i):(function(e,t){if(e.aa==1/0)for(var n=(t=g(t)).next();!n.done;n=t.next())null!=(n=zu(n.value.stream.segmentIndex))&&null!=n.h&&(e.aa=Math.min(e.aa,n.h));if((t=e.aa)!=1/0)for(var i=(n=g(e.i.values())).next();!i.done;i=n.next())if(!hA(e,(i=i.value).type)){var r=i.stream.segmentIndex;if(null!=r){var a=zu(r);if(a)if(null==a.h)X("Missing EXT-X-PROGRAM-DATE-TIME for stream",i.T(),"Expect AV sync issues!");else for(Jy(e,i,a.h-t-a.startTime),r=(i=g(r)).next();!r.done;r=i.next())r.value.oi(t)}}}(e,t),e.g.hls.ignoreManifestProgramDateTimeForTypes.length>0&&Qy(e,t))}function hA(e,t){return!!e.g.hls.ignoreManifestProgramDateTime||e.g.hls.ignoreManifestProgramDateTimeForTypes.includes(t)}function pA(e,t,n,i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A){var b,C,x,k,I,M,L,R,P,O,N,U,B,_,j,q,F,V,G,H,z,K,W,X,Y,Z,Q,J,$;return y=void 0===y||y,A=void 0===A||A,D(function(t){switch(t.g){case 1:if(b=i.segments||[],C=b.every(function(e){return!!Ny(e.ka,"EXT-X-GAP")}),!b.length||C)throw new Ie(2,4,4053);if(function(e,t){var n=Ny(t.ka,"EXT-X-PLAYLIST-TYPE");t=Ny(t.ka,"EXT-X-ENDLIST"),t=n&&"VOD"==n.value||t,n=n&&"EVENT"==n.value&&!t,n=!t&&!n,DA(e,t?zA:n?WA:KA)}(e,i),PA(e)&&AA(e,i),x=PA(e)?e.D.get(o):new Map,k=SA(e,i,x,n,r,o),I=k.segments,M=k.bandwidth,N=O=P=R=L=null,!(I.length>0&&y)){t.B(2);break}return T(t,function(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,f,m,v,y;return D(function(A){if(1==A.g)return n=gl(e.g.hls.mediaPlaylistFullMimeType),t.length?(i=IA(e,t),r=i.segment,a=i.segmentIndex,o=r.T(),(s=jc(o[0]))&&(u=_A.get(s))?A.return(gl(u)):T(A,Promise.all([$y(e,r.ia,0),$y(e,r,a)]),2)):A.return(n);if(l=A.h,c=l[1].mimeType,d=l[0].data,h=l[1].data,p="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),f=["audio/mp4","video/mp4","video/iso.segment"],!(m=r.ia||f.includes(c))&&Fs(xe(h))){var b=h,C=e.g.disableAudio,w=e.g.disableVideo,x=e.g.disableText,S=xe(b),E=(new Bs).parse(S),k=E.oe();S=E.wh();var I=[],M=!1,L=!1;if(!C)switch(k.audio){case"aac":case"aac-loas":E.Bb().length&&(I.push("mp4a.40.2"),M=!0);break;case"mp3":E.Bb().length&&(I.push("mp4a.40.34"),M=!0);break;case"ac3":E.Bb().length&&(I.push("ac-3"),M=!0);break;case"ec3":E.Bb().length&&(I.push("ec-3"),M=!0);break;case"opus":E.Bb().length&&(I.push("opus"),M=!0)}if(!w)switch(k.video){case"avc":S.codec?I.push(S.codec):I.push("avc1.42E01E"),L=!0;break;case"hvc":S.codec?I.push(S.codec):I.push("hvc1.1.6.L93.90"),L=!0;break;case"av1":I.push("av01.0.01M.08"),L=!0}if(I.length){if(C=M&&!L,w=new Map,L&&!x){for((x=new Xt("video/mp2t")).Uf(b),L=(b=g(x.zg())).next();!L.done;L=b.next())L=L.value,w.set(L,L);x.fe()}S={type:C?"audio":"video",mimeType:"video/mp2t",codecs:I.join(", "),language:null,height:S.height,width:S.width,channelCount:null,sampleRate:null,closedCaptions:w,Oe:null,colorGamut:null,frameRate:S.frameRate}}else S=null;if(v=S)return A.return(v)}else if((m||p.includes(s))&&(y=ml(d,h,e.g.disableText)))return A.return(y);return c?A.return(gl(c)):A.return(n)})}(e,I),3);case 3:U=t.h,o!=U.type&&PA(e)&&(e.D.set(U.type,e.D.get(o)),e.D.set(o,new Map)),o=U.type,s=U.language,c=U.channelCount,f=U.sampleRate,e.g.disableText||(d=U.closedCaptions),R=U.height,L=U.width,P=U.Oe,O=U.colorGamut,N=U.frameRate,A&&(v=U.mimeType,a=U.codecs);case 2:if(v){t.B(4);break}return T(t,function(e,t,n,i){var r,a,o,s,u,l,c,d,h,p,f,g,m;return D(function(v){switch(v.g){case 1:return r=aa,a=IA(e,i),2==(o=a.segment).status?v.return(kA(t)):(u=o.T(),(l=jc(u[0]))&&(c=GA.get(t),(d=c.get(l))||(d=_A.get(l)))?v.return(d):(s=EA(t,n))?v.return(s):(p=1,f=ea(u,e.g.retryParameters),w(v,2),f.method="HEAD",T(v,OA(e,f,r,{type:p}).promise,4)));case 4:g=v.h,h=g.headers["content-type"],S(v,3);break;case 2:if(!(m=E(v))||1002!=m.code&&1001!=m.code){v.B(3);break}return f.method="GET",e.g.hls.allowRangeRequestsToGuessMimeType&&(f.headers.Range="bytes=0-0"),T(v,OA(e,f,r,{type:p}).promise,6);case 6:g=v.h,h=g.headers["content-type"];case 3:if(!h){v.B(7);break}if("application/octet-stream"!=(s=h.toLowerCase().split(";")[0])){v.B(8);break}if(g.data.byteLength){v.B(9);break}return f.method="GET",T(v,OA(e,f,r,{type:p}).promise,10);case 10:g=v.h;case 9:Fs(xe(g.data))&&(s="video/mp2t");case 8:if("application/octet-stream"!=s)return v.return(s);case 7:return v.return(kA(t))}})}(e,o,a,I),5);case 5:v=t.h,o!=it||a||"application/mp4"!=v||!I[0]||I[0].ia||(v="text/vtt");case 4:return T(t,mA(e,i,v,r,n),6);case 6:if(B=t.h,_=B.drmInfos,j=B.keyIds,q=B.encrypted,F=B.Ei,q&&!_.length&&!F)throw new Ie(2,4,4026);return(V=gA(e,a,o,s,u,l,c,d,h,p,f,m)).encrypted=q&&!F,V.drmInfos=_,V.keyIds=j,V.mimeType=v,M&&(V.bandwidth=M),nA(V),"video"==o&&(L||R||P||O)&&MA(V,L,R,N,P,null,O),PA(e)&&AA(e,i),G=I[0].startTime,H=I[I.length-1],z=H.endTime,K=new Hu(I),V.segmentIndex=K,X=!!(W=Ny(i.ka,"EXT-X-SERVER-CONTROL"))&&null!=Iy(W,"CAN-SKIP-UNTIL"),Y=!!W&&null!=Iy(W,"CAN-BLOCK-RELOAD"),Z=Uy(i.ka,"EXT-X-MEDIA-SEQUENCE",0),Q=fA(Z,I),J=Q.Zb,$=Q.$b,t.return({stream:V,type:o,Zf:[],T:r,md:G,Xc:z,nf:X,mf:Y,re:!1,Vg:-1,Zb:J,$b:$,Lf:x})}})}function fA(e,t){e=e+t.length-1;var n=-1;if(!t.length)return{Zb:++e,$b:n};var i=(t=t[t.length-1]).g;return t.g.length?(n=i.length-1,i[i.length-1].isPreload()||(e++,n=0),{Zb:e,$b:n}):(e++,t.u&&(n=0),{Zb:e,$b:n})}function gA(e,t,n,i,r,a,o,s,u,l,c,d){var h=EA(n,t)||kA(n),p=[];if(u)for(var f=(u=g(u.split(","))).next();!f.done;f=u.next())p.push(f.value);return u=void 0,f=null,n==it?u=p.includes("public.accessibility.transcribes-spoken-dialog")&&p.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":p.includes("public.accessibility.describes-video")&&(f="visually impaired"),p.length||"subtitle"!==u||p.push("subtitle"),nA(e={id:e.G++,originalId:a,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:h,codecs:t,kind:n==it?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:dt(i||"und"),originalLanguage:i,label:a,type:n,primary:r,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:p,forced:l,channelsCount:o,audioSamplingRate:c,spatialAudio:d,closedCaptions:s,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:f,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}),e}function mA(e,t,n,i,r){var a,o,s,u,l,c,d,h,p,f,m,v,y,A,b,C,w,x,S,E,k,I,M,L,R,P,O,N,U;return D(function(D){switch(D.g){case 1:if(a=new Map,!e.g.ignoreDrmInfo&&t.segments)for(o=g(t.segments),s=o.next();!s.done;s=o.next())if(u=s.value,l=Dy(u.ka,"EXT-X-KEY"),c=null,l.length)for(c=TA(e,t,u.ka,i,r),d=g(l),h=d.next();!h.done;h=d.next())p=h.value,a.set(p,c);m=f=!1,v=[],y=new Set,A=g(a),b=A.next();case 2:if(b.done){D.B(4);break}if(C=b.value,w=g(C),x=w.next().value,S=w.next().value,k=S,"NONE"==(I=Ly(E=x,"METHOD"))){D.B(3);break}if(f=!0,M=My(E,"KEYFORMAT")||"identity",L=null,NA(I)){m=!0,D.B(3);break}if("identity"==M)return T(D,UA(e,E,n,i,k,r),11);if(!(R=e.Dc.get(M))){P=null,D.B(9);break}return T(D,R(E,n,k),10);case 10:P=D.h;case 9:L=P,D.B(6);break;case 11:L=D.h;case 6:if(L){if(L.keyIds)for(O=g(L.keyIds),N=O.next();!N.done;N=O.next())U=N.value,y.add(U);v.push(L)}case 3:b=A.next(),D.B(2);break;case 4:return D.return({drmInfos:v,keyIds:y,encrypted:f,Ei:m})}})}function vA(t,n,i,r,a){if(!e.crypto||!e.crypto.subtle)throw Y("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new Ie(2,4,4042);var o=0,s=My(n,"IV","");if(s){var u=Xe(s.substr(2));if(16!=u.byteLength)throw new Ie(2,4,4048)}else o=Uy(i.ka,"EXT-X-MEDIA-SEQUENCE",0);var l=By(r(),Ly(n,"URI"),a),c=l.sort().join("");if(i=n.toString()+"-"+o+"-"+c,!t.oa.has(i)){var d={bitsKey:128,blockCipherMode:"CBC",iv:u,firstMediaSequenceNumber:o};switch(Ly(n,"METHOD")){case"AES-256":d.bitsKey=256;break;case"AES-256-CTR":d.bitsKey=256,d.blockCipherMode="CTR"}d.fetchKey=function(){var n,i,r,a;return D(function(o){if(1==o.g)return t.O.has(c)||(n=ea(l,t.g.retryParameters),i=OA(t,n,6).promise,t.O.set(c,i)),T(o,t.O.get(c),2);if(3!=o.g){if(!(r=o.h).data||r.data.byteLength!=d.bitsKey/8)throw new Ie(2,4,4049);return a={name:"CTR"==d.blockCipherMode?"AES-CTR":"AES-CBC",length:d.bitsKey},T(o,e.crypto.subtle.importKey("raw",r.data,a,!0,["decrypt"]),3)}d.cryptoKey=o.h,d.fetchKey=void 0,C(o)})},t.oa.set(i,d)}return t.oa.get(i)}function yA(e,t){null==e.A&&(t=Ny(t.ka,"EXT-X-START"))&&(e.A=Number(Ly(t,"TIME-OFFSET")))}function AA(e,t){var n=1/0,i=t.segments;if(i.length)for(var r=i.length-1;r>=0;){var a=Ny(i[r].ka,"EXTINF");if(a){n=Number(a.value.split(",")[0]);break}r--}if(!(i=Ny(t.ka,"EXT-X-TARGETDURATION")))throw new Ie(2,4,4024,"EXT-X-TARGETDURATION");i=Number(i.value),(r=Ny(t.ka,"EXT-X-PART-INF"))&&(e.R=Number(Ly(r,"PART-TARGET"))),t=Ny(t.ka,"EXT-X-SERVER-CONTROL"),e.ea&&e.R?(e.u=e.Gc?5*e.R<=n?Math.min(e.R,e.u):Math.min(n,e.u):Math.min(e.R,e.u),e.hb=t?Number(Ly(t,"PART-HOLD-BACK")):0):(e.u=Math.min(n,e.u),n=t?Iy(t,"HOLD-BACK"):null,e.La=n?Number(n.value):0),e.fb=Math.max(i,e.fb)}function bA(e,t){var n=0;if(e.g.defaultPresentationDelay)n=e.g.defaultPresentationDelay;else if(e.hb)n=e.hb;else if(e.La)n=e.La;else for(var i=t.segments.length,r=i-Math.min(i,e.g.hls.liveSegmentsDelay);r<i;r++){var a=Ny(t.segments[r].ka,"EXTINF");n=a?n+Number(a.value.split(",")[0]):n+e.fb}e.A&&e.A<0&&(n=Math.min(-e.A,n),e.A+=n),e.l.Nj(0),e.l.bi(n),e.l.sd(!1)}function TA(e,t,n,i,r){var a=Ny(n,"EXT-X-MAP");if(!a)return null;var o=Ly(a,"URI"),s=By(i(),o,r);if(o=[s.toString(),My(a,"BYTERANGE","")].join("-"),!e.ya.has(o)){for(var u=void 0,l=null,c=!1,d=(n=g(n)).next();!d.done;d=n.next())"EXT-X-KEY"==(d=d.value).name?NA(c=Ly(d,"METHOD"))&&d.id<a.id?(c=!1,u=vA(e,d,t,i,r)):c="NONE"!=c:"EXT-X-BYTERANGE"==d.name&&d.id<a.id&&(l=d);t=function(e,t,n,i,r){var a=0,o=null;return t=My(t,"BYTERANGE"),!t&&n&&(t=n.value),t&&(a=t.split("@"),o=Number(a[0]),a=Number(a[1]),o=a+o-1,i&&(n=o+1-a,n%16&&(o+=16-n%16))),new Xo(function(){return e},a,o,null,null,null,i,r)}(s,a,l,u,c),e.ya.set(o,t)}return e.ya.get(o)}function CA(t,n,i,r,a,o,s,u,l,c){var d=r.ka,h=Ny(d,"EXTINF"),p=0,f=0,m=null;r.Ec.length&&(t.m.isLowLatency=!0);var v=null;if(!t.g.hls.ignoreManifestProgramDateTime){var y=Ny(d,"EXT-X-PROGRAM-DATE-TIME");y&&y.value&&(v=Mn(y.value),t.ib=!0)}var A=$o;if(Ny(d,"EXT-X-GAP")&&(t.m.gapCount++,A=2),!h){if(0==r.Ec.length)throw new Ie(2,4,4024,"EXTINF");if(!t.ea)return null}var b=[];y=!1;var T=null,C=!1,w=!1;if(t.ea&&r.Ec.length){p=n&&e.ReadableStream&&t.g.hls.allowLowLatencyByteRangeOptimization;for(var x=v,S={},E=0;E<r.Ec.length;S={ug:void 0,Ee:void 0},E++){var k=r.Ec[E],I=0==E?i:b[b.length-1],M=0==E?a:I.endTime,L=Number(My(k,"DURATION"))||t.R;if(L){var R=M+L,P=0,D=null;if("EXT-X-PRELOAD-HINT"==k.name?(P=(P=My(k,"BYTERANGE-START"))?Number(P):0,(I=My(k,"BYTERANGE-LENGTH"))?D=P+Number(I)-1:P&&(D=Number.MAX_SAFE_INTEGER)):(P=(D=g(wA(I,P=My(k,"BYTERANGE")))).next().value,D=D.next().value),S.Ee=My(k,"URI"),S.Ee){I=$o,"YES"==My(k,"GAP")&&(t.m.gapCount++,I=2,C=!0),S.ug=null;var O=function(e){return function(){return null==e.ug&&(e.ug=By(u(),e.Ee,o)),e.ug}}(S);p&&P>=0&&null!=D&&(T=O,y=!0),M=new Zo(M,R,O,P,D,n,0,0,1/0,[],"",null,x,I,c),"EXT-X-PRELOAD-HINT"==k.name&&(M.Ih(),w=!0),"YES"!=My(k,"INDEPENDENT")&&E>0&&M.Nd(),(k=l)||(b.length&&b[0].mimeType?k=b[0].mimeType:S.Ee&&(S=jc(S.Ee),k=GA.get(s).get(S)||null)),k&&(M.mimeType=k,HA.has(k)&&(M.ia=null)),b.push(M),x&&(x+=L)}}}}if(h){if(0==(h=Number(h.value.split(",")[0])))return null;p=a+h}else{if(!b.length)return null;p=b[b.length-1].endTime}y&&(C||0!=b[0].startByte?(y=!1,T=null):b=[]),(h=Ny(d,"EXT-X-BYTERANGE"))?(f=(m=g(wA(i,h.value))).next().value,m=m.next().value):b.length&&(f=b[0].startByte,m=b[b.length-1].endByte),i="",h=null,"image"==s&&(i="1x1",s=Ny(d,"EXT-X-TILES"))&&(i=Ly(s,"LAYOUT"),(s=My(s,"DURATION"))&&(h=Number(s)));var N=null;return n=new Zo(a,p,function(){return T?T():(null==N&&(N=By(u(),r.g,o)),N||[])},f,m,n,0,0,1/0,b,i,h,v,A,c,b.length>0&&!!r.g),l&&(n.mimeType=l,HA.has(l)&&(n.ia=null)),y&&(t.Gc=!0,n.kj(),w&&n.Ih()),n}function wA(e,t){var n=0,i=null;return t&&(n=t.split("@"),t=Number(n[0]),i=(n=n[1]?Number(n[1]):e.endByte+1)+t-1),[n,i]}function xA(e,t,n,i,r){if("video"==n||"audio"==n){var a=e.l.m;if(a&&!hA(e,n))for(t=(t=Dy(t,"EXT-X-DATERANGE")).filter(function(e){return null!=Iy(e,"START-DATE")}).sort(function(e,t){return(e=Ly(e,"START-DATE"))<(t=Ly(t,"START-DATE"))?-1:e>t?1:0}),n=0;n<t.length;n++){var o=t[n];try{var s=Mn(Ly(o,"START-DATE"));if(!isNaN(s)){var u=Math.max(0,s-a),l=null,c=My(o,"END-DATE");if(c){var d=Mn(c);if(!isNaN(d)&&(l=d-a)<0)continue}if(null==l){var h=My(o,"DURATION")||My(o,"PLANNED-DURATION");if(h){var p=parseFloat(h);if(isNaN(p)||(l=u+p),s-a+p<0)continue}}var f=My(o,"CLASS")||"com.apple.quicktime.HLS",m="YES"==My(o,"END-ON-NEXT");if(null==l&&m){for(var v=n+1;v<t.length;v++){if(f==(My(t[v],"CLASS")||"com.apple.quicktime.HLS")){var y=Mn(Ly(t[v],"START-DATE"));if(!isNaN(y)&&y&&y>s){l=Math.max(0,y-a);break}}}if(null==l)continue}v=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var A=[],b=g(o.attributes),T=b.next();!T.done;T=b.next()){var C=T.value;if(!v.includes(C.name)){var w=jy(C.value,i);"X-ASSET-URI"!=C.name&&"X-ASSET-LIST"!=C.name||(w=By(r(),C.value,i)[0]),A.push({key:C.name,description:"",data:w,mimeType:null,pictureType:null})}}A.length>1&&e.h.onMetadata(f,u,l,A)}}catch(e){}}}}function SA(e,t,n,i,r,a){function o(e){if(!(e=jc(e)))return null;var t=GA.get(a).get(e);return t||(t=_A.get(e)),t}var s=t.segments,u=null,l=null,c=null,d=null,h=void 0,p=Uy(t.ka,"EXT-X-DISCONTINUITY-SEQUENCE",-1),f=Uy(t.ka,"EXT-X-MEDIA-SEQUENCE",0),m=Ny(t.ka,"EXT-X-SKIP"),v=m?Number(My(m,"SKIPPED-SEGMENTS")):0,y=f+v,A=0;PA(e)&&n.has(y)&&(A=n.get(y)),0===A&&e.Ca==WA&&n.size>0&&!n.has(y)&&null!=e.l.i&&(A=e.l.Mb());var b=[],T=null;m=[];for(var C=0;C<s.length;C++){var w=s[C];(y=Ny(w.ka,"EXT-X-MAP"))&&y.id!==l&&(u=TA(e,t,w.ka,r,i),l=y.id);var x="";(y=w.g)&&(x=jc(y)),x!==d&&(c=o(y),d=x),x=0==C?A:T.endTime,y=f+v+C,Ny(w.ka,"EXT-X-DISCONTINUITY")&&(p++,T&&T.ia&&(T.ia.g=x));for(var S=g(w.ka),E=S.next();!E.done;E=S.next())"EXT-X-KEY"==(E=E.value).name&&(h=NA(Ly(E,"METHOD"))?vA(e,E,t,r,i):void 0);if(n.set(y,x),x=CA(e,u,T,w,x,i,a,r,c,h)){if((T=Uy(w.ka,"EXT-X-BITRATE"))?(m.push({bitrate:T,duration:x.endTime-x.startTime}),x.bandwidth=T):x.endByte?(w=Qo(x))&&(w=8*w/(T=x.endTime-x.startTime)/1e3,m.push({bitrate:w,duration:T}),x.bandwidth=w):m.length&&((T=m.pop()).duration+=x.endTime-x.startTime,m.push(T),x.bandwidth=T.bitrate),x.bandwidth)for(w=(T=g(x.g)).next();!w.done;w=T.next())w.value.bandwidth=x.bandwidth;T=x,x.i=p,hA(e,a)&&null!=e.M&&y<e.M||b.push(x)}}if(t=void 0,m.length&&(t=m.reduce(function(e,t){return e+t.duration},0),t=Math.round(m.reduce(function(e,t){return e+t.bitrate*t.duration},0)/t*1e3)),m=b.some(function(e){return null!=e.h}))for(n={},i=0;i<b.length;n={tf:void 0,rf:void 0,jf:void 0,pd:void 0,hf:void 0},i++)if(n.pd=b[i],null==n.pd.h)for(n.rf=0,n.tf=i,r=function(e){return function(){var t=b[e.tf];if(t){if(null!=t.h)return t.h+e.rf;e.rf-=t.endTime-t.startTime,e.tf+=1}return null}}(n),n.hf=0,n.jf=i,s=function(e){return function(){var t=b[e.jf];if(t){if(t!=e.pd&&(e.hf+=t.endTime-t.startTime),null!=t.h)return t.h+e.hf;--e.jf}return null}}(n);null==n.pd.h;)n.pd.h=s(),null==n.pd.h&&(n.pd.h=r());if(m)for(i=(n=g(b)).next();!i.done;i=n.next())for(i=(r=i.value).h,s=(r=g(r.g)).next();!s.done;s=r.next())(s=s.value).h=i,i+=s.endTime-s.startTime;if(n=e.aa,m&&n!=1/0&&!hA(e,a))for(m=(e=g(b)).next();!m.done;m=e.next())m.value.oi(n);return{segments:b,bandwidth:t}}function EA(e,t){if(e==it){if("vtt"==t||"wvtt"==t)return"text/vtt";if(t&&""!==t)return"application/mp4"}return"image"!=e||t&&"jpeg"!=t?"audio"==e&&"mp4a.40.34"==t?"audio/mpeg":"mjpg"==t?"application/mp4":null:"image/jpeg"}function kA(e){return e==it?"text/vtt":GA.get(e).get("mp4")}function IA(e,t){for(var n=t[e=PA(e)?Math.trunc((t.length-1)/2):0];2==n.Tc()&&e+1<t.length;)n=t[++e];return{segment:n,segmentIndex:e}}function MA(e,t,n,i,r,a,o){e&&(e.width=Number(t)||void 0,e.height=Number(n)||void 0,e.frameRate=Number(i)||void 0,e.hdr=r||void 0,e.videoLayout=a||void 0,e.colorGamut=o||void 0)}function LA(e,t,n){return OA(e,ea(t,e.g.retryParameters),0,{type:n?2:3})}function RA(e){var t,n,i,r,a,o;return D(function(s){switch(s.g){case 1:return e.h?(w(s,2),t=Date.now(),T(s,e.update(),4)):s.return();case 4:n=Date.now(),PA(e)&&(i=(n-t)/1e3,e.Ob.sample(1,i),r=e.g.updatePeriod>0?e.g.updatePeriod:e.u,a=Math.max(0,r-wt(e.Ob)),e.F.Y(a)),S(s,3);break;case 2:if(o=E(s),!e.h)return s.return();if(e.g.raiseFatalErrorOnManifestUpdateRequestFailure)return e.h.onError(o),s.return();o.severity=1,e.h.onError(o),e.F.Y(.1);case 3:if(!e.h)return s.return();e.h.onManifestUpdated(),C(s)}})}function PA(e){return e.Ca!=zA}function DA(e,t){e.Ca=t,e.l&&e.l.sd(!PA(e)),PA(e)||e.F.stop()}function OA(e,t,n,i){if(!e.W)throw new Ie(2,7,7001);return i||(i={}),i.isPreload=e.kc(),t=e.h.networkingEngine.request(n,t,i),Zr(e.W,t),t}function NA(e){return"AES-128"==e||"AES-256"==e||"AES-256-CTR"==e}function UA(t,n,i,r,a,o){var s,u,l,c,d,h,p,f,g,m,v;return D(function(y){switch(y.g){case 1:if("video/mp2t"==i)throw new Ie(2,4,4040);if("apple"===e.shakaMediaKeysPolyfill)throw new Ie(2,4,4041);if(s=Ly(n,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(s))return y.return(null);if((u=By(r(),Ly(n,"URI"),o))[0].startsWith("data:text/plain;base64,")){l=Ye(We(u[0].split("data:text/plain;base64,").pop())),y.B(2);break}return c=u.sort().join(""),t.ra.has(c)||(d=ea(u,t.g.retryParameters),h=OA(t,d,6).promise,t.ra.set(c,h)),T(y,t.ra.get(c),3);case 3:p=y.h,l=Ye(p.data);case 2:if(f="00000000000000000000000000000000",!a){y.B(4);break}return T(y,BA(t,a),5);case 5:(g=y.h)&&(f=g);case 4:return(m=new Map).set(f,l),v="cenc","SAMPLE-AES"==s&&(v="cbcs"),y.return($e(m,v))}})}function BA(e,t){var n,i,r;return D(function(a){return 1==a.g?(n=null,e.sa.has(t)?(n=e.sa.get(t),a.B(2)):(i=Al(t.T(),t.Sc(),t.Pc(),e.g.retryParameters),T(a,OA(e,i,aa,{type:0}).promise,3))):(2!=a.g&&(r=a.h,t.Je(r.data),n=function(e){var t=null;return(new ga).box("moov",ma).box("trak",ma).box("mdia",ma).box("minf",ma).box("stbl",ma).X("stsd",va).box("encv",ya).box("enca",Aa).box("sinf",ma).box("schi",ma).X("tenc",function(e){(e=e.reader).ba(),e.ba(),e.ba(),e.ba(),e=e.ac(16,!1),t=Ye(e)}).parse(e,!0),t}(r.data),e.sa.set(t,n)),a.return(n))})}G("shaka.net.DataUriPlugin",zy),zy.parse=Ky,Jr("data",Ky),(r=Xy.prototype).configure=function(e,t){var n=this.h&&e.updatePeriod!=this.g.updatePeriod&&e.updatePeriod>=0;this.g=e,t&&(this.kc=t),this.j&&this.j.configure(this.g),n&&this.m&&this.m.presentationTimeline.U()&&this.F.Ka()},r.start=function(e,t){var n,i=this;return D(function(r){return 1==r.g?(i.h=t,i.ea=t.isLowLatencyMode(),T(r,LA(i,[e]).promise,2)):3!=r.g?(n=r.h,i.H=n.uri,T(r,function(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,f,v,y,A,b,x,S,k,I,M,L,R,P,O,N,U,B,_,j,q,F,V,G,z,K,W,X,Y,Z,Q,J;return D(function($){switch($.g){case 1:return n=rt,i=Fy(e.Na,t),r=Dy(i.ka,"EXT-X-DEFINE"),a=[],o=[],s=[],e.l=new Tu(null,0),e.l.sd(!0),u=function(){return[e.H]},l=null,c=new Map,1==i.type?(e.P=!1,q=Dy(i.ka,"EXT-X-DEFINE"),c=tA(e,q,e.H),l=n.Ha,F="",V=new Map,T($,pA(e,e.G++,c,i,u,"",l,F,!0,"Media Playlist",null,V,null,!1,null,!1),7)):(function(e,t){for(var n=new ae(e.H).g,i=(t=g(t)).next();!i.done;i=t.next()){var r=i.value;i=My(r,"NAME");var a=My(r,"VALUE");r=My(r,"QUERYPARAM"),i&&a&&(e.C.has(i)||e.C.set(i,a)),r&&(i=n.get(r)[0])&&!e.C.has(i)&&e.C.set(r,i)}}(e,r),d=Dy(i.ka,"EXT-X-MEDIA"),h=Dy(i.ka,"EXT-X-STREAM-INF"),p=Dy(i.ka,"EXT-X-IMAGE-STREAM-INF"),f=Dy(i.ka,"EXT-X-I-FRAME-STREAM-INF"),v=Dy(i.ka,"EXT-X-SESSION-KEY"),y=Dy(i.ka,"EXT-X-SESSION-DATA"),A=Dy(i.ka,"EXT-X-CONTENT-STEERING"),function(e,t){for(var n=(t=g(t)).next();!n.done;n=t.next()){var i=n.value,r=My(i,"DATA-ID");n=My(i,"URI");var a=My(i,"LANGUAGE");i=My(i,"VALUE"),r=(new Map).set("id",r),n&&r.set("uri",By([e.H],n,e.C)[0]),a&&r.set("language",a),i&&r.set("value",i),n=new H("sessiondata",r),e.h&&e.h.onEvent(n)}}(e,y),T($,function(e,t){var n,i,r,a,o,s;return D(function(u){if(!e.h||!e.g)return u.return();for(i=g(t),r=i.next();!r.done;r=i.next())if(a=r.value,o=My(a,"PATHWAY-ID"),s=My(a,"SERVER-URI"),o&&s){e.j=new Hm(e.h),e.j.configure(e.g),e.j.i=[e.H],e.j.setManifestType("HLS"),e.j.h=o,n=zm(e.j,s);break}return T(u,n,0)})}(e,A),4));case 4:if(!e.g.ignoreSupplementalCodecs){for(b=[],x=g(h),S=x.next(),k={};!S.done;k={Wj:void 0},S=x.next())I=S.value,(M=My(I,"SUPPLEMENTAL-CODECS"))&&(k.Wj=M.split(/\s*,\s*/).map(function(e){return e.split("/")[0]}),L=I.attributes.map(function(e){return function(t){var n=t.name,i=t.value;return"CODECS"==n&&(i=e.Wj.join(","),(t=t.value.split(",")).length>1&&(t=tt("audio",t))&&(i+=","+t)),new Py(n,i)}}(k)),b.push(new Ey(I.id,I.name,L,null)));for(h.push.apply(h,m(b)),R=[],P=g(f),O=P.next(),N={};!O.done;N={Xj:void 0},O=P.next())U=O.value,(B=My(U,"SUPPLEMENTAL-CODECS"))&&(N.Xj=B.split(/\s*,\s*/).map(function(e){return e.split("/")[0]}),_=U.attributes.map(function(e){return function(t){var n=t.name;return t=t.value,"CODECS"==n&&(t=e.Xj.join(",")),new Py(n,t)}}(N)),R.push(new Ey(U.id,U.name,_,null)));f.push.apply(f,m(R))}return function(e,t){for(var n=(t=g(t)).next();!n.done;n=t.next()){var i=n.value,r=My(i,"AUDIO");n=My(i,"VIDEO");var a=My(i,"SUBTITLES");if(i=rA(e,i),a){var o=tt(it,i);e.K.set(a,o),Et(i,o)}r&&((a=tt("audio",i))||(a=e.g.hls.defaultAudioCodec),e.K.set(r,a)),n&&((r=tt("video",i))||(r=e.g.hls.defaultVideoCodec),e.K.set(n,r))}}(e,h),function(e,t){t=Oy(t,"CLOSED-CAPTIONS"),e.P=0==t.length;for(var n=(t=g(t)).next();!n.done;n=t.next()){var i=n.value,r=My(i,"LANGUAGE");n=dt(r||"und"),r||(r=My(i,"NAME"))&&(n=r),r=Ly(i,"GROUP-ID"),i=Ly(i,"INSTREAM-ID").replace("SERVICE","svc"),e.J.get(r)||e.J.set(r,new Map),e.J.get(r).set(i,n)}}(e,d),j=function(e,t){return t.map(function(t){return"video"!==(t=sA(e,t)).stream.type?null:t.stream}).filter(function(e){return e})}(e,f),T($,function(e,t,n,i,r,a,o){var s,u,l,c,d,h,p,f,v,y,A,b,C,w,x,S,E,k,I,M,L,R,P,O,N,U,B,_,j,q,F,V,G,H,z,K;return D(function(D){switch(D.g){case 1:if(s=[],u=new Set,e.g.ignoreDrmInfo||!(n.length>0)){D.B(2);break}l=g(n),c=l.next();case 3:if(c.done){D.B(2);break}if(d=c.value,h=Ly(d,"METHOD"),p=My(d,"KEYFORMAT")||"identity",f=null,"NONE"==h){D.B(4);break}if(NA(h)){v=By(r(),Ly(d,"URI"),a),y=v.sort().join(""),e.O.has(y)||(A=ea(v,e.g.retryParameters),b=OA(e,A,6).promise,e.O.set(y,b)),D.B(4);break}if("identity"==p)return T(D,UA(e,d,"",r,null,a),12);if(!(C=e.Dc.get(p))){w=null,D.B(10);break}return T(D,C(d,"",null),11);case 11:w=D.h;case 10:f=w,D.B(6);break;case 12:f=D.h;case 6:if(f){if(f.keyIds)for(x=g(f.keyIds),S=x.next();!S.done;S=x.next())E=S.value,u.add(E);s.push(f)}case 4:c=l.next(),D.B(3);break;case 2:for(k={},I=g(t),M=I.next();!M.done;M=I.next())L=M.value,R=ky(L,!e.j),k[R]?k[R].push(L):k[R]=[L];for(O in P=[],k)N=k[O],U=N[0],B=My(U,"FRAME-RATE"),_=Number(My(U,"AVERAGE-BANDWIDTH"))||Number(Ly(U,"BANDWIDTH")),j=My(U,"RESOLUTION"),q=g(j?j.split("x"):[null,null]),F=q.next().value,V=q.next().value,G=My(U,"VIDEO-RANGE"),(H=My(U,"REQ-VIDEO-LAYOUT"))&&H.includes(",")&&(z=H.split(",").filter(function(e){return"CH-STEREO"==e||"CH-MONO"==e}),H=z[0]),H=H||"CH-MONO",K=iA(e,N,i),P.push.apply(P,m(aA(e,K.audio,K.video,_,F,V,B,G,H,s,u,o)));return D.return(P.filter(function(e){return null!=e}))}})}(e,h,v,d,u,e.C,j),5);case 5:return a=$.h,o=function(e,t){var n=Oy(t,"SUBTITLES");t=n.map(function(t){if(e.g.disableText)return null;try{return oA(e,[t],new Map).stream}catch(t){if(e.g.hls.ignoreTextStreamFailures)return null;throw t}});for(var i=(n=g(n)).next();!i.done;i=n.next()){var r=Ly(i.value,"GROUP-ID");if((i=e.K.get(r))&&(r=e.L.get(r)))for(var a=(r=g(r)).next();!a.done;a=r.next())(a=a.value).stream.codecs=i,a.stream.mimeType=EA(it,i)||kA(it),nA(a.stream)}return t.filter(function(e){return e})}(e,d),T($,function(e,t,n){var i,r;return D(function(a){return 1==a.g?(i=t.map(function(t){var n,i;return D(function(r){if(1==r.g)return e.g.disableThumbnails?r.return(null):(w(r,2),T(r,function(e,t){var n,i,r,a,o,s,u,l,c,d;return D(function(h){return 1==h.g?(n=Ly(t,"URI"),i=My(t,"CODECS","jpeg")||"",e.i.has(n)?h.return(e.i.get(n)):(r=My(t,"LANGUAGE"),a=My(t,"NAME"),o=My(t,"CHARACTERISTICS"),s=uA(e,e.G++,[n],i,"image",r,!1,a,null,null,o,!1,null,!1),(u=My(t,"RESOLUTION"))?T(h,s.stream.createSegmentIndex(),3):h.B(2))):(2!=h.g&&(l=zu(s.stream.segmentIndex),(c=l.tilesLayout)&&(s.stream.width=Number(u.split("x")[0])*Number(c.split("x")[0]),s.stream.height=Number(u.split("x")[1])*Number(c.split("x")[1])),s.stream.closeSegmentIndex()),(d=My(t,"BANDWIDTH"))&&(s.stream.bandwidth=Number(d)),e.i.set(n,s),h.return(s))})}(e,t),4));if(2!=r.g)return n=r.h,r.return(n.stream);if(i=E(r),e.g.hls.ignoreImageStreamFailures)return r.return(null);throw i})}).concat(n.map(function(t){if(e.g.disableThumbnails)return null;try{var n=sA(e,t);return"image"!==n.stream.type?null:n.stream}catch(t){if(e.g.hls.ignoreImageStreamFailures)return null;throw t}})),T(a,Promise.all(i),2)):(r=a.h,a.return(r.filter(function(e){return e})))})}(e,p,f),6);case 6:s=$.h,$.B(3);break;case 7:G=$.h,e.i.set(e.H,G),G.stream&&(z=tl(G.stream),G.stream.segmentIndex.Kb(function(e){e.ia&&(e.ia.Od=z)})),l=G.stream.type,K=!0,(e.g.disableAudio&&"audio"==G.type||e.g.disableVideo&&"video"==G.type&&!G.stream.codecs.includes(","))&&(K=!1),K&&a.push({id:0,language:dt(F||"und"),disabledUntilTime:0,primary:!0,audio:"audio"==G.type?G.stream:null,video:"video"==G.type?G.stream:null,bandwidth:G.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.h)throw new Ie(2,7,7001);if(yA(e,i),1==i.type&&(PA(e)&&(bA(e,i),W=e.u,e.F.Y(W)),X=Array.from(e.i.values()),dA(e,X),eA(e),xA(e,i.ka,l,c,u)),e.m={presentationTimeline:e.l,variants:a,textStreams:o,imageStreams:s,offlineSessionIds:[],sequenceMode:e.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:e.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:e.A},e.Z||!e.g.hls.disableCodecGuessing){$.B(8);break}for(Y=[],Z=g(e.m.variants),Q=Z.next();!Q.done;Q=Z.next())(J=Q.value).audio&&""===J.audio.codecs&&Y.push(J.audio.createSegmentIndex()),J.video&&""===J.video.codecs&&Y.push(J.video.createSegmentIndex());return T($,Promise.all(Y),8);case 8:e.h.makeTextStreamsForClosedCaptions(e.m),C($)}})}(i,n.data),3)):r.return(i.m)})},r.stop=function(){this.F&&(this.F.stop(),this.F=null);var e=[];return this.W&&(e.push(this.W.destroy()),this.W=null),this.g=this.h=null,this.jb.clear(),this.m=null,this.i.clear(),this.L.clear(),this.K.clear(),this.C.clear(),this.ya.clear(),this.oa.clear(),this.O.clear(),this.ra.clear(),this.sa.clear(),this.I.clear(),this.j&&this.j.destroy(),this.S&&(this.S.release(),this.S=null),Promise.all(e)},r.update=function(){var e,t,n,i,r,a,o,s,u,l,c=this;return D(function(d){if(1==d.g){if(!PA(c))return d.return();for(e=[],t=Array.from(c.i.values()),c.u=1/0,c.m.gapCount=0,n=t.filter(function(e){return e.stream.segmentIndex}),i=g(n),r=i.next();!r.done;r=i.next())a=r.value,e.push(Zy(c,a));return T(d,Promise.all(e),2)}for(cA(c,n.map(function(e){return e.stream})),o=n.some(function(e){return 0==e.re}),n.length&&!o&&DA(c,zA),o&&eA(c),s=g(n),u=s.next();!u.done;u=s.next())(l=u.value).stream.isAudioMuxedInVideo||!l.stream.segmentIndex||zu(l.stream.segmentIndex)||c.h.disableStream(l.stream);C(d)})},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(){},r.banLocation=function(e){this.j&&this.j.banLocation(e)},r.setMediaElement=function(e){this.V=e},G("shaka.hls.HlsParser",Xy);var _A=(new Map).set("aac","audio/aac").set("ac3","audio/ac3").set("ec3","audio/ec3").set("mp3","audio/mpeg"),jA=(new Map).set("mp4","audio/mp4").set("mp4a","audio/mp4").set("m4s","audio/mp4").set("m4i","audio/mp4").set("m4a","audio/mp4").set("m4f","audio/mp4").set("cmfa","audio/mp4").set("ts","video/mp2t").set("tsa","video/mp2t"),qA=(new Map).set("mp4","video/mp4").set("mp4v","video/mp4").set("m4s","video/mp4").set("m4i","video/mp4").set("m4v","video/mp4").set("m4f","video/mp4").set("cmfv","video/mp4").set("ts","video/mp2t").set("tsv","video/mp2t"),FA=(new Map).set("mp4","application/mp4").set("m4s","application/mp4").set("m4i","application/mp4").set("m4f","application/mp4").set("cmft","application/mp4").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml"),VA=(new Map).set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif"),GA=(new Map).set("audio",jA).set("video",qA).set("text",FA).set("image",VA),HA=new Set(["video/mp2t"].concat(m(Bi))),zA="VOD",KA="EVENT",WA="LIVE";function XA(e){return um(e)}uo("application/x-mpegurl",function(){return new Xy}),uo("application/vnd.apple.mpegurl",function(){return new Xy});var YA=(new Map).set("com.microsoft.playready",XA).set("com.microsoft.playready.recommendation",XA).set("com.microsoft.playready.software",XA).set("com.microsoft.playready.hardware",XA);function ZA(){var e=this;this.h=this.g=null,this.l=[],this.j=null,this.A=1,this.i=null,this.F=new Ct(5),this.u=new Wi(function(){!function(e){var t;D(function(n){switch(n.g){case 1:return w(n,2),T(n,QA(e),4);case 4:S(n,3);break;case 2:t=E(n),e.h&&(t.severity=1,e.h.onError(t));case 3:if(!e.h)return n.return();C(n)}})}(e)}),this.D=new Yr,this.m=new Map,this.C=function(){return!1}}function QA(e){var t,n,i,r,a,o,s;return D(function(u){if(1==u.g)return t=ea(e.l,e.g.retryParameters),n=e.h.networkingEngine,i=Date.now(),r=n.request(0,t,{type:5,isPreload:e.C()}),Zr(e.D,r),T(u,r.promise,2);if(a=u.h,!e.h)return u.return();a.uri&&!e.l.includes(a.uri)&&e.l.unshift(a.uri);var l=a.uri,c=a.data,d=e.g.mss.manifestPreprocessor;if(d!=fc){if(Dt("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),!(c=Pv(c,"SmoothStreamingMedia")))throw new Ie(2,4,4046,l);d(c),c=je(c.outerHTML)}var h=fn(c,"SmoothStreamingMedia");if(!h)throw new Ie(2,4,4046,l);if((l=e.g.mss.manifestPreprocessorTXml)!=gc&&l(h),e.i||(e.i=new Tu(null,0)),l=Sn(h,"IsLive",Un,!1))throw new Ie(2,4,4047);e.i.sd(!l),d=Sn(h,"TimeScale",On,1e7),c=Sn(h,"DVRWindowLength",On),l&&(0===c||isNaN(c))&&(c=1/0);var p,f=Sn(h,"CanSeek",Un,!1);for(0===c&&f&&(c=1/0),f=null,c&&c>0&&(f=c/d),l&&!isNaN(e.g.availabilityWindowOverride)&&(f=e.g.availabilityWindowOverride),null==f&&(f=1/0),e.i.hg(f),c=Sn(h,"Duration",On,1/0),l||e.i.Fb(c/d),l={variants:[],textStreams:[],timescale:d,duration:c/d},f=An(h,"Protection"),d=e.g.mss.keySystemsBySystemId,c=[],p=(f=g(f)).next();!p.done;p=f.next())c=c.concat(An(p.value,"ProtectionHeader"));if(c.length){for(f=[],p=0;p<c.length;p++){var v=c[p],y=v.attributes.SystemID.toLowerCase(),A=d[y];if(A){var b;e:{if(b=sm(v))for(var w=(b=g(Cn(b,"DATA"))).next();!w.done;w=b.next())if(w=wn(w.value,"KID")){b=We(bn(w)),b=Ye(b=new Uint8Array([b[3],b[2],b[1],b[0],b[5],b[4],b[7],b[6]].concat(m(b.slice(8)))));break e}b=null}y=Je(A,"cenc",y=[{initData:ka(w=We(bn(v)),y=Xe(y.replace(/-/g,"")),new Set,0),initDataType:"cenc",keyId:b}]),b&&y.keyIds.add(b),(A=YA.get(A))&&(y.licenseServerUri=A(v)),f.push(y)}}d=f}else d=[];for(p=d,f=[],d=[],c=[],v=(h=g(h=An(h,"StreamIndex"))).next();!v.done;v=h.next()){A=An(v=v.value,"QualityLevel"),y=l.timescale,b=l.duration,w=An(v,"c");for(var x=[],S=0,E=0;E<w.length;++E){var k=w[E],I=w[E+1],M=Sn(k,"t",On),L=Sn(k,"d",On);if(k=Sn(k,"r",Pn),!L)break;if(M=null!=M?M:S,(k=k||0)&&k--,k<0)if(I){if(null==(I=Sn(I,"t",On)))break;if(M>=I)break;k=Math.ceil((I-M)/L)-1}else{if(b==1/0)break;if(M/y>=b)break;k=Math.ceil((b*y-M)/L)-1}for(I=0;I<=k;++I)S=M+L,x.push({start:M/y,end:S/y,wi:M}),M=S}for(y=x,b=(A=g(A)).next();!b.done;b=A.next())(b=JA(e,v,b.value,y,p,l))&&("audio"!=b.type||e.g.disableAudio?"video"!=b.type||e.g.disableVideo?b.type!=it||e.g.disableText||c.push(b):d.push(b):f.push(b))}for(h=[],p=(f=g(f.length>0?f:[null])).next();!p.done;p=f.next())for(p=p.value,x=(v=g(d.length>0?d:[null])).next();!x.done;x=v.next())y=(A=h).push,b=e,w=p,x=x.value,E=0,w&&w.bandwidth&&w.bandwidth>0&&(E+=w.bandwidth),x&&x.bandwidth&&x.bandwidth>0&&(E+=x.bandwidth),b={id:b.A++,language:w?w.language:"und",disabledUntilTime:0,primary:!!w&&w.primary||!!x&&x.primary,audio:w,video:x,bandwidth:E,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},y.call(A,b);l.variants=h,l.textStreams=c,e.j?(e.j.variants=l.variants,e.j.textStreams=l.textStreams,e.h.filter(e.j)):(e.j={presentationTimeline:e.i,variants:l.variants,textStreams:l.textStreams,imageStreams:[],offlineSessionIds:[],sequenceMode:e.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},e.i.Kf()),Promise.resolve(),o=Date.now(),s=(o-i)/1e3,e.F.sample(1,s),C(u)})}function JA(e,t,n,i,r,a){var o=t.attributes.Type;if("audio"!==o&&"video"!==o&&"text"!==o)return Y("Ignoring unrecognized type:",o),null;var s=t.attributes.Language,u=e.A++,l=Sn(n,"Bitrate",Dn),c=Sn(n,"MaxWidth",Dn),d=Sn(n,"MaxHeight",Dn),h=Sn(n,"Channels",Dn),p=Sn(n,"SamplingRate",Dn),f=a.duration;i.length&&(f=i[i.length-1].end-i[0].start);var m=e.i.getDuration();e.i.Fb(Math.min(f,m));var v={id:u,originalId:t.attributes.Name||String(u),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:l||0,width:c||void 0,height:d||void 0,kind:"",encrypted:r.length>0,drmInfos:r,keyIds:new Set,language:dt(s||"und"),originalLanguage:s,label:"",type:"",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:h,audioSamplingRate:p,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:f,timescale:a.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};if((r=t.attributes.Subtype)&&((r=eb.get(r))&&v.roles.push(r),"main"===r&&(v.primary=!0)),null!==(r=n.attributes.FourCC)&&""!==r||(r=t.attributes.FourCC),!r)if("audio"===o)r="AAC";else if("video"===o)return Y('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;if(!$A.includes(r.toUpperCase()))return Y("Codec not supported:",r),null;switch(n=function(e,t,n,i){if(e=e.attributes.CodecPrivateData)return e;if("audio"!==t)return null;t=i.channelsCount||2,e=i.audioSamplingRate||44100;var r={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return i=r[e],"AACH"===n?(n=new Uint8Array(4),e=r[2*e],n[0]=40|i>>1,n[1]=i<<7|t<<3|e>>1,n[2]=e<<7|8,n[3]=0,t=new Uint16Array(2),t[0]=(n[0]<<8)+n[1],t[1]=(n[2]<<8)+n[3],t[0].toString(16)+t[1].toString(16)):(n=new Uint8Array(2),n[0]=16|i>>1,n[1]=i<<7|t<<3,t=new Uint16Array(1),t[0]=(n[0]<<8)+n[1],t[0].toString(16))}(n,o,r,v),v.mssPrivateData.codecPrivateData=n,o){case"audio":if(!n)return Y("Quality unsupported without CodecPrivateData",o),null;v.type="audio",v.mimeType="mss/audio/mp4",v.codecs=function(e,t){var n=0;return"AACH"===e&&(n=5),t?0===n&&(n=(248&parseInt(t.substr(0,2),16))>>3):(n=2,"AACH"===e&&(n=5)),"mp4a.40."+n}(r,n);break;case"video":if(!n)return Y("Quality unsupported without CodecPrivateData",o),null;v.type="video",v.mimeType="mss/video/mp4",v.codecs=function(e){var t=/00000001[0-9]7/.exec(e);return t.length&&e?"avc1."+e.substr(e.indexOf(t[0])+10,6):""}(n);break;case"text":v.type=it,v.mimeType="application/mp4",("TTML"===r||"DFXP"===r)&&(v.codecs="stpp")}return v.fullMimeTypes.add(ki(v.mimeType,v.codecs)),v.createSegmentIndex=function(){if(v.segmentIndex)return Promise.resolve();if(e.m.has(v.id))var n=e.m.get(v.id);else n=[],"video"==v.type&&(n=v.mssPrivateData.codecPrivateData.split("00000001").slice(1)),n=To(new bo([n={id:v.id,type:v.type,codecs:v.codecs,encrypted:v.encrypted,timescale:v.mssPrivateData.timescale,duration:v.mssPrivateData.duration,Gb:n,Ma:new Uint8Array([]),Ya:new Uint8Array([]),eb:0,gb:0,data:null,stream:v}])),e.m.set(v.id,n);return n=function(e,t,n,i,r){var a=i.attributes.Url.replace("{bitrate}",String(n.bandwidth));i=[];for(var o=(r=g(r)).next(),s={};!o.done;s={ng:void 0},o=r.next())s.ng=o.value,i.push(new Zo(s.ng.start,s.ng.end,function(t){return function(){return Qe(e.l,[a.replace("{start time}",String(t.ng.wi))])}}(s),0,null,t,0,0,n.mssPrivateData.duration));return i}(e,new Xo(function(){return[]},0,null,tl(v),v.mssPrivateData.timescale,n,null,v.encrypted),v,t,i),v.segmentIndex=new Hu(n),Promise.resolve()},v.closeSegmentIndex=function(){v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null)},v}(r=ZA.prototype).configure=function(e,t){this.g=e,t&&(this.C=t)},r.start=function(e,t){var n=this;return D(function(i){if(1==i.g)return n.l=[e],n.h=t,T(i,QA(n),2);if(!n.h)throw new Ie(2,7,7001);return i.return(n.j)})},r.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,null!=this.u&&(this.u.stop(),this.u=null),this.m.clear(),this.D.destroy()},r.update=function(){var e,t=this;return D(function(n){return 1==n.g?(w(n,2),T(n,QA(t),4)):2!=n.g?S(n,0):(e=E(n),t.h&&e?(t.h.onError(e),void C(n)):n.return())})},r.onExpirationUpdated=function(){},r.onInitialVariantChosen=function(){},r.banLocation=function(){},r.setMediaElement=function(){},G("shaka.mss.MssParser",ZA);var $A="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),eb=(new Map).set("CAPT","main").set("SUBT","alternate").set("DESC","main");function tb(e,t,n,i,r,a,o){if(n>=200&&n<=299&&202!=n||304==n)return{uri:r||i,originalUri:i,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"],originalRequest:a};a=null;try{a=_e(t)}catch(e){}throw new Ie(401==n||403==n?2:1,1,1001,i,n,a,e,o,r||i)}function nb(){}function ib(e,t,n,i,r,a){var o=new ub;try{ca(t.headers).forEach(function(e,t){o.append(t,e)})}catch(t){return Hr(new Ie(1,1,1002,e,t,n))}var s=new ob,u={Ji:!1,bk:!1};if(e=function(e,t,n,i,r,a,o,s,u){var l,c,d,h,p,f,g,m,v,y,A,b,x,k;return D(function(I){switch(I.g){case 1:return l=ab,c=sb,h=new ArrayBuffer(0),f=p=0,g={},m=Date.now(),w(I,2),T(I,l(e,i),4);case 4:if(d=I.h,g=function(e){var t={};return e.forEach(function(e,n){t[n.trim()]=e}),t}(d.headers),o(g),"HEAD"==i.method){I.B(5);break}return y=(v=d.headers.get("Content-Length"))?parseInt(v,10):0,d.body?(A=d.clone().body.getReader(),new c({start:function(e){function t(){var n,i,r,o;return D(function(l){switch(l.g){case 1:return w(l,2),T(l,A.read(),4);case 4:n=l.h,S(l,3);break;case 2:return E(l),l.return();case 3:if(n.done){l.B(5);break}if(p+=n.value.byteLength,!s){l.B(5);break}return T(l,s(n.value),5);case 5:i=Date.now(),r=p-f,(i-m>100&&r>=u||n.done)&&(o=n.done?0:y-p,a(i-m,r,o),f=p,m=i),n.done?e.close():(e.enqueue(n.value),t()),C(l)}})}t()}}),T(I,d.arrayBuffer(),8)):T(I,d.arrayBuffer(),9);case 8:h=I.h,I.B(5);break;case 9:h=I.h,b=Date.now(),a(b-m,h.byteLength,0);case 5:t.headers.Range&&(2==(x=t.headers.Range.replace("bytes=","").split("-").filter(function(e){return e}).map(function(e){return parseInt(e,10)})).length&&h.byteLength!=x[1]-x[0]+1&&Y("Payload length does not match range requested bytes",t,d)),S(I,3);break;case 2:if(k=E(I),r.Ji)throw new Ie(1,1,7001,e,n);if(r.bk)throw new Ie(1,1,1003,e,n);throw new Ie(1,1,1002,e,k,n);case 3:return I.return(tb(g,h,d.status,e,d.url,t,n))}})}(e,t,n,{body:t.body||void 0,headers:o,method:t.method,signal:s.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},u,i,r,t.streamDataCallback,a.minBytesForProgressEvents||0),e=new Gr(e,function(){return u.Ji=!0,s.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var l=new Wi(function(){u.bk=!0,s.abort()});l.Y(t/1e3),e.finally(function(){l.stop()})}return e}function rb(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(e){return!1}return!!e.Response&&(!!new Response("").body&&!(!e.fetch||"polyfill"in e.fetch||!e.AbortController))}uo("application/vnd.ms-sstr+xml",function(){return new ZA}),G("shaka.net.HttpFetchPlugin",nb),nb.isSupported=rb,nb.parse=ib;var ab=e.fetch,ob=e.AbortController,sb=e.ReadableStream,ub=e.Headers;function lb(){}function cb(e,t,n,i,r,a){var o=new db,s=Date.now(),u=0;return new Gr(new Promise(function(l,c){o.open(t.method,e,!0),o.responseType="arraybuffer",o.timeout=t.retryParameters.timeout,o.withCredentials=t.allowCrossSiteCredentials;var d={};for(var h in o.onabort=function(){c(new Ie(1,1,7001,e,n))},o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.HEADERS_RECEIVED){for(var e=o.getAllResponseHeaders().trim().split("\r\n"),t={},n=(e=g(e)).next();!n.done;n=e.next())t[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");r(d=t)}},o.onload=function(r){var a=o.response;try{i(Date.now()-s,r.loaded-u,0);var h=tb(d,a,o.status,e,o.responseURL,t,n);l(h)}catch(e){c(e)}},o.onerror=function(t){c(new Ie(1,1,1002,e,t,n))},o.ontimeout=function(){c(new Ie(1,1,1003,e,n))},o.onprogress=function(e){var t=Date.now(),n=a.minBytesForProgressEvents||0,r=e.loaded-u;(t-s>100&&r>=n||e.lengthComputable&&e.loaded==e.total)&&(i(t-s,r,4==o.readyState?0:e.total-e.loaded),u=e.loaded,s=t)},t.headers)try{o.setRequestHeader(h.toLowerCase(),t.headers[h])}catch(t){throw new Ie(1,1,1002,e,t,n)}o.send(t.body)}),function(){return o.abort(),Promise.resolve()})}rb()&&(Jr("http",ib,2,!0),Jr("https",ib,2,!0),Jr("blob",ib,2,!0)),G("shaka.net.HttpXHRPlugin",lb),lb.parse=cb;var db=e.XMLHttpRequest;function hb(e,t,n,i,r){this.g=e,this.i=t,this.groupId=n,this.h=i,this.j=r}function pb(e){var t=e.hc(!1);return t?Ke(t):e.T().map(function(e){return"{"+encodeURI(e.split("#xywh=")[0])+"}"}).join("")+":"+e.startByte+":"+e.endByte}function fb(e,t){return Al(e.g.T(),e.g.startByte,e.g.endByte,t.streaming.retryParameters)}function gb(){this.g=this.j=this.i=0,this.h=new Map,this.l=0}function mb(e,t){e.i+=t;var n=e.l;return e.l++,e.h.set(n,t),n}function vb(e){return 0==e.i?0:e.j/e.i}function yb(e){var t=this;this.A=e,this.i=new Map,this.h=new ua(function(){return Ab(t).catch(function(){})}),this.j=[],this.u=function(){},this.m=function(){},this.g=new gb,this.l=!1}function Ab(e){e.l=!0;var t=e.j.map(function(e){return e()});return e.j=[],Promise.all(t)}function bb(e,t,n,i,r,a){la(e.h);var o=(e.i.get(t)||Promise.resolve()).then(function(){if(e.h.g)throw new Ie(2,9,7001);if(r){var t=xe(n);for(var o in(t=new Ea(t)).data){var s=Number(o);e.m(t.data[s],t.g[s])}}return e.g.close(i,n.byteLength),e.u(vb(e.g),e.g.g),a(n)});e.i.set(t,o)}function Tb(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new Vr,e.onabort=function(e){e.preventDefault(),n.g.reject()},e.onerror=function(e){e.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}function Cb(e,t){return new Promise(function(n,i){var r=e.h.openCursor();r.onerror=i,r.onsuccess=function(){var e;return D(function(i){if(1==i.g)return null==r.result?(n(),i.return()):(e=r.result,T(i,t(e.key,e.value,e),2));e.continue(),C(i)})}})}function wb(e){this.h=e,this.g=[]}function xb(e,t){return Sb(e,t,"readwrite")}function Sb(e,t,n){var i=new Tb(n=e.h.transaction([t],n),t);return e.g.push(i),i.promise().then(function(){Et(e.g,i)},function(){Et(e.g,i)}),i}function Eb(e,t,n){this.h=new wb(e),this.i=t,this.g=n}function kb(e){return Promise.reject(new Ie(2,9,9011,"Cannot add new value to "+e))}function Ib(e,t,n,i){t=(e=xb(e.h,t)).store();for(var r=(n=g(n)).next(),a={};!r.done;a={Hh:void 0},r=n.next())a.Hh=r.value,t.delete(a.Hh).onsuccess=function(e){return function(){return i(e.Hh)}}(a);return e.promise()}function Mb(e,t,n){var i,r,a,o,s,u,l;return D(function(c){if(1==c.g){for(i=Sb(e.h,t,"readonly"),r=i.store(),a={},o=[],s=g(n),u=s.next(),l={};!u.done;l={ag:void 0,Gf:void 0},u=s.next())l.Gf=u.value,l.ag=r.get(l.Gf),l.ag.onsuccess=function(e){return function(){null==e.ag.result&&o.push(e.Gf),a[e.Gf]=e.ag.result}}(l);return T(c,i.promise(),2)}if(o.length)throw new Ie(2,9,9012,"Could not find values for "+o);return c.return(n.map(function(e){return a[e]}))})}function Lb(e){this.g=new wb(e)}function Rb(){this.g=new Map}function Pb(e){var t=null;if(e.g.forEach(function(e,n){e.getCells().forEach(function(e,i){e.hasFixedKeySpace()||t||(t={path:{Yb:n,kb:i},kb:e})})}),t)return t;throw new Ie(2,9,9013,"Could not find a cell that supports add-operations")}function Db(e,t,n){if(!(e=e.g.get(t)))throw new Ie(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new Ie(2,9,9013,"Could not find cell with name "+n);return t}function Ob(e,t){Nb.set(e,t)}Jr("http",cb,1,!0),Jr("https",cb,1,!0),Jr("blob",cb,1,!0),gb.prototype.close=function(e,t){if(this.h.has(e)){var n=this.h.get(e);this.h.delete(e),this.j+=n,this.g+=t}},yb.prototype.destroy=function(){return this.h.destroy()},yb.prototype.queue=function(e,t,n,i,r){var a=this;la(this.h);var o=(this.i.get(e)||Promise.resolve()).then(function(){var e,o,s,u,l,c,d;return D(function(h){if(1==h.g)return T(h,function(e,t){var n,i,r,a;return D(function(o){return 1==o.g?(n=aa,i=e.A.request(n,t),r=function(){return i.abort()},e.j.push(r),T(o,i.promise,2)):(a=o.h,Et(e.j,r),o.return(a.data))})}(a,t),2);if(e=h.h,a.h.g)throw new Ie(2,9,7001);if(i)for(u in o=xe(e),(s=new Ea(o)).data)l=Number(u),c=s.data[l],d=s.g[l],a.m(c,d);return a.g.close(n,e.byteLength),a.u(vb(a.g),a.g.g),h.return(r(e))})});return this.i.set(e,o),o},Tb.prototype.abort=function(){var e=this;return D(function(t){if(1==t.g){try{e.i.abort()}catch(e){}return w(t,2),T(t,e.g,4)}if(2!=t.g)return S(t,0);E(t),C(t)})},Tb.prototype.store=function(){return this.h},Tb.prototype.promise=function(){return this.g},wb.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))},(r=Eb.prototype).destroy=function(){return this.h.destroy()},r.hasFixedKeySpace=function(){return!0},r.addSegments=function(){return kb(this.i)},r.removeSegments=function(e,t){return Ib(this,this.i,e,t)},r.getSegments=function(e){var t,n=this;return D(function(i){return 1==i.g?T(i,Mb(n,n.i,e),2):(t=i.h,i.return(t.map(function(e){return n.Oi(e)})))})},r.addManifests=function(){return kb(this.g)},r.updateManifest=function(){return Promise.reject(new Ie(2,9,9016,"Cannot modify values in "+this.g))},r.updateManifestExpiration=function(e,t){var n=xb(this.h,this.g),i=n.store();return i.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,i.put(n,e))},n.promise()},r.removeManifests=function(e,t){return Ib(this,this.g,e,t)},r.getManifests=function(e){var t,n=this;return D(function(i){return 1==i.g?T(i,Mb(n,n.g,e),2):(t=i.h,i.return(Promise.all(t.map(function(e){return n.je(e)}))))})},r.getAllManifests=function(){var e,t,n=this;return D(function(i){return 1==i.g?(e=Sb(n.h,n.g,"readonly"),t=new Map,T(i,Cb(e,function(e,i){var r;return D(function(a){if(1==a.g)return T(a,n.je(i),2);r=a.h,t.set(e,r),C(a)})}),2)):3!=i.g?T(i,e.promise(),3):i.return(t)})},r.Oi=function(e){return e},r.je=function(e){return Promise.resolve(e)},r.add=function(e,t){var n,i,r,a,o,s,u,l=this;return D(function(c){if(1==c.g){for(n=xb(l.h,e),i=n.store(),r=[],a=g(t),o=a.next(),s={};!o.done;s={Uh:void 0},o=a.next())u=o.value,s.Uh=i.add(u),s.Uh.onsuccess=function(e){return function(){r.push(e.Uh.result)}}(s);return T(c,n.promise(),2)}return c.return(r)})},Lb.prototype.destroy=function(){return this.g.destroy()},Lb.prototype.getAll=function(){var e,t,n=this;return D(function(i){return 1==i.g?(e=Sb(n.g,"session-ids","readonly"),t=[],T(i,Cb(e,function(e,n){t.push(n)}),2)):3!=i.g?T(i,e.promise(),3):i.return(t)})},Lb.prototype.add=function(e){for(var t=xb(this.g,"session-ids"),n=t.store(),i=(e=g(e)).next();!i.done;i=e.next())n.add(i.value);return t.promise()},Lb.prototype.remove=function(e){var t,n=this;return D(function(i){return 1==i.g?T(i,Cb(t=xb(n.g,"session-ids"),function(t,n,i){e.includes(n.sessionId)&&i.delete()}),2):T(i,t.promise(),0)})},Rb.prototype.destroy=function(){for(var e=[],t=g(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},Rb.prototype.init=function(){var e=this;Nb.forEach(function(t,n){(t=t())&&e.g.set(n,t)});for(var t=[],n=g(this.g.values()),i=n.next();!i.done;i=n.next())t.push(i.value.init());return Promise.all(t)},G("shaka.offline.StorageMuxer",Rb),Rb.unregister=function(e){Nb.delete(e)},Rb.register=Ob,Rb.prototype.destroy=Rb.prototype.destroy;var Nb=new Map;function Ub(){Eb.apply(this,arguments)}function Bb(e,t){!function(e){var t=e.streams.filter(function(e){return"audio"==e.contentType});if(e=e.streams.filter(function(e){return"video"==e.contentType}),!t.every(function(e){return e.variantIds})||!e.every(function(e){return e.variantIds})){for(var n=g(t),i=n.next();!i.done;i=n.next())i.value.variantIds=[];for(i=(n=g(e)).next();!i.done;i=n.next())i.value.variantIds=[];if(n=0,e.length&&!t.length){i=n++;for(var r=g(e),a=r.next();!a.done;a=r.next())a.value.variantIds.push(i)}if(!e.length&&t.length)for(i=n++,a=(r=g(t)).next();!a.done;a=r.next())a.value.variantIds.push(i);if(e.length&&t.length)for(i=(t=g(t)).next();!i.done;i=t.next())for(i=i.value,a=(r=g(e)).next();!a.done;a=r.next()){a=a.value;var o=n++;i.variantIds.push(o),a.variantIds.push(o)}}}(e);for(var n=g(e.streams),i=n.next();!i.done;i=n.next());return e.streams.map(function(n){return function(e,t,n){var i=e.initSegmentUri?_b(e.initSegmentUri):null,r=t+e.presentationTimeOffset,a=t+n;return{id:e.id,originalId:null,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(e){var n=_b(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:n,initSegmentKey:i,appendWindowStart:t,appendWindowEnd:a,timestampOffset:r,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}(n,e.startTime,t)})}function _b(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new Ie(2,9,9004,"Could not parse uri "+e)}function jb(){Eb.apply(this,arguments)}function qb(e,t,n){return{id:e.id,originalId:e.originalId,groupId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:e.kind,language:e.language,originalLanguage:e.language||null,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(i){return{startTime:t+i.startTime,endTime:t+i.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:i.dataKey,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function Fb(){Eb.apply(this,arguments)}function Vb(){this.m=this.j=this.i=this.h=this.g=this.l=null}p(Ub,Eb),Ub.prototype.updateManifestExpiration=function(e,t){var n,i,r,a=this;return D(function(o){return n=xb(a.h,a.g),i=n.store(),r=new Vr,i.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,i.put(n),r.resolve()):r.reject(new Ie(2,9,9012,"Could not find values for "+e))},T(o,Promise.all([n.promise(),r]),0)})},Ub.prototype.je=function(e){var t,n,i,r,a,o;return D(function(s){if(1==s.g){for(t=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime,a=Bb(e.periods[n],r),t.push(a);return T(s,Qm(t),2)}return o=s.h,s.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:o,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})},Ub.prototype.Oi=function(e){return{data:e.data}},p(jb,Eb),jb.prototype.je=function(e){var t,n,i,r,a,o;return D(function(s){if(1==s.g){for(t=[],n=0;n<e.periods.length;++n){i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime;for(var u=e.periods[n],l=[],c=g(u.streams),d=c.next();!d.done;d=c.next())0!=(d=d.value).variantIds.length&&l.push(qb(d,u.startTime,u.startTime+r));a=l,t.push(a)}return T(s,Qm(t),2)}return o=s.h,s.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o,sequenceMode:!1})})},p(Fb,Eb),(r=Fb.prototype).hasFixedKeySpace=function(){return!1},r.addSegments=function(e){return this.add(this.i,e)},r.addManifests=function(e){return this.add(this.g,e)},r.updateManifest=function(e,t){return function(e,t,n){var i=(e=xb(e.h,e.g)).store();return i.get(t).onsuccess=function(){i.put(n,t)},e.promise()}(this,e,t)},r.je=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(r=Vb.prototype).init=function(){var t=this,n=new Vr,i=!1,r=new Wi(function(){i=!0,n.reject(new Ie(2,9,9017))});"number"==typeof Gb&&Gb>0&&r.Y(Gb);var a=e.indexedDB.open("shaka_offline_db",5);return a.onsuccess=function(){if(!i){r.stop();var e=a.result;t.l=e;var o=e.objectStoreNames;o=o.contains("manifest")&&o.contains("segment")?new Ub(e,"segment","manifest"):null,t.g=o,o=(o=e.objectStoreNames).contains("manifest-v2")&&o.contains("segment-v2")?new jb(e,"segment-v2","manifest-v2"):null,t.h=o,o=(o=e.objectStoreNames).contains("manifest-v3")&&o.contains("segment-v3")?new jb(e,"segment-v3","manifest-v3"):null,t.i=o,o=(o=e.objectStoreNames).contains("manifest-v5")&&o.contains("segment-v5")?new Fb(e,"segment-v5","manifest-v5"):null,t.j=o,e=e.objectStoreNames.contains("session-ids")?new Lb(e):null,t.m=e,n.resolve()}},a.onupgradeneeded=function(){for(var e=a.result,t=g(["segment-v5","manifest-v5","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},a.onerror=function(e){i||(r.stop(),n.reject(new Ie(2,9,9001,a.error)),e.preventDefault())},n},r.destroy=function(){var e=this;return D(function(t){switch(t.g){case 1:if(!e.g){t.B(2);break}return T(t,e.g.destroy(),2);case 2:if(!e.h){t.B(4);break}return T(t,e.h.destroy(),4);case 4:if(!e.i){t.B(6);break}return T(t,e.i.destroy(),6);case 6:if(!e.j){t.B(8);break}return T(t,e.j.destroy(),8);case 8:if(!e.m){t.B(10);break}return T(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),C(t)}})},r.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},r.getEmeSessionCell=function(){return this.m},r.erase=function(){var t=this;return D(function(n){switch(n.g){case 1:if(!t.g){n.B(2);break}return T(n,t.g.destroy(),2);case 2:if(!t.h){n.B(4);break}return T(n,t.h.destroy(),4);case 4:if(!t.i){n.B(6);break}return T(n,t.i.destroy(),6);case 6:if(!t.j){n.B(8);break}return T(n,t.j.destroy(),8);case 8:return t.l&&t.l.close(),T(n,function(){var t=new Vr,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new Ie(2,9,9001,n.error)),e.preventDefault()},t}(),10);case 10:return t.l=null,t.g=null,t.h=null,t.i=null,t.j=null,T(n,t.init(),0)}})};var Gb=5;function Hb(e,t,n,i){this.g=e,this.i=t,this.h=n,this.l=i,this.j=["offline:",e,"/",t,"/",n,"/",i].join("")}function zb(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var i=e[3];return i&&null!=t?new Hb(t,n,i,Number(e[4])):null}function Kb(e,t){this.h=e,this.g=t}function Wb(e,t){var n=new Tu(null,0);n.Fb(t.duration);var i=t.streams.filter(function(e){return"audio"==e.type}),r=t.streams.filter(function(e){return"video"==e.type});i=function(e,t,n,i){for(var r=new Set,a=g(t),o=a.next();!o.done;o=a.next())for(var s=(o=g(o.value.variantIds)).next();!s.done;s=o.next())r.add(s.value);for(a=g(n),o=a.next();!o.done;o=a.next())for(o=g(o.value.variantIds),s=o.next();!s.done;s=o.next())r.add(s.value);for(a=new Map,r=g(r),o=r.next();!o.done;o=r.next())o=o.value,a.set(o,{id:o,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=g(t),r=t.next();!r.done;r=t.next())for(o=r.value,r=Xb(e,o,i),o=g(o.variantIds),s=o.next();!s.done;s=o.next())(s=a.get(s.value)).language=r.language,s.primary=s.primary||r.primary,s.audio=r;for(n=g(n),t=n.next();!t.done;t=n.next())for(r=t.value,t=Xb(e,r,i),r=g(r.variantIds),o=r.next();!o.done;o=r.next())(o=a.get(o.value)).primary=o.primary||t.primary,o.video=t;return a}(e,i,r,n),r=t.streams.filter(function(e){return e.type==it}).map(function(t){return Xb(e,t,n)});var a=t.streams.filter(function(e){return"image"==e.type}).map(function(t){return Xb(e,t,n)}),o=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var s=g(i.values()),u=s.next();!u.done;u=s.next())(u=u.value).audio&&u.audio.encrypted&&(u.audio.drmInfos=o),u.video&&u.video.encrypted&&(u.video.drmInfos=o);return{presentationTimeline:n,offlineSessionIds:t.sessionIds,variants:Array.from(i.values()),textStreams:r,imageStreams:a,sequenceMode:t.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:t.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function Xb(e,t,n){var i=t.segments.map(function(n){return function(e,t,n){var i=new Hb("segment",e.h,e.g,t.dataKey);return e=new Zo(t.startTime,t.endTime,function(){return[i.toString()]},0,null,null!=t.initSegmentKey?function(e,t){var n=new Hb("segment",e.h,e.g,t);return new Xo(function(){return[n.toString()]},0,null)}(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||""),e.mimeType=t.mimeType||n.mimeType||"",e.codecs=t.codecs||n.codecs||"",t.thumbnailSprite&&e.jg(t.thumbnailSprite),e}(e,n,t)});return n.Ce(i),{id:t.id,originalId:t.originalId,groupId:t.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Hu(i),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,colorGamut:t.colorGamut,videoLayout:t.videoLayout,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,originalLanguage:t.originalLanguage||null,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout,mssPrivateData:t.mssPrivateData,accessibilityPurpose:null,external:t.external,fastSwitching:t.fastSwitching,fullMimeTypes:new Set([ki(t.mimeType,t.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null}}function Yb(){this.g=null}function Zb(){}function Qb(e,t){var n=zb(e);return n&&"manifest"==n.g?e=Kr(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"},originalRequest:t}):e=n&&"segment"==n.g?function(e,t,n){var i=new Rb;return Kr(void 0).bb(function(){return i.init()}).bb(function(){return Db(i,t.Yb(),t.kb())}).bb(function(e){return e.getSegments([t.key()])}).bb(function(e){return{uri:t,data:e[0].data,headers:{},originalRequest:n}}).finally(function(){return i.destroy()})}(n.key(),n,t):Hr(new Ie(2,1,9004,e)),e}function Jb(e,t,n){var i,r,a,o,s,u;return D(function(l){switch(l.g){case 1:i=[];for(var c=[],d=g(n),h=d.next();!h.done;h=d.next()){h=h.value;for(var p=!1,f=g(c),m=f.next();!m.done;m=f.next())if($b((m=m.value).info,h)){m.sessionIds.push(h.sessionId),p=!0;break}p||c.push({info:h,sessionIds:[h.sessionId]})}r=g(c),a=r.next();case 2:if(a.done){l.B(4);break}return o=a.value,s=function(e,t,n){var i,r;return D(function(a){switch(a.g){case 1:return i=new Ia({Cc:t,onError:function(){},Sf:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),w(a,2),i.configure(e),T(a,function(e,t,n,i,r,a){var o,s,u,l,c;return D(function(d){return 1==d.g?(o=[],a.length&&o.push(a[0].contentType),r.length&&o.push(r[0].contentType),s=function(e){return(e=Je(t,e,null)).licenseServerUri=n,e.serverCertificate=i,e.persistentStateRequired=!0,e.sessionType="persistent-license",e},(u=wr(o)).video&&(l=s(a[0].encryptionScheme||""),u.video.drmInfos.push(l)),u.audio&&(c=s(r[0].encryptionScheme||""),u.audio.drmInfos.push(c)),T(d,ar([u],!0,e.O,[]),2)):(la(e.l),d.return(Na(e,[u])))})}(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:S(a,3);break;case 2:return E(a),T(a,i.destroy(),5);case 5:return a.return([]);case 3:return r=[],T(a,Promise.all(n.sessionIds.map(function(e){return D(function(t){return 1==t.g?(w(t,2),T(t,function(e,t){var n,i,r;return D(function(a){return 1==a.g?T(a,_a(e,t,{initData:null,initDataType:null}),2):3!=a.g?(n=a.h)?(i=[],(r=e.i.get(n))&&(r.Qb=new Vr,i.push(r.Qb)),i.push(n.remove()),T(a,Promise.all(i),3)):a.return():(e.i.delete(n),void C(a))})}(i,e),4)):2!=t.g?(r.push(e),S(t,0)):(E(t),void C(t))})})),6);case 6:return T(a,i.destroy(),7);case 7:return a.return(r)}})}(e,t,o),T(l,s,5);case 5:u=l.h,i=i.concat(u),a=r.next(),l.B(2);break;case 4:return l.return(i)}})}function $b(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&kt(e.audioCapabilities,t.audioCapabilities,n)&&kt(e.videoCapabilities,t.videoCapabilities,n)}function eT(e,t){var n=Wb(new Kb(e.Yb(),e.kb()),t),i=t.appMetadata||{};return n=tT(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:i,isIncomplete:t.isIncomplete||!1}}function tT(e){for(var t=[],n=mr(e.variants),i=(n=g(n)).next();!i.done;i=n.next())t.push(lr(i.value));for(n=(e=g(e.textStreams)).next();!n.done;n=e.next())t.push(cr(n.value));return t}function nT(){this.g=new Map}function iT(e,t){var n=t.audio,i=t.video;if(n&&!i&&e.g.set(n.id,n.bandwidth||t.bandwidth),!n&&i&&e.g.set(i.id,i.bandwidth||t.bandwidth),n&&i){var r=n.bandwidth||393216,a=i.bandwidth||t.bandwidth-r;a<=0&&(a=t.bandwidth),e.g.set(n.id,r),e.g.set(i.id,a)}}function rT(e,t){e.g.set(t.id,t.bandwidth||2048)}function aT(e,t){return null==(e=e.g.get(t))&&(e=0),e}function oT(e){var t=this;if(e&&e.constructor!=uh)throw new Ie(2,9,9008);this.g=this.h=null,e?(this.h=e.g,this.g=e.Vb()):(this.h=dc(),this.g=new Qr,this.g.configure(this.h.networking)),this.i=[],this.l=[];var n=!e;this.j=new ua(function(){var e,i,r,a,o;return D(function(s){switch(s.g){case 1:return T(s,Promise.all(t.l.map(function(e){return Ab(e)})),2);case 2:for(e=function(){},i=[],r=g(t.i),a=r.next();!a.done;a=r.next())o=a.value,i.push(o.then(e,e));return T(s,Promise.all(i),3);case 3:if(!n){s.B(4);break}return T(s,t.g.destroy(),4);case 4:t.h=null,t.g=null,C(s)}})}),this.m=1e9}function sT(){if(uy(Re()))e:{for(var e=g(Nb.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function uT(e){var t,n,i;return D(function(r){switch(r.g){case 1:return T(r,(t=new Rb).init(),2);case 2:return T(r,Pb(t),3);case 3:return n=r.h,i=new Hb("manifest",n.path.Yb,n.path.kb,e),T(r,t.destroy(),4);case 4:return T(r,(new oT).remove(i.toString()),0)}})}function lT(e,t,n,i,r,a){var o,s,u,l,c,d,h,p,f,m,v;return D(function(y){switch(y.g){case 1:for(o=!1,w(y,2),s=!0,u=g(n.streams),l=u.next();!l.done;l=u.next())for(c=l.value,d=g(c.segments),h=d.next();!h.done;h=d.next())p=h.value,null!=(f=p.pendingSegmentRefId?i[p.pendingSegmentRefId]:null)&&(p.dataKey=f,p.pendingSegmentRefId=void 0),null!=(f=p.pendingInitSegmentRefId?i[p.pendingInitSegmentRefId]:null)&&(p.initSegmentKey=f,p.pendingInitSegmentRefId=void 0),p.pendingSegmentRefId&&(s=!1),p.pendingInitSegmentRefId&&(s=!1);return n.size+=r,s&&(n.isIncomplete=!1),T(y,e.updateManifest(t,n),4);case 4:o=!0,a(),S(y,0);break;case 2:return m=E(y),T(y,uT(t),5);case 5:if(o){y.B(6);break}return v=Object.values(i),T(y,e.removeSegments(v,function(){}),6);case 6:throw m}})}function cT(e){return e.variants.some(function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t})}function dT(e){return e.variants.some(function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some(function(e){return e.initData&&e.initData.length})})}function hT(e,t,n,i){if(t.expiration=n.pe(),n=Oa(n),t.sessionIds=i?n:[],cT(e)&&i&&!n.length)throw new Ie(2,9,9007)}function pT(e,t){for(var n=[],i=g(e.streams),r=i.next();!r.done;r=i.next())r=r.value,t&&"video"==r.type?n.push({contentType:ki(r.mimeType,r.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=r.type||n.push({contentType:ki(r.mimeType,r.codecs),robustness:e.drmInfo.audioRobustness});return n}function fT(e,t,n){return D(function(i){return T(i,function(e,t,n,i){var r,a,o;return D(function(s){return 1==s.g?i.drmInfo?(r=function(e){var t=Array.from(e.g.keys());if(!t.length)throw new Ie(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}(n),a=i.sessionIds.map(function(e){return{sessionId:e,keySystem:i.drmInfo.keySystem,licenseUri:i.drmInfo.licenseServerUri,serverCertificate:i.drmInfo.serverCertificate,audioCapabilities:pT(i,!1),videoCapabilities:pT(i,!0)}}),T(s,Jb(t,e,a),2)):s.return():3!=s.g?(o=s.h,T(s,r.remove(o),3)):T(s,r.add(a.filter(function(e){return!o.includes(e.sessionId)})),0)})}(e.g,e.h.drm,n,t),0)})}function gT(e,t,n){function i(){}var r=function(e){for(var t=new Set,n=(e=g(e.streams)).next();!n.done;n=e.next())for(var i=(n=g(n.value.segments)).next();!i.done;i=n.next())null!=(i=i.value).initSegmentKey&&t.add(i.initSegmentKey),t.add(i.dataKey);return Array.from(t)}(n);return eT(t,n),Promise.all([e.removeSegments(r,i),e.removeManifests([t.key()],i)])}function mT(e,t){var n;return D(function(i){switch(i.g){case 1:return w(i,2),T(i,_c(t,e.g,e.h.streaming.retryParameters),4);case 4:n=i.h,S(i,3);break;case 2:E(i);case 3:if(n)return i.return(n);throw new Ie(1,2,2011,t)}})}function vT(e,t,n,i,r,a){var o={id:i.id,originalId:i.originalId,groupId:i.groupId,primary:i.primary,type:i.type,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,hdr:i.hdr,colorGamut:i.colorGamut,videoLayout:i.videoLayout,kind:i.kind,language:i.language,originalLanguage:i.originalLanguage,label:i.label,width:i.width||null,height:i.height||null,encrypted:i.encrypted,keyIds:i.keyIds,segments:[],variantIds:[],roles:i.roles,forced:i.forced,channelsCount:i.channelsCount,audioSamplingRate:i.audioSamplingRate,spatialAudio:i.spatialAudio,closedCaptions:i.closedCaptions,tilesLayout:i.tilesLayout,mssPrivateData:i.mssPrivateData,external:i.external,fastSwitching:i.fastSwitching,isAudioMuxedInVideo:i.isAudioMuxedInVideo},s=r.offline.numberOfParallelDownloads,u=0===s?i.id:0;return function(e,t,n){if(t=e.segmentIndex.find(t),null!=t)for(var i=e.segmentIndex.get(t);i;)n(i,t),i=e.segmentIndex.get(++t)}(i,n.presentationTimeline.Mb(),function(n,r){var l=pb(n),c=void 0;if(!a.has(l)){var d=n.endTime-n.startTime;d=aT(t,i.id)*d,d=mb(e.g,d),a.set(l,new hb(n,d,u,!1,r))}n.ia&&(c=pb(n.ia),a.has(c)||(d=.5*aT(t,i.id),d=mb(e.g,d),a.set(c,new hb(n.ia,d,u,!0,r)))),o.segments.push({pendingInitSegmentRefId:c,initSegmentKey:c?0:null,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,tilesLayout:n.tilesLayout,pendingSegmentRefId:l,dataKey:0,mimeType:n.mimeType,codecs:n.codecs,thumbnailSprite:n.thumbnailSprite}),0!==s&&(u=(u+1)%s)}),o}function yT(e){if(e.j.g)throw new Ie(2,9,7001)}function AT(){if(!sT())throw new Ie(2,9,9e3)}function bT(e,t){return D(function(n){return 1==n.g?(e.i.push(t),x(n,2),T(n,t,4)):2!=n.g?n.return(n.h):(k(n),Et(e.i,t),I(n,0))})}function TT(e){for(var t=new Set,n=g(e.variants),i=n.next();!i.done;i=n.next())(i=i.value).audio&&t.add(i.audio),i.video&&t.add(i.video);for(i=(n=g(e.textStreams)).next();!i.done;i=n.next())t.add(i.value);for(n=(e=g(e.imageStreams)).next();!n.done;n=e.next())t.add(n.value);return t}G("shaka.offline.indexeddb.StorageMechanismOpenTimeout",Gb),Ob("idb",function(){return Re().ni()?new Vb:null}),Hb.prototype.Yb=function(){return this.i},Hb.prototype.kb=function(){return this.h},Hb.prototype.key=function(){return this.l},Hb.prototype.toString=function(){return this.j},(r=Yb.prototype).configure=function(){},r.start=function(e,t){var n,i,r,a,o,s,u=this;return D(function(l){switch(l.g){case 1:if(n=zb(e),u.g=n,null==n||"manifest"!=n.g)throw new Ie(2,1,9004,e);return i=new Rb,x(l,2),T(l,i.init(),4);case 4:return T(l,Db(i,n.Yb(),n.kb()),5);case 5:return T(l,l.h.getManifests([n.key()]),6);case 6:return r=l.h,a=r[0],o=new Kb(n.Yb(),n.kb()),s=Wb(o,a),t.makeTextStreamsForClosedCaptions(s),l.return(s);case 2:return k(l),T(l,i.destroy(),7);case 7:I(l,0)}})},r.stop=function(){return Promise.resolve()},r.update=function(){},r.onExpirationUpdated=function(e,t){var n,i,r,a,o,s,u,l=this;return D(function(c){switch(c.g){case 1:return n=l.g,i=new Rb,w(c,2,3),T(c,i.init(),5);case 5:return T(c,Db(i,n.Yb(),n.kb()),6);case 6:return T(c,(r=c.h).getManifests([n.key()]),7);case 7:if(a=c.h,o=a[0],s=o.sessionIds.includes(e),u=null==o.expiration||o.expiration>t,!s||!u){c.B(3);break}return T(c,r.updateManifestExpiration(n.key(),t),3);case 3:return k(c),T(c,i.destroy(),10);case 10:I(c,0);break;case 2:E(c),c.B(3)}})},r.onInitialVariantChosen=function(){},r.banLocation=function(){},r.setMediaElement=function(){},uo("application/x-offline-manifest",function(){return new Yb}),G("shaka.offline.OfflineScheme",Zb),Zb.plugin=Qb,Jr("offline",Qb),(r=oT.prototype).destroy=function(){return this.j.destroy()},r.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=Zl(e,t)),pc(this.h,e)},r.getConfiguration=function(){var e=dc();return pc(e,this.h,dc()),e},r.Vb=function(){return this.g},r.store=function(e,t,n,i,r){var a=this,o=this.getConfiguration(),s=new yb(this.g);return this.l.push(s),t=function(e,t,n,i,r,a,o,s){var u,l,c,d,h,p,f,m,v,y,A,b,x,M,L,R,P,O,N,U,B,_,j;return D(function(q){switch(q.g){case 1:return AT(),l=u=null,c=new Rb,p=h=d=null,w(q,2,3),T(q,a(),5);case 5:return u=q.h,T(q,function(e,t,n,i){var r,a,o,s,u;return D(function(l){if(1==l.g)return r=null,a=e.g,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){r=e},isLowLatencyMode:function(){return!1},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return i.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(i.manifest),yT(e),T(l,n.start(t,o),2);if(3!=l.g)return s=l.h,yT(e),u=TT(s),T(l,Promise.all(te(u,function(e){return e.createSegmentIndex()})),3);if(yT(e),r)throw r;return l.return(s)})}(e,t,u,o),6);case 6:if(f=q.h,yT(e),!(!f.presentationTimeline.U()&&!f.presentationTimeline.ld()))throw new Ie(2,9,9005,t);m=g(i),v=m.next();case 7:if(v.done){q.B(9);break}return y=v.value,T(q,function(e,t,n){var i,r,a,o,s,u,l,c,d,h,p,f,m,v,y;return D(function(A){switch(A.g){case 1:return T(A,mT(e,t),2);case 2:if("text/vtt"!=(i=A.h))throw new Ie(1,2,2017,t);return T(A,function(e,t,n){var i,r,a;return D(function(o){return 1==o.g?(i=aa,(r=ea([e],n)).method="GET",T(o,t.request(i,r).promise,2)):(a=o.h,o.return(a.data))})}(t,e.g,e.h.streaming.retryParameters),3);case 3:if(r=A.h,!(a=qi(i)))throw new Ie(2,2,2014,i);for(o=a(),s={periodStart:0,segmentStart:0,segmentEnd:n.presentationTimeline.getDuration(),vttOffset:0},u=xe(r),l=o.parseMedia(u,s,t,[]),c=[],d=g(l),h=d.next(),p={};!h.done;p={vg:void 0,Fd:void 0},h=d.next())p.Fd=h.value,p.vg=null,f=function(e){return function(){return null==e.vg&&(e.vg=Qe([t],[e.Fd.payload])),e.vg||[]}}(p),m=new Zo(p.Fd.startTime,p.Fd.endTime,f,0,null,null,0,0,1/0),p.Fd.payload.includes("#xywh")&&(4===(v=p.Fd.payload.split("#xywh=")[1].split(",")).length&&m.jg({height:parseInt(v[3],10),positionX:parseInt(v[0],10),positionY:parseInt(v[1],10),width:parseInt(v[2],10)})),c.push(m);if(y=i,!c.length){A.B(4);break}return T(A,_c(c[0].T()[0],e.g,e.h.manifest.retryParameters),5);case 5:y=A.h;case 4:return A.return({id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Hu(c),mimeType:y||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"image",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([ki(y||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null})}})}(e,y,f),10);case 10:A=q.h,f.imageStreams.push(A),yT(e),v=m.next(),q.B(7);break;case 9:b=g(r),x=b.next();case 11:return x.done?(Ka(o.drm.clearKeys,f.variants),R=f.variants.some(function(e){if(e.audio)for(var t=g(e.audio.drmInfos),n=t.next();!n.done;n=t.next())if(n.value.licenseServerUri.startsWith("data:"))return!0;if(e.video)for(t=(e=g(e.video.drmInfos)).next();!t.done;t=e.next())if(t.value.licenseServerUri.startsWith("data:"))return!0;return!1}),P=o.offline.usePersistentLicense,R&&(P=!1),T(q,e.Dd(f,function(e){p=p||e},o,P),15)):(M=x.value,T(q,function(e,t,n,i,r,a,o){var s,u;return D(function(l){if(1==l.g)return a?l.B(2):T(l,mT(e,n),3);if(2!=l.g&&(a=l.h),s={id:e.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Ku(0,t.presentationTimeline.getDuration(),[n]),mimeType:a||"",codecs:o||"",kind:r,encrypted:!1,drmInfos:[],keyIds:new Set,language:i,originalLanguage:i,label:null,type:it,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([ki(a||"",o||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},u=ki(s.mimeType,s.codecs),!Fi(u))throw new Ie(2,2,2014,a);return l.return(s)})}(e,f,M.uri,M.language,M.kind,M.mime,M.codecs),14));case 14:L=q.h,f.textStreams.push(L),yT(e),x=b.next(),q.B(11);break;case 15:if(l=q.h,yT(e),p)throw p;return T(q,function(e,t,n,i){var r,a,o,s,u,l,c,d,h,p,f,m,v,y,A,b,x,k,I,M,L,R,P,O,N,U,B,_,j;return D(function(D){switch(D.g){case 1:return r={width:1/0,height:1/0},function(e,t,n){e.variants=e.variants.filter(function(e){return er(e,t,n)})}(e,n.restrictions,r),T(D,nr(t,e,i,n.drm.preferredKeySystems,n.drm.keySystemsMapping),2);case 2:for(a=[],o=n.preferredDecodingAttributes,s=n.preferredVideoCodecs,u=n.preferredAudioCodecs,l=n.preferredTextFormats,$i(e,s,u,o,l),c=g(e.variants),d=c.next();!d.done;d=c.next())h=d.value,a.push(lr(h));for(p=g(e.textStreams),f=p.next();!f.done;f=p.next())m=f.value,a.push(cr(m));for(v=g(e.imageStreams),y=v.next();!y.done;y=v.next())A=y.value,a.push(dr(A));return T(D,n.offline.trackSelectionCallback(a),3);case 3:for(b=D.h,x=e.presentationTimeline.getDuration(),k=0,I=g(b),M=I.next();!M.done;M=I.next())L=M.value,R=L.bandwidth*x/8,k+=R;return w(D,4),T(D,n.offline.downloadSizeCallback(k),6);case 6:if(!D.h)throw new Ie(2,9,9014);S(D,5);break;case 4:if((P=E(D))instanceof Ie)throw P;throw new Ie(2,9,9015);case 5:for(O=new Set,N=new Set,U=new Set,B=g(b),_=B.next();!_.done;_=B.next())"variant"==(j=_.value).type&&O.add(j.id),"text"==j.type&&N.add(j.id),"image"==j.type&&U.add(j.id);e.variants=e.variants.filter(function(e){return O.has(e.id)}),e.textStreams=e.textStreams.filter(function(e){return N.has(e.id)}),e.imageStreams=e.imageStreams.filter(function(e){return U.has(e.id)}),function(e){e.variants.map(function(e){return e.video});var t=new Set(e.variants.map(function(e){return e.audio}));e=e.textStreams;for(var n=g(t),i=n.next();!i.done;i=n.next())for(var r=(i=g(t)).next();!r.done;r=i.next());for(t=g(e),n=t.next();!n.done;n=t.next())for(n=g(e),i=n.next();!i.done;i=n.next());}(e),C(D)}})}(f,l,o,P),16);case 16:return T(q,c.init(),17);case 17:return yT(e),T(q,Pb(c),18);case 18:return d=q.h,yT(e),O=function(e,t,n,i,r,a,o){var s=function(e,t,n){return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:t=tT(t),appMetadata:n,isIncomplete:!1}}(n,t,i),u=r.offline.progressCallback;!function(e,t,n){e.u=t,e.m=n}(a,function(e,t){s.size=t,u(s,e)},function(t,n){l&&o&&c==n&&Da(e,"cenc",t)});var l=cT(t)&&!dT(t),c=null;l&&(c=CT.get(e.g.keySystem));for(var d=new nT,h=g(t.textStreams),p=h.next();!p.done;p=h.next())d.g.set(p.value.id,52);for(h=g(t.imageStreams),p=h.next();!p.done;p=h.next())rT(d,p.value);for(h=g(t.variants),p=h.next();!p.done;p=h.next())iT(d,p.value);return a=function(e,t,n,i){for(var r=new Map,a=TT(n),o=new Map,s=(a=g(a)).next();!s.done;s=a.next()){var u=vT(e,t,n,s=s.value,i,r);o.set(s.id,u)}for(e=g(n.variants),t=e.next();!t.done;t=e.next())(t=t.value).audio&&o.get(t.audio.id).variantIds.push(t.id),t.video&&o.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(o.values()),si:Array.from(r.values())}}(a,d,t,r),r=a.streams,a=a.si,(d=e.g)&&o&&(d.initData=[]),{Ml:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.pe(),streams:r,sessionIds:o?Oa(e):[],drmInfo:d,appMetadata:i,isIncomplete:!0,sequenceMode:t.sequenceMode,type:t.type},si:a}}(l,f,t,n,o,s,P),N=O.Ml,U=O.si,T(q,d.kb.addManifests([N]),19);case 19:if(B=q.h,yT(e),h=B[0],yT(e),p)throw p;return T(q,function(e,t,n,i,r,a,o,s,u,l){var c,d,h,p,f,m,v,y,A,b,x;return D(function(k){switch(k.g){case 1:if(c={},d=0,h=function(){if(e.j.g||r.l)throw new Ie(2,9,7001)},p=function(e,t){var p,f,m,v,y,A,b,w,x;return D(function(S){if(1==S.g){for(p=g(e),f=p.next(),m={};!f.done;m={xc:void 0},f=p.next())m.xc=f.value,h(),v=fb(m.xc,a),y=m.xc.i,A=m.xc.h,b=function(e){return function(t){var n,i,r,a;return D(function(s){switch(s.g){case 1:if(n=e.xc.g,i=n.hc(!1),!n.aesKey||i){s.B(2);break}return T(s,yl(t,n.aesKey,e.xc.j),3);case 3:t=s.h;case 2:return r=pb(n),T(s,o.addSegments([{data:t}]),4);case 4:a=s.h,h(),c[r]=a[0],d+=t.byteLength,C(s)}})}}(m),w=m.xc.g,(x=w.hc(!1))?bb(r,m.xc.groupId,x,y,A,b):r.queue(m.xc.groupId,v,y,A,b);return T(S,function(e){return D(function(t){return 1==t.g?T(t,Promise.all(e.i.values()),2):t.return(e.g.g)})}(r),2)}return h(),!t||r.l?S.B(0):(hT(s,i,u,l),T(S,o.updateManifest(n,i),0))})},f=!1,w(k,2),!cT(s)||!f||dT(s)){k.B(4);break}return T(k,p(t.filter(function(e){return e.h}),!0),5);case 5:return h(),t=t.filter(function(e){return!e.h}),m=c,v=d,c={},d=0,T(k,lT(o,n,i,m,v,function(){return yT(e)}),6);case 6:h();case 4:if(f){k.B(7);break}return T(k,p(t,!1),8);case 8:return h(),y=c,A=d,c={},d=0,T(k,lT(o,n,i,y,A,function(){return h()}),9);case 9:h();case 7:S(k,0);break;case 2:return b=E(k),x=Object.values(c),T(k,o.removeSegments(x,function(){}),10);case 10:throw b}})}(e,U,h,N,s,o,d.kb,f,l,P),20);case 20:return yT(e),hT(f,N,l,P),T(q,d.kb.updateManifest(h,N),21);case 21:return yT(e),_=new Hb("manifest",d.path.Yb,d.path.kb,h),q.return(eT(_,N));case 3:return k(q),T(q,c.destroy(),22);case 22:if(!u){q.B(23);break}return T(q,u.stop(),23);case 23:if(!l){q.B(25);break}return T(q,l.destroy(),25);case 25:I(q,0);break;case 2:if(j=E(q),null==h){q.B(27);break}return T(q,uT(h),27);case 27:throw p||j}})}(this,e,t||{},i||[],r||[],function(){var t;return D(function(i){return 1==i.g?n?i.B(2):T(i,_c(e,a.g,o.manifest.retryParameters),3):(2!=i.g&&(n=i.h),t=lo(e,n||null),i.return(t()))})},o,s),(t=new Gr(t,function(){return Ab(s)})).finally(function(){Et(a.l,s)}),function(e,t){var n=t.promise;return e.i.push(n),t.finally(function(){Et(e.i,n)})}(this,t)},r.remove=function(e){return bT(this,function(e,t){var n,i,r,a,o,s;return D(function(u){switch(u.g){case 1:if(AT(),null==(n=zb(t))||"manifest"!=n.g)throw new Ie(2,9,9004,t);return i=n,r=new Rb,x(u,2),T(u,r.init(),4);case 4:return T(u,Db(r,i.Yb(),i.kb()),5);case 5:return T(u,(a=u.h).getManifests([i.key()]),6);case 6:return o=u.h,s=o[0],T(u,Promise.all([fT(e,s,r),gT(a,i,s)]),2);case 2:return k(u),T(u,r.destroy(),8);case 8:I(u,0)}})}(this,e))},r.gm=function(){return bT(this,function(e){var t,n,i,r,a,o,s,u,l,c;return D(function(d){switch(d.g){case 1:return AT(),t=e.g,n=e.h.drm,i=new Rb,r=!1,x(d,2),T(d,i.init(),4);case 4:a=[],function(e,t){e.g.forEach(function(e){t(e.getEmeSessionCell())})}(i,function(e){return a.push(e)}),o=g(a),s=o.next();case 5:if(s.done){d.B(2);break}return T(d,(u=s.value).getAll(),8);case 8:return l=d.h,T(d,Jb(n,t,l),9);case 9:return c=d.h,T(d,u.remove(c),10);case 10:c.length!=l.length&&(r=!0),s=o.next(),d.B(5);break;case 2:return k(d),T(d,i.destroy(),11);case 11:I(d,3);break;case 3:return d.return(!r)}})}(this))},r.list=function(){return bT(this,D(function(i){switch(i.g){case 1:return AT(),e=[],t=new Rb,x(i,2),T(i,t.init(),4);case 4:return n=Promise.resolve(),function(e,t){e.g.forEach(function(e,n){e.getCells().forEach(function(e,i){t({Yb:n,kb:i},e)})})}(t,function(t,i){n=n.then(function(){return D(function(n){if(1==n.g)return T(n,i.getAllManifests(),2);n.h.forEach(function(n,i){n=eT(new Hb("manifest",t.Yb,t.kb,i),n),e.push(n)}),C(n)})})}),T(i,n,2);case 2:return k(i),T(i,t.destroy(),6);case 6:I(i,3);break;case 3:return i.return(e)}}));var e,t,n},r.Dd=function(e,t,n,i){var r,a=this;return D(function(o){return 1==o.g?((r=new Ia({Cc:a.g,onError:t,Sf:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(n.drm),T(o,function(e,t,n){return e.ea=!0,e.D=new Map,e.P=n,La(e,t,!1)}(r,e.variants,i),2)):3!=o.g?T(o,Pa(r),3):o.return(r)})},G("shaka.offline.Storage",oT),oT.deleteAll=function(){var e;return D(function(t){return 1==t.g?(e=new Rb,x(t,2),T(t,function(e){var t,n;return D(function(i){return 1==i.g?(t=Array.from(e.g.values()),(n=t.length>0)||Nb.forEach(function(e){(e=e())&&t.push(e)}),T(i,Promise.all(t.map(function(e){return e.erase()})),2)):n?i.B(0):T(i,Promise.all(t.map(function(e){return e.destroy()})),0)})}(e),2)):5!=t.g?(k(t),T(t,e.destroy(),5)):I(t,0)})},oT.prototype.list=oT.prototype.list,oT.prototype.removeEmeSessions=oT.prototype.gm,oT.prototype.remove=oT.prototype.remove,oT.prototype.store=oT.prototype.store,oT.prototype.getNetworkingEngine=oT.prototype.Vb,oT.prototype.getConfiguration=oT.prototype.getConfiguration,oT.prototype.configure=oT.prototype.configure,oT.prototype.destroy=oT.prototype.destroy,oT.support=sT;var CT=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.huawei.wiseplay","3d5e6d359b9a41e8b843dd3c6e72c42c");function wT(){}function xT(){for(var e=g(IT),t=e.next();!t.done;t=e.next()){t=t.value;try{t.callback()}catch(e){Y("Error installing polyfill!",e)}}}function ST(e,t){for(e={priority:t||0,callback:e},t=0;t<IT.length;t++)if(IT[t].priority<e.priority)return void IT.splice(t,0,e);IT.push(e)}dh("offline",sT),G("shaka.polyfill",wT),wT.register=ST,wT.installAll=xT;var ET,kT,IT=[];function MT(){}function LT(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=g(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())RT(t.value)}function RT(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(e){null==e||null==e?this.removeAttribute(t):this.setAttribute(t,e)}})}function PT(e,t,n){this.g=e,this.i=t||null,this.h=n||null,this.keySystem=e.keySystem}function DT(e){return e.startsWith("com.apple")?"cbcs":e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("org.w3")||e.startsWith("com.huawei")?"cenc":(Y("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function OT(e){if(!e)return!1;var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function NT(e,t){return!(e&&e!=t&&("cbcs"!=e&&"cbcs-1-9"!=e||!Re().ud()))}function UT(){}function BT(){Re().mg()&&!ET&&!navigator.emeEncryptionSchemePolyfilled&&navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration&&(ET=navigator.requestMediaKeySystemAccess,navigator.requestMediaKeySystemAccess=_T,navigator.emeEncryptionSchemePolyfilled=!0)}function _T(e,t){var n,i=this;return D(function(r){return 1==r.g?T(r,ET.call(i,e,t),2):(n=r.h,OT(n)?(navigator.requestMediaKeySystemAccess=ET,r.return(n)):(navigator.requestMediaKeySystemAccess=jT,r.return(jT.call(i,e,t))))})}function jT(e,t){var n,i,r,a,o,s,u,l,c,d,h,p,f=this;return D(function(m){if(1==m.g){for(n=DT(e),i=[],r=g(t),a=r.next();!a.done;a=r.next())o=a.value,s=qT(o.videoCapabilities,n),u=qT(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||((l=Object.assign({},o)).videoCapabilities=s,l.audioCapabilities=u,i.push(l));if(!i.length)throw(c=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",c.code=DOMException.NOT_SUPPORTED_ERR,c;return T(m,ET.call(f,e,i),2)}return d=m.h,p=h=null,i[0]&&(i[0].videoCapabilities&&(h=i[0].videoCapabilities[0].encryptionScheme),i[0].audioCapabilities&&(p=i[0].audioCapabilities[0].encryptionScheme)),m.return(new PT(d,h,p))})}function qT(e,t){return e?e.filter(function(e){return NT(e.encryptionScheme,t)}):e}function FT(){}function VT(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",GT),document.addEventListener("webkitfullscreenerror",GT),document.addEventListener("mozfullscreenchange",GT),document.addEventListener("mozfullscreenerror",GT),document.addEventListener("MSFullscreenChange",GT),document.addEventListener("MSFullscreenError",GT)}}function GT(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}function HT(){}function zT(){Re().mg()&&!kT&&!navigator.mediaCapabilitiesEncryptionSchemePolyfilled&&navigator.mediaCapabilities&&(kT=navigator.mediaCapabilities.decodingInfo,navigator.mediaCapabilities.decodingInfo=KT,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0)}function KT(e){var t,n,i=this;return D(function(r){switch(r.g){case 1:return T(r,kT.call(i,e),2);case 2:if(!(t=r.h).supported||!e.keySystemConfiguration)return r.return(t);if(n=t.keySystemAccess,OT(n))return navigator.mediaCapabilities.decodingInfo=kT,r.return(t);if(navigator.mediaCapabilities.decodingInfo=WT,n){r.B(3);break}return T(r,XT(e),4);case 4:return t.keySystemAccess=r.h,r.return(t);case 3:return r.return(WT.call(i,e))}})}function WT(e){var t,n,i,r,a,o,s,u=this;return D(function(l){switch(l.g){case 1:return n=t=null,!e.keySystemConfiguration||(i=e.keySystemConfiguration,r=i.keySystem,n=i.audio&&i.audio.encryptionScheme,t=i.video&&i.video.encryptionScheme,a=DT(r),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},NT(n,a)&&NT(t,a))?T(l,kT.call(u,e),2):l.return(o);case 2:if((s=l.h).keySystemAccess){s.keySystemAccess=new PT(s.keySystemAccess,t,n),l.B(3);break}if(!e.keySystemConfiguration){l.B(3);break}return T(l,XT(e),5);case 5:s.keySystemAccess=l.h;case 3:return l.return(s)}})}function XT(e){var t,n;return D(function(i){if(1==i.g){var r=e.keySystemConfiguration,a=[],o=[];return r.audio&&a.push({robustness:r.audio.robustness||"",contentType:e.audio.contentType,encryptionScheme:r.audio.encryptionScheme}),r.video&&o.push({robustness:r.video.robustness||"",contentType:e.video.contentType,encryptionScheme:r.video.encryptionScheme}),r={initDataTypes:r.initDataType?[r.initDataType]:[],distinctiveIdentifier:r.distinctiveIdentifier,persistentState:r.persistentState,sessionTypes:r.sessionTypes},a.length&&(r.audioCapabilities=a),o.length&&(r.videoCapabilities=o),t=r,T(i,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=i.h,i.return(n)})}function YT(){}function ZT(){Re().mc()||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),YT.originalMcap=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=QT)}function QT(t){var n,i,r,a,o,s,u;return D(function(l){switch(l.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:t},Re(),i=t.video,r=t.audio,"media-source"!=t.type){if("file"!=t.type)return l.return(n);if(i&&(a=i.contentType,!(""!=fs().canPlayType(a)))||r&&(o=r.contentType,!(""!=fs().canPlayType(o))))return l.return(n);l.B(2);break}if(!uy())return l.return(n);if(!i){l.B(3);break}return T(l,function(t){var n,i;return D(function(r){return 1==r.g?(n=Re(),"CAST"!==n.Oa()?r.B(2):T(r,function(t){var n,i,r,a;return D(function(o){if(1==o.g){if(!(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return o.return(Ft(t.contentType));switch(n=t.contentType,t.width&&t.height&&t.width>1280&&t.height>720&&(n+="; width="+t.width+"; height="+t.height),t.framerate&&((i=Math.round(t.framerate))<24||i>30)&&(n+="; framerate="+t.framerate),t.transferFunction||""){case"":case"srgb":break;case"pq":n+="; eotf=smpte2084";break;case"hlg":n+="; eotf=arib-std-b67";break;default:return o.return(!1)}return r=!1,(a=rC).has(n)?(r=a.get(n),o.B(2)):T(o,cast.__platform__.canDisplayType(n),3)}return 2!=o.g&&(r=o.h,a.set(n,r)),o.return(r)})}(t),3)):2!=r.g?(i=r.h,r.return(i)):r.return(Ft(t.contentType))})}(i),4);case 4:if(!l.h)return l.return(n);case 3:if(r){var c=Re().Oa(),d=r.contentType;if("CAST"===c&&r.spatialRendering&&(d+="; spatialRendering=true"),!Ft(d))return l.return(n)}case 2:return t.keySystemConfiguration?(s=t.keySystemConfiguration,T(l,function(e,t,n){var i,r,a,o,s,u,l,c,d,h,p;return D(function(f){switch(f.g){case 1:if(i=[],r=[],n.audio&&(a={robustness:n.audio.robustness||"",contentType:t.contentType},Re().nj()&&t.contentType.includes('codecs="ac-3"')&&(a.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(a.encryptionScheme=n.audio.encryptionScheme),i.push(a)),n.video&&(o={robustness:n.video.robustness||"",contentType:e.contentType},n.video.encryptionScheme&&(o.encryptionScheme=n.video.encryptionScheme),r.push(o)),s={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},i.length&&(s.audioCapabilities=i),r.length&&(s.videoCapabilities=r),u=e?e.contentType:"",l=t?t.contentType:"",c=Di(u)+";"+Pi(u),d=Di(l)+";"+Pi(l),h=n.keySystem,p=null,w(f,2),_r.has(c+"#"+d+"#"+h)){p=_r.get(c+"#"+d+"#"+h)||null,f.B(4);break}return T(f,navigator.requestMediaKeySystemAccess(n.keySystem,[s]),5);case 5:p=f.h,_r.set(c+"#"+d+"#"+h,p);case 4:S(f,3);break;case 2:E(f);case 3:return f.return(p)}})}(i,r,s),6)):(n.supported=!0,l.return(n));case 6:(u=l.h)&&(n.supported=!0,n.keySystemAccess=u);case 5:return l.return(n)}})}wT.Aria=MT,MT.install=LT,ST(LT),PT.prototype.getConfiguration=function(){var e=this.g.getConfiguration();if(e.videoCapabilities)for(var t=g(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.i;if(e.audioCapabilities)for(n=(t=g(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.h;return e},PT.prototype.createMediaKeys=function(){return this.g.createMediaKeys()},wT.EmeEncryptionScheme=UT,UT.install=BT,ST(BT),wT.Fullscreen=FT,FT.install=VT,ST(VT),wT.MCapEncryptionScheme=HT,HT.install=zT,ST(zT,-2),wT.MediaCapabilities=YT,YT.install=ZT,YT.originalMcap=null;var JT,$T,eC,tC,nC,iC,rC=new Map;function aC(){}function oC(){var t=Re(),n="WEBKIT"===t.Ja()?t.Ga():null;for((e.MediaSource||e.ManagedMediaSource)&&n&&e.MediaSource&&(n<=12?(sC(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}()):n<=15&&sC()),n=(t=g(t.xj())).next();!n.done;n=t.next())uC(n.value);(e.MediaSource||e.ManagedMediaSource)&&function(){if(e.MediaSource){var t=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(e){return"mp2t"!=Li(e)&&t(e)}}if(e.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);e.ManagedMediaSource.isTypeSupported=function(e){return"mp2t"!=Li(e)&&n(e)}}}(),e.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var e=MediaSource.isTypeSupported;Re().Yj()&&(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),i=n.findIndex(function(e){return e.startsWith("codecs=")});if(i<0)return e(t);var r=n[i].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=r.findIndex(function(e){return e.startsWith("vp09")});return a>=0&&(r[a]="vp9",n[i]='codecs="'+r.join(",")+'"',t=n.join("; ")),e(t)})}()}function sC(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,O.apply(0,arguments));return t.abort=function(){},t}}function uC(t){var n=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(e){return Pi(e)!=t&&n(e)},e.ManagedMediaSource){var i=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);e.ManagedMediaSource.isTypeSupported=function(e){return Pi(e)!=t&&i(e)}}}function lC(){}function cC(){screen.orientation&&screen.orientation.unlock||(null!=screen.orientation?(void 0===screen.orientation.lock&&(screen.orientation.lock=function(){return Promise.resolve()}),void 0===screen.orientation.unlock&&(screen.orientation.unlock=function(){})):null!=e.orientation&&function(){function t(){switch(e.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new dC;screen.orientation=n,t(),e.addEventListener("orientationchange",function(){t();var e=new H("change");n.dispatchEvent(e)})}())}function dC(){ee.call(this),this.type="",this.angle=0}function hC(){}function pC(t){e.HTMLVideoElement&&e.WebKitMediaKeys&&e.shakaMediaKeysPolyfill!=wC&&(void 0!==t&&t&&(JT=!0,$T=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),eC=HTMLMediaElement.prototype.setMediaKeys,tC=e.MediaKeys,nC=e.MediaKeySystemAccess,iC=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=gC,e.MediaKeys=yC,e.MediaKeySystemAccess=vC,navigator.requestMediaKeySystemAccess=fC,e.shakaMediaKeysPolyfill=wC,xr.clear(),_r.clear())}function fC(e,t){try{var n=new vC(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function gC(e){var t=this.mediaKeys;return t&&t!=e&&AC(t,null),delete this.mediaKeys,(this.mediaKeys=e)?AC(e,this):Promise.resolve()}function mC(e){if(Ee(e=xe(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=je(e=Be(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=we(e),this.dispatchEvent(t)}function vC(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(t=(e=g(t)).next();!t.done;t=e.next()){var n=t.value;if("required"==n.persistentState)t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var i=!1,r=!1;if(n.audioCapabilities)for(var a=g(n.audioCapabilities),o=a.next();!o.done;o=a.next())(o=o.value).contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.audioCapabilities.push(o),r=!0));if(n.videoCapabilities)for(a=(n=g(n.videoCapabilities)).next();!a.done;a=n.next())(a=a.value).contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(t.videoCapabilities.push(a),r=!0));i||(r=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=r?t:null}if(t)return void(this.g=t)}throw(e=Error("Unsupported keySystem")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function yC(e){this.h=new WebKitMediaKeys(e),this.g=new Mt}function AC(e,t){if(e.g.Sa(),!t)return Promise.resolve();e.g.o(t,"webkitneedkey",mC);try{return ku(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(e){return Promise.reject(e)}}function bC(e){ee.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new Mt,this.sessionId="",this.expiration=NaN,this.closed=new Vr,this.keyStatuses=new CC,this.onkeystatuseschange=null}function TC(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.g=t,t=new H("keystatuseschange"),e.dispatchEvent(t),e.onkeystatuseschange&&e.onkeystatuseschange(t)}function CC(){this.size=0,this.g=void 0}ST(ZT,-1),wT.MediaSource=aC,aC.install=oC,ST(oC),wT.Orientation=lC,lC.install=cC,p(dC,ee),dC.prototype.lock=function(e){function t(e){return screen.lockOrientation?screen.lockOrientation(e):screen.mozLockOrientation?screen.mozLockOrientation(e):!!screen.msLockOrientation&&screen.msLockOrientation(e)}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():((e=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},dC.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},ST(cC),wT.PatchedMediaKeysApple=hC,hC.uninstall=function(){e.shakaMediaKeysPolyfill==wC&&JT&&(JT=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",$T),HTMLMediaElement.prototype.setMediaKeys=eC,e.MediaKeys=tC,e.MediaKeySystemAccess=nC,navigator.requestMediaKeySystemAccess=iC,$T=iC=eC=nC=tC=null,e.shakaMediaKeysPolyfill="",xr.clear(),_r.clear())},hC.install=pC,vC.prototype.createMediaKeys=function(){var e=new yC(this.keySystem);return Promise.resolve(e)},vC.prototype.getConfiguration=function(){return this.g},yC.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new bC(this.h,e)},yC.prototype.setServerCertificate=function(){return Promise.resolve(!1)},yC.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},p(bC,ee),(r=bC.prototype).generateRequest=function(e,t){var n=this;this.h=new Vr;try{var i=this.l.createSession("video/mp4",xe(t));this.i=i,this.sessionId=i.sessionId||"",this.j.o(this.i,"webkitkeymessage",function(e){n.h&&(n.h.resolve(),n.h=null),e=new H("message",e=(new Map).set("messageType",null==n.keyStatuses.Tc()?"license-request":"license-renewal").set("message",we(e.message))),n.dispatchEvent(e)}),this.j.o(i,"webkitkeyadded",function(){n.g&&(TC(n,"usable"),n.g.resolve(),n.g=null)}),this.j.o(i,"webkitkeyerror",function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=n.i.error,null!=n.h)n.h.reject(e),n.h=null;else if(null!=n.g)n.g.reject(e),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:TC(n,"output-not-allowed");break;default:TC(n,"internal-error")}}),TC(this,"status-pending")}catch(e){this.h.reject(e)}return this.h},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(e){this.g=new Vr;try{this.i.update(xe(e))}catch(e){this.g.reject(e)}return this.g},r.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Sa()}catch(e){this.closed.reject(e)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(r=CC.prototype).Tc=function(){return this.g},r.forEach=function(e){this.g&&e(this.g,Br.value())},r.get=function(e){if(this.has(e))return this.g},r.has=function(e){var t=Br.value();return!(!this.g||!Ce(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var wC="apple";function xC(){}function SC(){if(e.MediaKeys){var t=Re();MediaKeys.prototype.setServerCertificate&&t.Le()||(MediaKeys.prototype.setServerCertificate=EC)}}function EC(){return Promise.resolve(!1)}function kC(){}function IC(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)FC="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=LC,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=RC,e.MediaKeys=DC,e.MediaKeySystemAccess=PC,e.shakaMediaKeysPolyfill=VC}}function MC(e){return FC?FC+e.charAt(0).toUpperCase()+e.slice(1):e}function LC(e,t){try{var n=new PC(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function RC(e){var t=this.mediaKeys;return t&&t!=e&&OC(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&OC(e,this),Promise.resolve()}function PC(e,t){this.g=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.g="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video");for(var a=(t=g(t)).next();!a.done;a=t.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},s=!1;if(a.audioCapabilities)for(var u=g(a.audioCapabilities),l=u.next();!l.done;l=u.next())(l=l.value).contentType&&(s=!0,r.canPlayType(l.contentType.split(";")[0],this.g)&&(o.audioCapabilities.push(l),i=!0));if(a.videoCapabilities)for(l=(u=g(a.videoCapabilities)).next();!l.done;l=u.next())(l=l.value).contentType&&(s=!0,r.canPlayType(l.contentType,this.g)&&(o.videoCapabilities.push(l),i=!0));if(s||(i=r.canPlayType("video/mp4",this.g)||r.canPlayType("video/webm",this.g)),"required"==a.persistentState&&(n?(o.persistentState="required",o.sessionTypes=["persistent-license"]):i=!1),i)return void(this.h=o)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(e=Error(n)).name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}function DC(e){this.l=e,this.h=null,this.g=new Mt,this.i=[],this.j=new Map}function OC(e,t){e.h=t,e.g.Sa();var n=FC;t&&(e.g.o(t,n+"needkey",function(t){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=we(t.initData),e.h.dispatchEvent(n)}),e.g.o(t,n+"keymessage",function(t){var n=NC(e,t.sessionId);n&&(t=new H("message",t=(new Map).set("messageType",null==n.keyStatuses.Tc()?"licenserequest":"licenserenewal").set("message",t.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(t))}),e.g.o(t,n+"keyadded",function(t){(t=NC(e,t.sessionId))&&t.ready()}),e.g.o(t,n+"keyerror",function(t){var n=NC(e,t.sessionId);if(n){var i=Error("EME v0.1b key error"),r=t.errorCode;r.systemCode=t.systemCode,i.errorCode=r,!t.sessionId&&n.h?(45==t.systemCode&&(i.message="Unsupported session type."),n.h.reject(i),n.h=null):t.sessionId&&n.g?(n.g.reject(i),n.g=null):(i=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?jC(n,"output-restricted"):jC(n,1==i?"expired":"internal-error"))}}))}function NC(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function UC(e,t,n){ee.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new Vr,this.keyStatuses=new qC,this.onkeystatuseschange=null}function BC(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if("persistent-license"==e.l)if(n)var i=xe(je("LOAD_SESSION|"+n));else{var r=je("PERSISTENT|");i=Ze(r,t)}else i=xe(t)}catch(e){return Promise.reject(e)}e.h=new Vr;var a=MC("generateKeyRequest");try{e.j[a](e.i,i)}catch(t){if("InvalidStateError"!=t.name)return e.h=null,Promise.reject(t);new Wi(function(){try{e.j[a](e.i,i)}catch(t){e.h.reject(t),e.h=null}}).Y(.01)}return e.h}function _C(e,t,n){if(e.g)e.g.then(function(){return _C(e,t,n)}).catch(function(){return _C(e,t,n)});else{if(e.g=t,"webkit-org.w3.clearkey"==e.i){var i=Ue(n),r=JSON.parse(i);"oct"!=r.keys[0].kty&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),i=We(r.keys[0].k),r=We(r.keys[0].kid)}else i=xe(n),r=null;var a=MC("addKey");try{e.j[a](e.i,i,r,e.sessionId)}catch(t){e.g.reject(t),e.g=null}}}function jC(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.g=t,t=new H("keystatuseschange"),e.dispatchEvent(t),e.onkeystatuseschange&&e.onkeystatuseschange(t)}function qC(){this.size=0,this.g=void 0}ST(function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||pC())}),wT.PatchedMediaKeysCert=xC,xC.install=SC,ST(SC),wT.PatchedMediaKeysWebkit=kC,kC.install=IC,PC.prototype.createMediaKeys=function(){var e=new DC(this.g);return Promise.resolve(e)},PC.prototype.getConfiguration=function(){return this.h},DC.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new UC(t,this.l,e),this.i.push(e),e},DC.prototype.setServerCertificate=function(){return Promise.resolve(!1)},DC.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},p(UC,ee),(r=UC.prototype).ready=function(){jC(this,"usable"),this.g&&this.g.resolve(),this.g=null},r.generateRequest=function(e,t){return BC(this,t,null)},r.load=function(e){return"persistent-license"==this.l?BC(this,null,e):Promise.reject(Error("Not a persistent session."))},r.update=function(e){var t=new Vr;return _C(this,t,e),t},r.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=MC("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(r=qC.prototype).Tc=function(){return this.g},r.forEach=function(e){this.g&&e(this.g,Br.value())},r.get=function(e){if(this.has(e))return this.g},r.has=function(e){var t=Br.value();return!(!this.g||!Ce(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var FC="",VC="webkit";function GC(){}function HC(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=KC,Object.defineProperty(t,"disablePictureInPicture",{get:XC,set:YC,enumerable:!0,configurable:!0}),document.exitPictureInPicture=WC,document.addEventListener("webkitpresentationmodechanged",zC,!0))}}function zC(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function KC(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function WC(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function XC(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function YC(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function ZC(){}function QC(){e.crypto&&("randomUUID"in e.crypto||(e.crypto.randomUUID=JC))}function JC(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}function $C(){}function ew(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:tw})}function tw(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}function nw(){}function iw(){for(var e=g([Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array]),t=e.next();!t.done;t=e.next())(t=t.value).prototype.indexOf||(t.prototype.indexOf=rw),t.prototype.lastIndexOf||(t.prototype.lastIndexOf=aw),t.prototype.includes||(t.prototype.includes=ow)}function rw(e,t){return Array.prototype.indexOf.call(this,e,t)}function aw(e,t){return Array.prototype.lastIndexOf.call(this,e,t)}function ow(e,t){return-1!==this.indexOf(e,t)}function sw(){}function uw(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch(function(){}),e}}}function lw(){}function cw(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in t||"number"==typeof fs().webkitDroppedFrameCount)&&(t.getVideoPlaybackQuality=dw)}}function dw(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function hw(){}function pw(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=fw;else if(6==n)t=gw;else{try{var i=!!fw(1,2,"")}catch(e){i=!1}i&&(t=fw)}t&&(e.VTTCue=function(e,n,i){return t(e,n,i)})}}function fw(t,n,i){return new e.TextTrackCue(t,n,i)}function gw(t,n,i){return new e.TextTrackCue(t+"-"+n+"-"+i,t,n,i)}function mw(e){ee.call(this),this.g=e,this.m=null,this.h=[],this.j=-1,this.i=this.l=null,this.u=new Mt}function vw(){}ST(IC),wT.PiPWebkit=GC,GC.install=HC,ST(HC),wT.RandomUUID=ZC,ZC.install=QC,ST(QC),wT.Symbol=$C,$C.install=ew,ST(ew),wT.TypedArray=nw,nw.install=iw,ST(iw),wT.VideoPlayPromise=sw,sw.install=uw,ST(uw),wT.VideoPlaybackQuality=lw,lw.install=cw,ST(cw),wT.VTTCue=hw,hw.install=pw,ST(pw),p(mw,ee),(r=mw.prototype).destroy=function(){var e=this;return D(function(t){if(1==t.g)return T(t,e.removeAllItems(),2);e.g=null,e.u&&(e.u.release(),e.u=null),ee.prototype.release.call(e),C(t)})},r.configure=function(e){this.m=e},r.getConfiguration=function(){return this.m},r.getCurrentItem=function(){return this.h.length&&this.j>=0&&this.j<this.h.length?this.h[this.j]:null},r.getCurrentItemIndex=function(){return this.j},r.getItems=function(){return this.h.slice()},r.insertItems=function(e){this.h.push.apply(this.h,m(e)),this.dispatchEvent(new H("itemsinserted"))},r.removeAllItems=function(){var e,t,n,i,r=this;return D(function(a){if(1==a.g)return r.u.Sa(),r.h.length&&r.j>=0?T(a,r.g.tc(),2):a.B(2);if(4!=a.g){for(e=[],r.i&&(r.i.preloadManager.j||e.push(r.i.preloadManager.destroy()),r.i=null),r.l&&(r.l.preloadManager.j||e.push(r.l.preloadManager.destroy()),r.l=null),t=g(r.h),n=t.next();!n.done;n=t.next())(i=n.value).preloadManager&&!i.preloadManager.j&&e.push(i.preloadManager.destroy());return e.length?T(a,Promise.all(e),4):a.B(4)}r.h=[],r.j=-1,r.dispatchEvent(new H("itemsremoved")),C(a)})},r.playItem=function(e){var t,n,i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A=this;return D(function(b){switch(b.g){case 1:if(A.u.Sa(),!A.h.length||e>=A.h.length)throw new Ie(2,7,7007);if(t=A.getCurrentItem(),n=A.h[e],A.j!=e&&(A.j=e,A.dispatchEvent(new H("currentitemchanged"))),i=A.g.h,(r=A.m?A.m.preloadNextUrlWindow:0)>0&&(a=!1,A.u.o(i,"timeupdate",function(){var e,t,n,o;return D(function(s){switch(s.g){case 1:if(A.l||A.h.length<=1||a||A.g.U()||!i.duration)return s.return();if(e=A.g.wa().end-i.currentTime,isNaN(e)){s.B(0);break}if(!(e<=r)){s.B(0);break}if(t=A.m&&A.m.repeatMode,n=null,A.j+1<A.h.length?n=A.h[A.j+1]:1==t&&(n=A.h[0]),!n||n.preloadManager&&!n.preloadManager.j){s.B(0);break}return a=!0,o=null,w(s,5),T(s,A.g.preload(n.manifestUri,n.startTime,n.mimeType,n.config),7);case 7:o=s.h,S(s,6);break;case 5:E(s),o=null;case 6:A.l={item:n,preloadManager:o},a=!1,C(s)}})})),A.u.o(A.g,"complete",function(){var e=A.m&&A.m.repeatMode,t=!1;if(2==e)t=!0;else{var n=A.j+1;n<A.h.length?A.playItem(n):1==e&&(1==A.h.length?t=!0:A.playItem(0))}t&&(i.paused?(i.currentTime=A.g.wa().start,i.play()):A.u.o(i,"paused",function(){i.currentTime=A.g.wa().start,i.play()}))}),o=n.manifestUri,n.preloadManager&&!n.preloadManager.j&&(o=n.preloadManager),s=!1,A.l&&A.l.item==n&&A.l.preloadManager?o=A.l.preloadManager:A.i&&A.i.item==n&&A.i.preloadManager&&(o=A.i.preloadManager,s=!0),!A.i){b.B(2);break}if(s||A.i.preloadManager.j){b.B(3);break}return T(b,A.i.preloadManager.destroy(),3);case 3:A.i=null;case 2:if(!(A.m&&A.m.preloadPrevItem&&t&&A.g.l===gp)){b.B(5);break}return u=null,w(b,6),T(b,A.g.ck(),8);case 8:u=b.h,S(b,7);break;case 6:E(b),u=null;case 7:A.i={item:t,preloadManager:u};case 5:return n.config&&(A.g.Bj(),A.g.configure(n.config)),T(b,A.g.load(o,n.startTime,n.mimeType),9);case 9:if(A.l=null,n.extraText)for(l=g(n.extraText),c=l.next();!c.done;c=l.next())(d=c.value).mime?A.g.ge(d.uri,d.language,d.kind,d.mime,d.codecs):A.g.ge(d.uri,d.language,d.kind);if(n.extraThumbnail)for(h=g(n.extraThumbnail),p=h.next();!p.done;p=h.next())f=p.value,A.g.gf(f);if(n.extraChapter)for(m=g(n.extraChapter),v=m.next();!v.done;v=m.next())y=v.value,A.g.ef(y.uri,y.language,y.mime);C(b)}})},G("shaka.queue.QueueManager",mw),mw.prototype.playItem=mw.prototype.playItem,mw.prototype.removeAllItems=mw.prototype.removeAllItems,mw.prototype.insertItems=mw.prototype.insertItems,mw.prototype.getItems=mw.prototype.getItems,mw.prototype.getCurrentItemIndex=mw.prototype.getCurrentItemIndex,mw.prototype.getCurrentItem=mw.prototype.getCurrentItem,mw.prototype.getConfiguration=mw.prototype.getConfiguration,mw.prototype.configure=mw.prototype.configure,mw.prototype.destroy=mw.prototype.destroy,bp=function(e){return new mw(e)},vw.prototype.parseInit=function(){},vw.prototype.setSequenceMode=function(){},vw.prototype.setManifestType=function(){},vw.prototype.parseMedia=function(e,t){for(var n=null,i=[],r=(e=g(e=Ue(e).split(/\r?\n/))).next();!r.done;r=e.next())if((r=r.value)&&!/^\s+$/.test(r)&&(r=yw.exec(r))){var a=Aw.exec(r[1]);r=new Kn(a=60*parseInt(a[1],10)+parseFloat(a[2].replace(",",".")),t.segmentEnd?t.segmentEnd:a+2,r[2]),n&&(n.endTime=a,i.push(n)),n=r}return n&&i.push(n),i},G("shaka.text.LrcTextParser",vw),vw.prototype.parseMedia=vw.prototype.parseMedia,vw.prototype.setManifestType=vw.prototype.setManifestType,vw.prototype.setSequenceMode=vw.prototype.setSequenceMode,vw.prototype.parseInit=vw.prototype.parseInit;var yw=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,Aw=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function bw(){this.g="UNKNOWN"}function Tw(e,t,n,i,r,a,o,s,u,l,c,d,h,p){var f=c;if(vn(t)){if(!d)return null;var m={tagName:"span",children:[bn(t)],attributes:{},parent:null}}else m=t;for(var v=null,y=g(Yw),A=y.next();!A.done&&!(v=Mw(m,"backgroundImage",r,"#",A.value)[0]);A=y.next());y=null;var b=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if((A=In(m,Yw,"backgroundImage"))&&b.test(A)){if((y=parseInt(A.split(":").pop(),10)-1)>=p.length)return null;y=p[y]}else h&&A&&!A.startsWith("#")&&(b=new ae(h),A=new ae(A),(A=b.resolve(A).toString())&&(y=A));if(("p"==t.tagName||v||y)&&(d=!0),t=d,A="default"==(m.attributes["xml:space"]||(u?"default":"preserve")),u=[],!(b=m.children.every(vn)))for(var T=g(m.children),C=T.next();!C.done;C=T.next())(C=Tw(e,C.value,n,i,r,a,o,s,A,l,m,d,h,p))&&u.push(C);if(r=null!=c,h=bn(m),h=m.children.length&&h&&/\S/.test(h),!((T=m.attributes.begin||m.attributes.end||m.attributes.dur)||h||"br"==m.tagName||0!=u.length||r&&!A))return null;for(h=(p=Rw(m,i)).start,p=p.end;f&&f.tagName&&"tt"!=f.tagName;)h=(p=Lw(f,i,h,p)).start,p=p.end,f=f.parent;if(null==h&&(h=0),h+=n.periodStart,p=null==p?1/0:p+n.periodStart,"HLS"!==e.g&&(h=Math.max(h,n.segmentStart),p=Math.min(p,n.segmentEnd)),!T&&u.length>0)for(h=1/0,p=0,i=(n=g(u)).next();!i.done;i=n.next())i=i.value,h=Math.min(h,i.startTime),p=Math.max(p,i.endTime);if("br"==m.tagName)return(e=new Kn(h,p,"")).lineBreak=!0,e;if(n="",b&&(n=Ve(bn(m)||""),A&&(n=n.replace(/\s+/g," "))),(n=new Kn(h,p,n)).nestedCues=u,d||(n.isContainer=!0),l&&(n.cellResolution=l),l=Mw(m,"region",o,"")[0],m.attributes.region&&l&&l.attributes["xml:id"]){var w=l.attributes["xml:id"];n.region=s.filter(function(e){return e.id==w})[0]}return s=l,c&&r&&!m.attributes.region&&!m.attributes.style&&(s=Mw(c,"region",o,"")[0]),function(e,t,n,i,r,a,o,s,u){s=s||u,"rtl"==Sw(e,n,i,o,"direction",s)&&(t.direction="rtl"),u=Sw(e,n,i,o,"writingMode",s),"tb"==u||"tblr"==u?t.writingMode="vertical-lr":"tbrl"==u?t.writingMode="vertical-rl":"rltb"==u||"rl"==u?t.direction="rtl":u&&(t.direction=ri),(u=Sw(e,n,i,o,"textAlign",!0))?(t.positionAlign=Kw.get(u),t.lineAlign=zw.get(u),t.textAlign=ti[u.toUpperCase()]):t.textAlign=ei,(u=Sw(e,n,i,o,"displayAlign",!0))&&(t.displayAlign=ii[u.toUpperCase()]);(u=Sw(e,n,i,o,"color",s))&&(t.color=ww(u));(u=Sw(e,n,i,o,"backgroundColor",s))&&(t.backgroundColor=ww(u));(u=Sw(e,n,i,o,"border",s))&&(t.border=u);if(u=Sw(e,n,i,o,"fontFamily",s))switch(u){case"monospaceSerif":t.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":t.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":t.fontFamily="sans-serif";break;case"monospaceSansSerif":t.fontFamily="Consolas,monospace";break;case"proportionalSerif":t.fontFamily="serif";break;default:t.fontFamily=u.split(",").filter(function(e){return"default"!=e}).join(",")}(u=Sw(e,n,i,o,"fontWeight",s))&&"bold"==u&&(t.fontWeight=hi),u=Sw(e,n,i,o,"wrapOption",s),t.wrapLine=!u||"noWrap"!=u,(u=Sw(e,n,i,o,"lineHeight",s))&&u.match(Bw)&&(t.lineHeight=u),(u=Sw(e,n,i,o,"fontSize",s))&&(u.match(Bw)||u.match(Uw))&&(t.fontSize=u),(u=Sw(e,n,i,o,"fontStyle",s))&&(t.fontStyle=gi[u.toUpperCase()]);r?(a=r.attributes.imageType||r.attributes.imagetype,u=r.attributes.encoding,r=bn(r).trim(),"PNG"==a&&"Base64"==u&&r&&(t.backgroundImage="data:image/png;base64,"+r)):a&&(t.backgroundImage=a),(r=Sw(e,n,i,o,"textOutline",s))&&(r=r.split(" "),r[0].match(Bw)?t.textStrokeColor=t.color:(t.textStrokeColor=ww(r[0]),r.shift()),r[0]&&r[0].match(Bw)?t.textStrokeWidth=r[0]:t.textStrokeColor="");(r=Sw(e,n,i,o,"letterSpacing",s))&&r.match(Bw)&&(t.letterSpacing=r),(r=Sw(e,n,i,o,"linePadding",s))&&r.match(Bw)&&(t.linePadding=r),(r=Sw(e,n,i,o,"opacity",s))&&(t.opacity=parseFloat(r));(r=Ew(e,i,o,"textDecoration"))&&xw(t,r),(r=kw(e,n,o,"textDecoration"))&&xw(t,r),(r=Sw(e,n,i,o,"textCombine",s))&&(t.textCombineUpright=r);switch(Sw(e,n,i,o,"ruby",s)){case"container":t.rubyTag="ruby";break;case"text":t.rubyTag="rt"}}(e,n,m,s,v,y,a,t,0==u.length),n}function Cw(e,t,n,i){var r=new $t,a=t.attributes["xml:id"];if(!a)return null;r.id=a,a=null,i&&(a=Nw.exec(i)||_w.exec(i)),i=a?Number(a[1]):null,a=a?Number(a[2]):null;var o,s=Ew(e,t,n,"extent");if(s){var u=(o=Nw.exec(s))||_w.exec(s);null!=u&&(r.width=Number(u[1]),r.height=Number(u[2]),o||(null!=i&&(r.width=100*r.width/i),null!=a&&(r.height=100*r.height/a)),r.widthUnits=o||null!=i?en:0,r.heightUnits=o||null!=a?en:0)}return(e=Ew(e,t,n,"origin"))&&(null!=(u=(o=Nw.exec(e))||_w.exec(e))&&(r.viewportAnchorX=Number(u[1]),r.viewportAnchorY=Number(u[2]),o?s||(r.width=100-r.viewportAnchorX,r.widthUnits=en,r.height=100-r.viewportAnchorY,r.heightUnits=en):(null!=a&&(r.viewportAnchorY=100*r.viewportAnchorY/a),null!=i&&(r.viewportAnchorX=100*r.viewportAnchorX/i)),r.viewportAnchorUnits=o||null!=i?en:0)),r}function ww(e){var t=e.match(/rgba\(([^)]+)\)/);return t&&4==(t=t[1].split(",")).length?(t[3]=String(Number(t[3])/255),"rgba("+t.join(",")+")"):e}function xw(e,t){for(var n=(t=g(t.split(" "))).next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes(mi)||e.textDecoration.push(mi);break;case"noUnderline":e.textDecoration.includes(mi)&&Et(e.textDecoration,mi);break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&Et(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&Et(e.textDecoration,"overline")}}function Sw(e,t,n,i,r,a){return a=void 0===a||a,(t=kw(e,t,i,r))?t:a?Ew(e,n,i,r):null}function Ew(e,t,n,i){if(!t)return null;var r=In(t,Xw,i);return r||Iw(e,t,n,i)}function kw(e,t,n,i){var r=In(t,Xw,i);return r||Iw(e,t,n,i)}function Iw(e,t,n,i){t=Mw(t,"style",n,"");for(var r=null,a=0;a<t.length;a++){var o=En(t[a],"urn:ebu:tt:style",i);o||(o=In(t[a],Xw,i)),o||(o=kw(e,t[a],n,i)),o&&(r=o)}return r}function Mw(e,t,n,i,r){var a=[];if(!e||n.length<1)return a;var o=e;for(e=null;!e&&!(e=r?En(o,r,t):o.attributes[t])&&(o=o.parent););if(t=e)for(r=(t=g(t.split(" "))).next();!r.done;r=t.next())for(r=r.value,o=(e=g(n)).next();!o.done;o=e.next())if(i+(o=o.value).attributes["xml:id"]==r){a.push(o);break}return a}function Lw(e,t,n,i){return e=Rw(e,t),null==n?n=e.start:null!=e.start&&(n+=e.start),null==i?i=e.end:null!=e.start&&(i+=e.start),{start:n,end:i}}function Rw(e,t){var n=Pw(e.attributes.begin,t),i=Pw(e.attributes.end,t);return e=Pw(e.attributes.dur,t),null==i&&null!=e&&(i=n+e),{start:n,end:i}}function Pw(e,t){var n=null;if(jw.test(e)){e=jw.exec(e),n=Number(e[1]);var i=Number(e[2]),r=Number(e[3]),a=Number(e[4]);n=(r+=(a+=(Number(e[5])||0)/t.h)/t.frameRate)+60*i+3600*n}else if(qw.test(e))n=Dw(qw,e);else if(Fw.test(e))n=Dw(Fw,e);else if(Vw.test(e))e=Vw.exec(e),n=Number(e[1])/t.frameRate;else if(Gw.test(e))e=Gw.exec(e),n=Number(e[1])/t.g;else if(Hw.test(e))n=Dw(Hw,e);else if(e)throw new Ie(2,2,2001,"Could not parse cue time range in TTML");return n}function Dw(e,t){return null==(e=e.exec(t))||""==e[0]?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}function Ow(e,t,n,i){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(i),0==this.g&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}ji("application/x-subtitle-lrc",function(){return new vw}),bw.prototype.parseInit=function(){},bw.prototype.setSequenceMode=function(){},bw.prototype.setManifestType=function(e){this.g=e},bw.prototype.parseMedia=function(e,t,n,i){var r=Ue(e);if(e=[],""==r)return e;var a=gn(r,"tt",!0);if(!a)throw new Ie(2,2,2005,"Failed to parse TTML.");if(!(r=Cn(a,"body")[0]))return[];var o=In(a,Ww,"frameRate"),s=In(a,Ww,"subFrameRate"),u=In(a,Ww,"frameRateMultiplier"),l=In(a,Ww,"tickRate"),c=In(a,Ww,"cellResolution"),d=a.attributes["xml:space"]||"default",h=In(a,Xw,"extent");if("default"!=d&&"preserve"!=d)throw new Ie(2,2,2005,"Invalid xml:space value: "+d);d="default"==d,o=new Ow(o,s,u,l),c=function(e){return e&&(e=/^(\d+) (\d+)$/.exec(e))?{columns:parseInt(e[1],10),rows:parseInt(e[2],10)}:null}(c),s=((s=Cn(a,"metadata")[0])?s.children:[]).filter(function(e){return"\n"!=e}),u=Cn(a,"style"),l=[];for(var p=g(a=Cn(a,"region")),f=p.next();!f.done;f=p.next())(f=Cw(this,f.value,u,h))&&l.push(f);if(An(r,"p").length)throw new Ie(2,2,2001,"<p> can only be inside <div> in TTML");for(p=(h=g(An(r,"div"))).next();!p.done;p=h.next())if(An(p.value,"span").length)throw new Ie(2,2,2001,"<span> can only be inside <p> in TTML");return(t=Tw(this,r,t,o,s,u,a,l,d,c,null,!1,n,i))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e},G("shaka.text.TtmlTextParser",bw),bw.prototype.parseMedia=bw.prototype.parseMedia,bw.prototype.setManifestType=bw.prototype.setManifestType,bw.prototype.setSequenceMode=bw.prototype.setSequenceMode,bw.prototype.parseInit=bw.prototype.parseInit;var Nw=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,Uw=/^(\d{1,4}(?:\.\d+)?|100)%$/,Bw=/^(\d+px|\d+em|\d*\.?\d+c)$/,_w=/^(\d+)px (\d+)px$/,jw=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,qw=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Fw=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,Vw=/^(\d*(?:\.\d*)?)f$/,Gw=/^(\d*(?:\.\d*)?)t$/,Hw=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),zw=(new Map).set("left",si).set("center","center").set("right","end").set("start",si).set("end","end"),Kw=(new Map).set("left","line-left").set("center","center").set("right","line-right"),Ww=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],Xw=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],Yw=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function Zw(){this.g=new bw}function Qw(){this.g="UNKNOWN"}function Jw(e,t,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=i[1],e.textAlign="middle"==t?ei:ti[t.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==i[1]?"vertical-lr":"vertical-rl":(i=/^size:([\d.]+)%$/.exec(t))?e.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(t))?(e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center"==t||"middle"==t?"center":$n)):(i=/^region:(.*)$/.exec(t))?(t=function(e,t){return e=e.filter(function(e){return e.id==t}),e.length?e[0]:null}(n,i[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=ui[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=oi,e.line=Number(n[1]),n[2]&&(e.lineAlign=ui[n[2].toUpperCase()]))}function $w(){this.g=null}function ex(e,t,n){var i,r,a;return(new ga).box("payl",ba(function(e){i=Ue(e)},!1)).box("iden",ba(function(e){r=Ue(e)},!1)).box("sttg",ba(function(e){a=Ue(e)},!1)).parse(e),i?function(e,t,n,i,r){if(e=new Kn(i,r,e),Yn(e),t&&(e.id=t),n)for(t=new nn(n),n=on(t);n;)Jw(e,n,[]),rn(t),n=on(t);return e}(i,r,a,t,n):null}function tx(){}function nx(){this.g=new Qw}function ix(e){var t="WEBVTT\n\n";if(""==e)return t;for(var n=(e=g((e=(e=e.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!n.done;n=e.next())(n=n.value.split(/\n/))[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join("\n").replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+"\n\n";return t}function rx(){}function ax(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=ox(n))&&(e.color=n),(n=t.BackColour)&&(n=ox(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=hi),t.Italic&&(e.fontStyle=fi),t.Underline&&e.textDecoration.push(mi),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=ni,e.textAlign="start";break;case 2:e.displayAlign=ni,e.textAlign=ei;break;case 3:e.displayAlign=ni,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=ei;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=ei;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function ox(e){return(e=parseInt(e.replace("&H",""),16))>=0?"rgba("+(255&e)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function sx(e){return 3600*((e=dx.exec(e))[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}ji("application/ttml+xml",function(){return new bw}),Zw.prototype.parseInit=function(e){var t=!1;if((new ga).box("moov",ma).box("trak",ma).box("mdia",ma).box("minf",ma).box("stbl",ma).X("stsd",va).box("stpp",function(e){t=!0,e.parser.stop()}).parse(e),!t)throw new Ie(2,2,2007)},Zw.prototype.setSequenceMode=function(e){this.g.setSequenceMode(e)},Zw.prototype.setManifestType=function(e){this.g.setManifestType(e)},Zw.prototype.parseMedia=function(e,t,n){var i=[],r=null,a=[],o=new Map,s=[];if((new ga).box("moof",ma).box("traf",ma).X("tfhd",function(e){r=ho(e.reader,e.flags).me}).X("trun",function(e){for(var t=(e=g((e=go(e.reader,e.version,e.flags)).Yh)).next();!t.done;t=e.next())s.push(t.value.sampleSize||r||0)}).X("subs",function(e){for(var t=e.reader,n=t.$(),i=-1,r=0;r<n;r++){var a=t.$();i+=a,a=t.Ia();for(var s=[],u=0;u<a;u++)1==e.version?s.push(t.$()):s.push(t.Ia()),t.ba(),t.ba(),t.$();o.set(i,s)}}).box("mdat",ba(function(e){a.push(e)},!1)).parse(e,!1),0==a.length)throw new Ie(2,2,2007);for(var u=Ze.apply(He,m(a)),l=0,c=0;c<s.length;c++){var d=xe(u,l,s[c]);l+=s[c];var h=o.get(c);if(h&&h.length){d=xe(d,0,h[0]);for(var p=[],f=h[0],v=1;v<h.length;v++){var y=xe(e,f,h[v]);y=ze(y),p.push("data:image/png;base64,"+y),f+=h[v]}i=i.concat(this.g.parseMedia(d,t,n,p))}else i=i.concat(this.g.parseMedia(d,t,n,[]))}return i},G("shaka.text.Mp4TtmlParser",Zw),Zw.prototype.parseMedia=Zw.prototype.parseMedia,Zw.prototype.setManifestType=Zw.prototype.setManifestType,Zw.prototype.setSequenceMode=Zw.prototype.setSequenceMode,Zw.prototype.parseInit=Zw.prototype.parseInit,ji('application/mp4; codecs="stpp"',function(){return new Zw}),ji('application/mp4; codecs="stpp.ttml"',function(){return new Zw}),ji('application/mp4; codecs="stpp.ttml.im1i"',function(){return new Zw}),ji('application/mp4; codecs="stpp.ttml.im1t"',function(){return new Zw}),ji('application/mp4; codecs="stpp.ttml.im2i"',function(){return new Zw}),ji('application/mp4; codecs="stpp.ttml.im2t"',function(){return new Zw}),ji('application/mp4; codecs="stpp.ttml.etd1"',function(){return new Zw}),ji('application/mp4; codecs="stpp.ttml.etd1|im1t"',function(){return new Zw}),ji('application/mp4; codecs="stpp.ttml.im1t|etd1"',function(){return new Zw}),ji('application/mp4; codecs="stpp.TTML.im1t"',function(){return new Zw}),Qw.prototype.parseInit=function(){},Qw.prototype.setSequenceMode=function(){},Qw.prototype.setManifestType=function(e){this.g=e},Qw.prototype.parseMedia=function(e,t){var n=(e=(e=Ue(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new Ie(2,2,2e3);if(e=t.vttOffset,"HLS"==this.g)if(n[0].includes("X-TIMESTAMP-MAP")){var i=n[0];if(e=i.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),i=i.match(/MPEGTS:(\d+)/m),!e||!i)throw new Ie(2,2,2e3);if(null==(e=un(e[1])))throw new Ie(2,2,2e3);i=Number(i[1]);for(var r=t.segmentStart-t.periodStart;r>=95443.7176888889;)r-=95443.7176888889,i+=8589934592;e=t.periodStart+i/9e4-e}else t.periodStart&&t.vttOffset==t.periodStart&&(e=0);for(t=[],r=(i=g(n[0].split("\n"))).next();!r.done;r=i.next())if(r=r.value,/^Region:/.test(r)){r=new nn(r);var a=new $t;on(r),rn(r);for(var o=on(r);o;){var s=a,u=o;(o=/^id=(.*)$/.exec(u))?s.id=o[1]:(o=/^width=(\d{1,2}|100)%$/.exec(u))?s.width=Number(o[1]):(o=/^lines=(\d+)$/.exec(u))?(s.height=Number(o[1]),s.heightUnits=2):(o=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.regionAnchorX=Number(o[1]),s.regionAnchorY=Number(o[2])):(o=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.viewportAnchorX=Number(o[1]),s.viewportAnchorY=Number(o[2])):/^scroll=up$/.exec(u)&&(s.scroll="up"),rn(r),o=on(r)}t.push(a)}for(Zn(i=new Map),r=[],a=(n=g(n.slice(1))).next();!a.done;a=n.next()){if((1!=(a=a.value.split("\n")).length||a[0])&&!/^NOTE($|[ \t])/.test(a[0])&&"STYLE"==a[0]){for(s=[],o=-1,u=1;u<a.length;u++)a[u].includes("::cue")&&(s.push([]),o=s.length-1),-1!=o&&(s[o].push(a[u]),a[u].includes("}")&&(o=-1));for(o=(s=g(s)).next();!o.done;o=s.next()){var l=o.value;o="global",(u=l[0].match(/\((.*)\)/))&&(o=u.pop()),u=l.slice(1,-1),l[0].includes("}")&&(l=/\{(.*?)\}/.exec(l[0]))&&(u=l[1].split(";")),(l=i.get(o))||(l=new Kn(0,0,""));for(var c=!1,d=0;d<u.length;d++){var h=/^\s*([^:]+):\s*(.*)/.exec(u[d]);if(h){var p=h[2].trim().replace(";","");switch(h[1].trim()){case"background-color":case"background":c=!0,l.backgroundColor=p;break;case"color":c=!0,l.color=p;break;case"font-family":c=!0,l.fontFamily=p;break;case"font-size":c=!0,l.fontSize=p;break;case"font-weight":(parseInt(p,10)>=700||"bold"==p)&&(c=!0,l.fontWeight=hi);break;case"font-style":switch(p){case"normal":c=!0,l.fontStyle=pi;break;case"italic":c=!0,l.fontStyle=fi;break;case"oblique":c=!0,l.fontStyle="oblique"}break;case"opacity":c=!0,l.opacity=parseFloat(p);break;case"text-combine-upright":c=!0,l.textCombineUpright=p;break;case"text-shadow":c=!0,l.textShadow=p;break;case"white-space":c=!0,l.wrapLine="noWrap"!=p}}}c&&i.set(o,l)}}if(c=e,1==(l=a).length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||"STYLE"==l[0]||"REGION"==l[0])a=null;else if(a=null,l[0].includes("--\x3e")||(a=l[0],l.splice(0,1)),o=sn(s=new nn(l[0])),d=an(s,/[ \t]+--\x3e[ \t]+/g),u=sn(s),null==o||null==d||null==u)Y("Failed to parse VTT time code. Cue skipped:",a,l),a=null;else{for(o+=c,u+=c,c=l.slice(1).join("\n").trim(),i.has("global")?((l=i.get("global").clone()).startTime=o,l.endTime=u,l.payload=c):l=new Kn(o,u,c),rn(s),o=on(s);o;)Jw(l,o,t),rn(s),o=on(s);Yn(l,i),null!=a&&(l.id=a),a=l}a&&r.push(a)}return r},G("shaka.text.VttTextParser",Qw),Qw.prototype.parseMedia=Qw.prototype.parseMedia,Qw.prototype.setManifestType=Qw.prototype.setManifestType,Qw.prototype.setSequenceMode=Qw.prototype.setSequenceMode,Qw.prototype.parseInit=Qw.prototype.parseInit,ji("text/vtt",function(){return new Qw}),ji('text/vtt; codecs="vtt"',function(){return new Qw}),ji('text/vtt; codecs="wvtt"',function(){return new Qw}),$w.prototype.parseInit=function(e){var t=this,n=!1;if((new ga).box("moov",ma).box("trak",ma).box("mdia",ma).X("mdhd",function(e){e=fo(e.reader,e.version),t.g=e.timescale}).box("minf",ma).box("stbl",ma).X("stsd",va).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new Ie(2,2,2008);if(!n)throw new Ie(2,2,2008)},$w.prototype.setSequenceMode=function(){},$w.prototype.setManifestType=function(){},$w.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new Ie(2,2,2008);var n,i=0,r=[],a=[],o=!1,s=!1,u=!1,l=null;if((new ga).box("moof",ma).box("traf",ma).X("tfdt",function(e){o=!0,i=po(e.reader,e.version).baseMediaDecodeTime}).X("tfhd",function(e){l=ho(e.reader,e.flags).le}).X("trun",function(e){s=!0,r=go(e.reader,e.version,e.flags).Yh}).box("mdat",ba(function(e){u=!0,n=e},!1)).parse(e,!1),!u&&!o&&!s)throw new Ie(2,2,2008);e=i;for(var c=new ha(n,0),d=g(r),h=d.next();!h.done;h=d.next()){var p=(h=h.value).Zh||l,f=h.cg?i+h.cg:e;e=f+(p||0);var m=0;do{var v=c.$();m+=v;var y=null;"vttc"==Ca(c.$())?v>8&&(y=c.ac(v-8,!1)):c.skip(v-8),p&&y&&(v=ex(y,t.periodStart+f/this.g,t.periodStart+e/this.g),a.push(v))}while(h.sampleSize&&m<h.sampleSize)}return a.filter(Zi)},G("shaka.text.Mp4VttParser",$w),$w.prototype.parseMedia=$w.prototype.parseMedia,$w.prototype.setManifestType=$w.prototype.setManifestType,$w.prototype.setSequenceMode=$w.prototype.setSequenceMode,$w.prototype.parseInit=$w.prototype.parseInit,ji('application/mp4; codecs="wvtt"',function(){return new $w}),tx.prototype.parseInit=function(){},tx.prototype.setSequenceMode=function(){},tx.prototype.setManifestType=function(){},tx.prototype.parseMedia=function(e){var t=Ue(e).replace(/\r+/g,"");if(e=[],""==(t=t.trim()))return e;for(var n=(t=g(t.split("\n\n"))).next();!n.done;n=t.next()){var i=new nn((n=n.value.split("\n"))[0]),r=sn(i),a=an(i,/,/g);if(i=sn(i),null==r||null==a||null==i)throw new Ie(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new Kn(r,i,n.slice(1).join("\n").trim()))}return e},G("shaka.text.SbvTextParser",tx),tx.prototype.parseMedia=tx.prototype.parseMedia,tx.prototype.setManifestType=tx.prototype.setManifestType,tx.prototype.setSequenceMode=tx.prototype.setSequenceMode,tx.prototype.parseInit=tx.prototype.parseInit,ji("text/x-subviewer",function(){return new tx}),nx.prototype.parseInit=function(){},nx.prototype.setSequenceMode=function(){},nx.prototype.setManifestType=function(){},nx.prototype.parseMedia=function(e,t,n){return e=xe(je(e=ix(e=Ue(e)))),this.g.parseMedia(e,t,n,[])},G("shaka.text.SrtTextParser",nx),nx.srt2webvtt=ix,nx.prototype.parseMedia=nx.prototype.parseMedia,nx.prototype.setManifestType=nx.prototype.setManifestType,nx.prototype.setSequenceMode=nx.prototype.setSequenceMode,nx.prototype.parseInit=nx.prototype.parseInit,ji("text/srt",function(){return new nx}),rx.prototype.parseInit=function(){},rx.prototype.setSequenceMode=function(){},rx.prototype.setManifestType=function(){},rx.prototype.parseMedia=function(e){var t="",n="",i=null,r=null;for(r=(e=g(r=Ue(e).split(/\r?\n\s*\r?\n/))).next();!r.done;r=e.next()){var a=r.value;r=a,(a=ux.exec(a))&&(i=a[1],r=a[2]),"V4 Styles"==i||"V4+ Styles"==i?(t=r,t=n?t+"\n"+r:r):"Events"==i&&(n=n?n+"\n"+r:r)}for(i=[],r=null,e=(t=g(t.split(/\r?\n/))).next();!e.done;e=t.next())if(e=e.value,!/^\s*;/.test(e)&&(a=lx.exec(e)))if(e=a[1].trim(),a=a[2].trim(),"Format"==e)r=a.split(cx);else if("Style"==e){e=a.split(cx),a={};for(var o=0;o<r.length&&o<e.length;o++)a[r[o]]=e[o];i.push(a)}for(r=[],t=null,a=(n=g(n.split(/\r?\n/))).next(),e={};!a.done;e={Sj:void 0},a=n.next())if(a=a.value,!/^\s*;/.test(a)&&(o=lx.exec(a)))if(a=o[1].trim(),o=o[2].trim(),"Format"==a)t=o.split(cx);else if("Dialogue"==a){o=o.split(cx),a={};for(var s=0;s<t.length&&s<o.length;s++)a[t[s]]=o[s];o=new Kn(s=sx(a.Start),sx(a.End),o.slice(t.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),e.Sj=a.Style,(e=i.find(function(e){return function(t){return t.Name==e.Sj}}(e)))&&ax(o,e),r.push(o)}return r},G("shaka.text.SsaTextParser",rx),rx.prototype.parseMedia=rx.prototype.parseMedia,rx.prototype.setManifestType=rx.prototype.setManifestType,rx.prototype.setSequenceMode=rx.prototype.setSequenceMode,rx.prototype.parseInit=rx.prototype.parseInit;var ux=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,lx=/^\s*([^:]+):\s*(.*)/,cx=/\s*,\s*/,dx=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function hx(e,t){var n=1&e[t+1]?7:9;return t+n<=e.length&&(e=((3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5)-n)>0?{ue:n,za:e}:null}function px(e,t){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=(60&e[t+2])>>>2;if(i>n.length-1)return null;var r=((192&e[t+2])>>>6)+1,a=(1&e[t+2])<<2;return a|=(192&e[t+3])>>>6,{sampleRate:n[i],channelCount:a,codec:"mp4a.40."+r}}function fx(e,t){if(t+1<e.length&&255===e[t]&&240==(246&e[t+1])){var n=1&e[t+1]?7:9;if(t+n>=e.length)return!1;var i=(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5;return!(i<=n)&&((t+=i)===e.length||t+1<e.length&&255===e[t]&&240==(246&e[t+1]))}return!1}function gx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function mx(e,t){if(t+8>e.length||11!==e[t]||119!==e[t+1])return null;var n=e[t+4]>>6;if(n>=3)return null;var i=63&e[t+4],r=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*i+n];if(t+r>e.length)return null;var a=e[t+6]>>5,o=0;2===a?o+=2:(1&a&&1!==a&&(o+=2),4&a&&(o+=2)),o=(e[t+6]<<8|e[t+7])>>12-o&1;var s=7&e[t+5];return e=new Uint8Array([n<<6|e[t+5]>>3<<1|s>>2,(3&s)<<6|a<<3|o<<2|i>>4,i<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][a]+o,Ma:e,za:r}}function vx(e,t){if(11===e[t]&&119===e[t+1]){var n,i,r=0,a=5;for(t+=a;a>0;){i=e[t];var o=Math.min(a,8),s=8-o;n=(i&(n=4278190080>>>24+s<<s))>>s,r=r?r<<o|n:n,t+=1,a-=o}if(r<16)return!0}return!1}function yx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function Ax(e,t){if(t+8>e.length||2935!=(e[t]<<8|e[t+1]))return null;var n=new Ss(e.subarray(t+2));ks(n,2),ks(n,3);var i=Is(n,11)+1<<1,r=Is(n,2);if(3==r){r=[24e3,22060,16e3][r=Is(n,2)];var a=3}else r=[48e3,44100,32e3][r],a=Is(n,2);var o=Is(n,3),s=Is(n,1);return n=Is(n,5),t+i>e.byteLength?null:(e=Math.floor(i*r/(16*[1,2,3,6][a])),e=new Uint8Array([(8160&e)>>5,(31&e)<<3,r<<6|n<<1,o<<1|s,0]),{sampleRate:r,channelCount:[2,1,2,3,3,4,4,5][o]+s,Ma:e,za:i})}function bx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}ji("text/x-ssa",function(){return new rx}),(r=gx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/aac"==e.toLowerCase().split(";")[0]&&Ft(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/aac"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="'+(Oi(t)||"mp4a.40.2")+'"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,i){for(var r=xe(e),a=ws(r),o=a.length;o<r.length&&!fx(r,o);o++);if(e=1e3*n.endTime,(a=Cs(a)).length&&n&&(a=a.find(function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description}))&&(e=a.data),!(a=px(r,o)))return Promise.reject(new Ie(2,3,3018,n?n.T()[0]:null));t.audioSamplingRate=a.sampleRate,t.channelsCount=a.channelCount;for(var s=[];o<r.length;){var u=hx(r,o);if(!u)return Promise.reject(new Ie(2,3,3018,n?n.T()[0]:null));var l=u.ue+u.za;o+l<=r.length&&s.push({data:r.subarray(o+u.ue,o+l),size:u.za,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),o+=l}return r=a.sampleRate,e=Math.floor(e*r/1e3),i=new bo([i={id:t.id,type:"audio",codecs:a.codec,encrypted:t.encrypted&&t.drmInfos.length>0,timescale:r,duration:i,Gb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:e,Eb:s},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=To(i),this.g.set(n,t)),n=this.i!==t,i=Eo(i),this.i=t,this.h++,Promise.resolve({data:i,init:n?t:null})},G("shaka.transmuxer.AacTransmuxer",gx),gx.prototype.transmux=gx.prototype.transmux,gx.prototype.getOriginalMimeType=gx.prototype.getOriginalMimeType,gx.prototype.convertCodecs=gx.prototype.convertCodecs,gx.prototype.isSupported=gx.prototype.isSupported,gx.prototype.destroy=gx.prototype.destroy,Ai("audio/aac",function(){return new gx("audio/aac")},Ci),(r=yx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ac3"==e.toLowerCase().split(";")[0]&&Ft(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ac3"==t.toLowerCase().split(";")[0]?Re().He()?'audio/mp4; codecs="ec-3"':'audio/mp4; codecs="ac-3"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,i){for(var r=ws(e=xe(e)),a=r.length;a<e.length&&!vx(e,a);a++);var o=1e3*n.endTime;(r=Cs(r)).length&&n&&(r=r.find(function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description}))&&(o=r.data),r=0;for(var s=new Uint8Array([]),u=[];a<e.length;){var l=mx(e,a);if(!l)return Promise.reject(new Ie(2,3,3018,n?n.T()[0]:null));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,r=l.sampleRate,s=l.Ma,u.push({data:e.subarray(a,a+l.za),size:l.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),a+=l.za}return e=Math.floor(o*r/1e3),i=new bo([i={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&t.drmInfos.length>0,timescale:r,duration:i,Gb:[],Ma:s,Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:e,Eb:u},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=To(i),this.g.set(n,t)),n=this.i!==t,i=Eo(i),this.i=t,this.h++,Promise.resolve({data:i,init:n?t:null})},G("shaka.transmuxer.Ac3Transmuxer",yx),yx.prototype.transmux=yx.prototype.transmux,yx.prototype.getOriginalMimeType=yx.prototype.getOriginalMimeType,yx.prototype.convertCodecs=yx.prototype.convertCodecs,yx.prototype.isSupported=yx.prototype.isSupported,yx.prototype.destroy=yx.prototype.destroy,Ai("audio/ac3",function(){return new yx("audio/ac3")},Ci),(r=bx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/ec3"==e.toLowerCase().split(";")[0]&&Ft(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/ec3"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="ec-3"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,i){for(var r=ws(e=xe(e)),a=r.length;a<e.length&&2935!=(e[a]<<8|e[a+1]);a++);var o=1e3*n.endTime;(r=Cs(r)).length&&n&&(r=r.find(function(e){return"com.apple.streaming.transportStreamTimestamp"===e.description}))&&(o=r.data),r=0;for(var s=new Uint8Array([]),u=[];a<e.length;){var l=Ax(e,a);if(!l)return Promise.reject(new Ie(2,3,3018,n?n.T()[0]:null));t.audioSamplingRate=l.sampleRate,t.channelsCount=l.channelCount,r=l.sampleRate,s=l.Ma,u.push({data:e.subarray(a,a+l.za),size:l.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),a+=l.za}return e=Math.floor(o*r/1e3),i=new bo([i={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&t.drmInfos.length>0,timescale:r,duration:i,Gb:[],Ma:s,Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:e,Eb:u},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=To(i),this.g.set(n,t)),n=this.i!==t,i=Eo(i),this.i=t,this.h++,Promise.resolve({data:i,init:n?t:null})},G("shaka.transmuxer.Ec3Transmuxer",bx),bx.prototype.transmux=bx.prototype.transmux,bx.prototype.getOriginalMimeType=bx.prototype.getOriginalMimeType,bx.prototype.convertCodecs=bx.prototype.convertCodecs,bx.prototype.isSupported=bx.prototype.isSupported,bx.prototype.destroy=bx.prototype.destroy,Ai("audio/ec3",function(){return new bx("audio/ec3")},Ci);var Tx=[100,110,122,244,44,83,86,118,128,138,139,134];function Cx(e){if(!e.length)return null;var t=e.find(function(e){return 32==e.type}),n=e.find(function(e){return 33==e.type}),i=e.find(function(e){return 34==e.type});if(!t||!n||!i)return null;var r=function(e){var t=new Ss(e,!0);return Os(t),Os(t),Is(t,4),Is(t,2),Is(t,6),e=Is(t,3),t=Ds(t),{Lh:e+1,pi:t}}(t.fullData);e=function(e){e=new Ss(e,!0),Os(e),Os(e);var t=0,n=0,i=0,r=0;Is(e,4);var a=Is(e,3);Ds(e);for(var o=Is(e,2),s=Is(e,1),u=Is(e,5),l=Os(e),c=Os(e),d=Os(e),h=Os(e),p=Os(e),f=Os(e),g=Os(e),m=Os(e),v=Os(e),y=Os(e),A=Os(e),b=[],T=[],C=0;C<a;C++)b.push(Ds(e)),T.push(Ds(e));if(a>0)for(C=a;C<8;C++)Is(e,2);for(C=0;C<a;C++)b[C]&&Is(e,88),T[C]&&Os(e);Rs(e),b=Rs(e),3==b&&Is(e,1),T=Rs(e),C=Rs(e),Ds(e)&&(t+=Rs(e),n+=Rs(e),i+=Rs(e),r+=Rs(e));var w=Rs(e),x=Rs(e),S=Rs(e);if(Ds(e))for(var E=0;E<=a;E++)Rs(e),Rs(e),Rs(e);else Rs(e),Rs(e),Rs(e);if(Rs(e),Rs(e),Rs(e),Rs(e),Rs(e),Rs(e),Ds(e)&&Ds(e))for(E=0;E<4;E++)for(var k=0;k<(3===E?2:6);k++)if(Ds(e)){var I=Math.min(64,1<<4+(E<<1));E>1&&Ps(e);for(var M=0;M<I;M++)Ps(e)}else Rs(e);for(Ds(e),Ds(e),Ds(e)&&(Os(e),Rs(e),Rs(e),Ds(e)),E=Rs(e),I=k=0;I<E;I++)if(M=!1,0!==I&&(M=Ds(e)),M){I===E&&Rs(e),Ds(e),Rs(e);for(var L=M=0;L<=k;L++){var R=Ds(e),P=!1;R||(P=Ds(e)),(R||P)&&M++}k=M}else{for(k=(L=Rs(e))+(M=Rs(e)),R=0;R<L;R++)Rs(e),Ds(e);for(L=0;L<M;L++)Rs(e),Ds(e)}if(Ds(e))for(E=Rs(e),k=0;k<E;k++){for(I=0;I<S+4;I++)Is(e,1);Is(e,1)}if(E=S=1,k=!0,I=1,L=M=0,Ds(e),Ds(e),Ds(e)){if(Ds(e)){P=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2];var D=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];(R=Os(e))>0&&R<=16?(S=P[R-1],E=D[R-1]):255===R&&(S=Is(e,16),E=Is(e,16))}if(Ds(e)&&Ds(e),Ds(e)&&(Is(e,3),Ds(e),Ds(e)&&(Os(e),Os(e),Os(e))),Ds(e)&&(Rs(e),Rs(e)),Ds(e),Ds(e),Ds(e),(R=Ds(e))&&(Ls(e),Ls(e),Ls(e),Ls(e)),Ds(e)&&(I=Is(e,32),M=Is(e,32),Ds(e)&&Rs(e),Ds(e))){D=!1,R=Ds(e),P=Ds(e),(R||P)&&((D=Ds(e))&&(Os(e),Is(e,5),Ds(e),Is(e,5)),Is(e,4),Is(e,4),D&&Is(e,4),Is(e,5),Is(e,5),Is(e,5));for(var O=0;O<=a;O++){var N=!0,U=1;(k=Ds(e))||(N=Ds(e));var B=!1;if(N?Rs(e):B=Ds(e),B||(U=Rs(e)+1),R){for(N=0;N<U;N++)Rs(e),Rs(e),D&&(Rs(e),Rs(e));Ds(e)}if(P){for(N=0;N<U;N++)Rs(e),Rs(e),D&&(Rs(e),Rs(e));Ds(e)}}}Ds(e)&&(Ds(e),Ds(e),Ds(e),L=Rs(e),Rs(e),Rs(e),Rs(e),Rs(e))}return{eh:A,kh:o,mh:s,jh:u,fh:l,gh:c,hh:d,ih:h,Yg:p,Zg:f,$g:g,ah:m,bh:v,dh:y,Nf:L,Ng:b,Jg:w,Ig:x,width:T-(t+n)*(1===b||2===b?2:1),height:C-(i+r)*(1===b?2:1),nm:S,lm:E,Xg:M/I,Wg:k}}(n.fullData);var a=function(e){var t=new Ss(e,!0);Os(t),Os(t),Rs(t),Rs(t),Ds(t),Ds(t),Is(t,3),Ds(t),Ds(t),Rs(t),Rs(t),Ps(t),Ds(t),Ds(t),Ds(t)&&Rs(t),Ps(t),Ps(t),Ds(t),Ds(t),Ds(t),Ds(t),e=Ds(t),t=Ds(t);var n=1;return t&&e?n=0:t?n=3:e&&(n=2),{Nh:n}}(i.fullData);return t=function(e,t,n,i){var r=new Uint8Array(23+(5+e.byteLength)+(5+t.byteLength)+(5+n.byteLength));for(r[0]=1,r[1]=(3&i.kh)<<6|(i.mh?1:0)<<5|31&i.jh,r[2]=i.fh,r[3]=i.gh,r[4]=i.hh,r[5]=i.ih,r[6]=i.Yg,r[7]=i.Zg,r[8]=i.$g,r[9]=i.ah,r[10]=i.bh,r[11]=i.dh,r[12]=i.eh,r[13]=240|(3840&i.Nf)>>8,r[14]=255&i.Nf,r[15]=252|3&i.Nh,r[16]=252|3&i.Ng,r[17]=248|7&i.Jg,r[18]=248|7&i.Ig,r[19]=0,r[20]=parseInt(i.Xg,10),r[21]=(3&(i.Wg?1:0))<<6|(7&i.Lh)<<3|(i.pi?1:0)<<2|3,r[22]=3,e=[e,t,n],t=23,n=e.length-1,i=0;i<e.length;i+=1)r.set(new Uint8Array([32+i|(i===n?128:0),0,1]),t),t+=3,r.set(new Uint8Array([e[i].byteLength>>8,255&e[i].byteLength]),t),t+=2,r.set(e[i],t),t+=e[i].byteLength;return r}(t.fullData,n.fullData,i.fullData,{Lh:r.Lh,pi:r.pi,kh:e.kh,mh:e.mh,eh:e.eh,jh:e.jh,fh:e.fh,gh:e.gh,hh:e.hh,ih:e.ih,Yg:e.Yg,Zg:e.Zg,$g:e.$g,ah:e.ah,bh:e.bh,dh:e.dh,Nf:e.Nf,Ng:e.Ng,Jg:e.Jg,Ig:e.Ig,Nh:a.Nh,Xg:e.Xg,Wg:e.Wg}),{height:e.height,width:e.width,Ya:t,eb:e.nm,gb:e.lm}}function wx(e,t){var n=e[t+1]>>3&3,i=e[t+1]>>1&3,r=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==r&&15!==r&&3!==a){var o=e[t+3]>>6;r=1e3*Ex[14*(3===n?3-i:3===i?3:4)+r-1],a=kx[3*(3===n?0:2===n?1:2)+a],n=Ix[n][i];var s=Mx[i],u=Math.floor(n*r/a+(e[t+2]>>1&1))*s,l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(l=l?parseInt(l[1],10):0)&&l<=87&&2===i&&r>=224e3&&0===o&&(e[t+3]|=128),{sampleRate:a,channelCount:3===o?1:2,za:u,jm:8*n*s}}return null}function xx(e,t){return!(255!==e[t]||224&~e[t+1]||!(6&e[t+1]))}function Sx(e,t){if(t+1<e.length&&xx(e,t)){var n=wx(e,t),i=4;return n&&n.za&&(i=n.za),(t+=i)===e.length||t+1<e.length&&xx(e,t)}return!1}var Ex=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],kx=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Ix=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Mx=[0,1,1,4];function Lx(e){this.j=e,this.h=0,this.g=new Map,this.i=null}function Rx(e){this.h=e,this.g=null}function Px(e){this.h=e,(this.g=oy.get("ISOBoxer")())&&function(e){function t(){this._procFullBox(),1&this.flags&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,function(e){this._procEntryField(e,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(e,"NumberOfEntries","uint",16),this._procSubEntries(e,"clearAndCryptedData",e.NumberOfEntries,function(e){this._procEntryField(e,"BytesOfClearData","uint",16),this._procEntryField(e,"BytesOfEncryptedData","uint",32)}))})}e.g.addBoxProcessor("saio",function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)}),e.g.addBoxProcessor("saiz",function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)}),e.g.addBoxProcessor("senc",t),e.g.addBoxProcessor("uuid",function(){for(var e=!0,n=0;n<16;n++)this.usertype[n]!==Ox[n]&&(e=!1);e&&(this._parsing&&(this.type="sepiff"),t.call(this))})}(this)}function Dx(e,t){for(var n=8,i=0;i<e.boxes.length&&e.boxes[i].type!==t;i++)n+=e.boxes[i].size;return n}(r=Lx.prototype).destroy=function(){this.g.clear()},r.isSupported=function(e){return"audio/mpeg"==e.toLowerCase().split(";")[0]&&Ft(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"audio/mpeg"==t.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp3"':t},r.getOriginalMimeType=function(){return this.j},r.transmux=function(e,t,n,i){for(var r=xe(e),a=ws(r).length;a<r.length&&!Sx(r,a);a++);var o;for(e=[];a<r.length;){var s=wx(r,a);if(!s)return Promise.reject(new Ie(2,3,3018,n?n.T()[0]:null));o||(o=s),a+s.za<=r.length&&e.push({data:r.subarray(a,a+s.za),size:s.za,duration:1152,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),a+=s.za}return o?(r=9e4*o.jm/o.sampleRate*this.h,i=new bo([i={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&t.drmInfos.length>0,timescale:o.sampleRate,duration:i,Gb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:r,Eb:e},stream:t}]),n=t.id+"_"+n.i,this.g.has(n)?t=this.g.get(n):(t=To(i),this.g.set(n,t)),n=this.i!==t,i=Eo(i),this.i=t,this.h++,Promise.resolve({data:i,init:n?t:null})):Promise.reject(new Ie(2,3,3018,n?n.T()[0]:null))},G("shaka.transmuxer.Mp3Transmuxer",Lx),Lx.prototype.transmux=Lx.prototype.transmux,Lx.prototype.getOriginalMimeType=Lx.prototype.getOriginalMimeType,Lx.prototype.convertCodecs=Lx.prototype.convertCodecs,Lx.prototype.isSupported=Lx.prototype.isSupported,Lx.prototype.destroy=Lx.prototype.destroy,Ai("audio/mpeg",function(){return new Lx("audio/mpeg")},Ci),(r=Rx.prototype).destroy=function(){},r.isSupported=function(e){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var t=Oi(e).split(","),n=tt("audio",t);return t=tt("video",t),!(!n||t||"mp3"!=Ri(n))&&Ft(this.convertCodecs("audio",e))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?"audio/mpeg":t},r.getOriginalMimeType=function(){return this.h},r.transmux=function(e,t,n,i,r){if(this.g?this.g.clearData():this.g=new Bs,this.g.gg(n.i),e=xe(e),"mp3"!=(e=this.g.parse(e)).oe().audio||"audio"!=r)return Promise.reject(new Ie(2,3,3018,n?n.T()[0]:null));for(n=new Uint8Array([]),r=g(e.Bb()),e=r.next();!e.done;e=r.next())if(e=e.value.data)for(t=0;t<e.length;)(i=wx(e,t))?(t+i.za<=e.length&&(n=Ze(n,e.subarray(t,t+i.za))),t+=i.za):t++;return Promise.resolve(n)},G("shaka.transmuxer.MpegTsTransmuxer",Rx),Rx.prototype.transmux=Rx.prototype.transmux,Rx.prototype.getOriginalMimeType=Rx.prototype.getOriginalMimeType,Rx.prototype.convertCodecs=Rx.prototype.convertCodecs,Rx.prototype.isSupported=Rx.prototype.isSupported,Rx.prototype.destroy=Rx.prototype.destroy,Ai("video/mp2t",function(){return new Rx("video/mp2t")},wi),(r=Px.prototype).destroy=function(){},r.isSupported=function(e,t){var n=e.startsWith("mss/");return!(!this.g||!n)&&(t?Ft(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Ft(t)||Ft(e)))},r.convertCodecs=function(e,t){return t.replace("mss/","")},r.getOriginalMimeType=function(){return this.h},r.transmux=function(e,t,n){if(!n)return Promise.resolve(xe(e));if(!t.mssPrivateData)return Promise.reject(new Ie(2,3,3020,n?n.T()[0]:null));try{var i,r=this.g.parseBuffer(e),a=r.fetch("tfhd");a.track_ID=t.id+1;var o=r.fetch("tfdt"),s=r.fetch("traf");null===o&&((o=this.g.createFullBox("tfdt",s,a)).version=1,o.flags=0,o.baseMediaDecodeTime=Math.floor(n.startTime*t.mssPrivateData.timescale));var u=r.fetch("trun"),l=r.fetch("tfxd");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var c=r.fetch("tfrf");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var d=r.fetch("sepiff");if(null!==d){d.type="senc",d.usertype=void 0;var h=r.fetch("saio");if(null===h){(h=this.g.createFullBox("saio",s)).version=0,h.flags=0,h.entry_count=1,h.offset=[0];var p=this.g.createFullBox("saiz",s);if(p.version=0,p.flags=0,p.sample_count=d.sample_count,p.default_sample_info_size=0,p.sample_info_size=[],2&d.flags)for(i=0;i<d.sample_count;i+=1)p.sample_info_size[i]=10+6*d.entry[i].NumberOfEntries;else p.default_sample_info_size=8}}a.flags&=16777214,a.flags|=131072,u.flags|=1;var f=r.fetch("moof");u.data_offset=f.getLength()+8;var g=r.fetch("saio");null!==g&&(g.offset[0]=Dx(f,"traf")+Dx(s,"senc")+16);var m=xe(r.write());return Promise.resolve(m)}catch(e){return e instanceof Ie?Promise.reject(e):Promise.reject(new Ie(2,3,3022,n?n.T()[0]:null))}},G("shaka.transmuxer.MssTransmuxer",Px),Px.prototype.transmux=Px.prototype.transmux,Px.prototype.getOriginalMimeType=Px.prototype.getOriginalMimeType,Px.prototype.convertCodecs=Px.prototype.convertCodecs,Px.prototype.isSupported=Px.prototype.isSupported,Px.prototype.destroy=Px.prototype.destroy;var Ox=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);function Nx(e){this.m=e,this.g=0,this.j=new Map,this.l=this.i=this.h=null}Ai("mss/audio/mp4",function(){return new Px("mss/audio/mp4")},Ci),Ai("mss/video/mp4",function(){return new Px("mss/video/mp4")},Ci),(r=Nx.prototype).destroy=function(){this.j.clear(),this.i&&this.i.destroy()},r.isSupported=function(e,t){if("video/mp2t"!=e.toLowerCase().split(";")[0])return!1;var n=e;t&&(n=this.convertCodecs(t,e));var i=Oi(n).split(",");return n=tt("audio",i),i=tt("video",i),!(n&&(n=Ri(n),!Ux.includes(n))||i&&(n=Ri(i),!Bx.includes(n)))&&(t?Ft(this.convertCodecs(t,e)):(t=this.convertCodecs("audio",e),e=this.convertCodecs("video",e),Ft(t)||Ft(e)))},r.convertCodecs=function(e,t){return"video/mp2t"==t.toLowerCase().split(";")[0]?(t=Oi(t).replace("mp4a.40.34","mp3").split(",").map(function(e){return sr(e,"audio/mp4")}).map(ur).join(","),"audio"==e?'audio/mp4; codecs="'+t+'"':'video/mp4; codecs="'+t+'"'):t},r.getOriginalMimeType=function(){return this.m},r.transmux=function(e,t,n,i,r){var a=xe(e);if("audio"==r&&!Fs(a)){for(var o=ws(a),s=o.length;s<a.length;s++)if(Sx(a,s))return Promise.reject(new Ie(2,3,3018,n?n.T()[0]:null));for(s=o.length;s<a.length;s++)if(fx(a,s))return this.i||(this.i=new gx("audio/aac")),this.i.transmux(e,t,n,i,r);return Promise.reject(new Ie(2,3,3018,n?n.T()[0]:null))}this.h?this.h.clearData():this.h=new Bs,this.h.gg(n.i);var u=this.h.parse(a),l=[],c=u.oe();try{var d=null;if("video"==r){switch(c.video){case"avc":var h=[],p=null,f=u.Jd(),v=function(e){function t(e){r={data:new Uint8Array([]),frame:!1,isKeyframe:!1,pts:e.pts,dts:e.dts,nalus:[]}}function n(){if(r&&r.nalus.length&&r.frame){for(var e=[],t=g(r.nalus),n=t.next();!n.done;n=t.next()){var a=(n=n.value).fullData.byteLength,o=new Uint8Array(4);o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=255&a,e.push(o),e.push(n.fullData)}r.data=Ze.apply(He,m(e)),i.push(r)}}for(var i=[],r=null,a=!1,o=0;o<e.length;o++){var s=e[o],u=s.nalus,l=!1;r&&u.length&&!a&&(n(),t(s));for(var c=(u=g(s.nalus)).next();!c.done;c=u.next()){var d=!1;switch((c=c.value).type){case 1:var h=!1;d=!0;var p=c.data;l&&p.length>4&&(2===(p=Us(new Ss(p)))||4===p||7===p||9===p)&&(h=!0),h&&r&&r.frame&&!r.isKeyframe&&(n(),r=null),r||t(s),r.frame=!0,r.isKeyframe=h;break;case 5:d=!0,r&&r.frame&&!r.isKeyframe&&(n(),r=null),r||t(s),r.frame=!0,r.isKeyframe=!0;break;case 6:case 8:case 12:d=!0;break;case 7:l=d=!0;break;case 9:a=d=!0,r&&r.frame&&(n(),r=null),r||t(s);break;default:d=!1}r&&d&&r.nalus.push(c)}}return n(),i}(f);if(!v.length)throw new Ie(2,3,3023,n?n.T()[0]:null);for(var y=0;y<v.length;y++){var A=v[y];null==p&&(p=A.dts);var b;b=y+1<v.length?(v[y+1].dts||0)-(A.dts||0):v.length>1?(A.dts||0)-(v[y-1].dts||0):9e4*(n.endTime-n.startTime),h.push({data:A.data,size:A.data.byteLength,duration:b,Ab:Math.round((A.pts||0)-(A.dts||0)),flags:{Cb:0,ub:0,sb:0,qb:0,rb:A.isKeyframe?2:1,Db:A.isKeyframe?0:1}})}for(var T=[],C=g(f),w=C.next();!w.done;w=C.next())T.push.apply(T,m(w.value.nalus));var x=function(e){if(!e.length)return null;var t=e.find(function(e){return 7==e.type});if(e=e.find(function(e){return 8==e.type}),!t||!e)return null;var n=new Ss(t.data),i=Os(n);if(Os(n),Os(n),Ls(n),Tx.includes(i)&&(3===(i=Rs(n))&&ks(n,1),Ls(n),Ls(n),ks(n,1),Ds(n))){i=3!==i?8:12;for(var r=0;r<i;r++)Ds(n)&&Ns(n,r<6?16:64)}if(Ls(n),0===(i=Rs(n)))Rs(n);else if(1===i)for(ks(n,1),Ls(n),Ls(n),i=Rs(n),r=0;r<i;r++)Ls(n);Ls(n),ks(n,1);var a=Rs(n),o=Rs(n),s=Is(n,1);0===s&&ks(n,1),ks(n,1);var u=0,l=0,c=0,d=0;if(Ds(n)&&(u=Rs(n),l=Rs(n),c=Rs(n),d=Rs(n)),r=i=1,Ds(n)&&Ds(n)){var h=Os(n);h>0&&h<=16?(i=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][h-1],r=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][h-1]):255===h&&(i=Is(n,16),r=Is(n,16))}return n=(2-s)*(o+1)*16-2*c-2*d,a=16*(a+1)-2*u-2*l,u=[],t=t.fullData,u.push(t.byteLength>>>8&255),u.push(255&t.byteLength),u=u.concat.apply(u,m(t)),t=[],e=e.fullData,t.push(e.byteLength>>>8&255),t.push(255&e.byteLength),t=t.concat.apply(t,m(e)),{height:n,width:a,Ya:e=new Uint8Array([1,u[3],u[4],u[5],255,225].concat(u,[1],t)),eb:i,gb:r}}(T);if(!x||null==p)throw new Ie(2,3,3018,n?n.T()[0]:null);t.height=x.height,t.width=x.width,d={id:t.id,type:"video",codecs:"avc1",encrypted:t.encrypted&&t.drmInfos.length>0,timescale:9e4,duration:i,Gb:[],Ma:new Uint8Array([]),Ya:x.Ya,eb:x.eb,gb:x.gb,data:{sequenceNumber:this.g,baseMediaDecodeTime:p,Eb:h},stream:t};break;case"hvc":var S=[],E=null,k=[],I=u.Jd();if(!I.length)throw new Ie(2,3,3023,n?n.T()[0]:null);for(var M=0;M<I.length;M++){var L=I[M],R=L.nalus;k.push.apply(k,m(R));for(var P=!1,D=[],O=!1,N=g(R),U=N.next();!U.done;U=N.next()){var B=U.value;switch(B.type){case 1:case 0:var _=O=!0;break;case 19:case 20:case 21:P=_=O=!0;break;case 32:case 33:case 34:case 39:case 40:_=!0;break;case 35:O=_=!0;break;default:_=!1}if(O&&_){var j=B.fullData.byteLength,q=new Uint8Array(4);q[0]=j>>24&255,q[1]=j>>16&255,q[2]=j>>8&255,q[3]=255&j,D.push(q),D.push(B.fullData)}}var F=D.length?{data:Ze.apply(He,m(D)),isKeyframe:P}:null;if(F){null==E&&null!=L.dts&&(E=L.dts);var V;V=M+1<I.length?(I[M+1].dts||0)-(L.dts||0):I.length>1?(L.dts||0)-(I[M-1].dts||0):9e4*(n.endTime-n.startTime),S.push({data:F.data,size:F.data.byteLength,duration:V,Ab:Math.round((L.pts||0)-(L.dts||0)),flags:{Cb:0,ub:0,sb:0,qb:0,rb:F.isKeyframe?2:1,Db:F.isKeyframe?0:1}})}}var G=Cx(k);if(!G||null==E)throw new Ie(2,3,3018,n?n.T()[0]:null);t.height=G.height,t.width=G.width,d={id:t.id,type:"video",codecs:"hvc1",encrypted:t.encrypted&&t.drmInfos.length>0,timescale:9e4,duration:i,Gb:[],Ma:new Uint8Array([]),Ya:G.Ya,eb:G.eb,gb:G.gb,data:{sequenceNumber:this.g,baseMediaDecodeTime:E,Eb:S},stream:t}}d&&(l.push(d),d=null)}if("audio"==r){switch(c.audio){case"aac":for(var H,z=[],K=null,W=null,X=null,Y=g(u.Bb()),Z=Y.next();!Z.done;Z=Y.next()){var Q=Z.value,J=Q.data;if(J){var $=0;if(-1==W&&X)J=Ze(X,Q.data),W=null;else if(null!=W&&X){$=Math.max(0,W);var ee=Ze(X,J.subarray(0,$));z.push({data:ee,size:ee.byteLength,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),W=X=null}if(!(H=px(J,$)))throw new Ie(2,3,3018,n?n.T()[0]:null);for(t.audioSamplingRate=H.sampleRate,t.channelsCount=H.channelCount,null==K&&null!==Q.pts&&(K=Q.pts);$<J.length;){var te=hx(J,$);if(!te){X=J.subarray($,J.length),W=-1;break}var ne=te.ue+te.za;0!=(W=Math.max(0,$+ne-J.length))?X=J.subarray($+te.ue,$+ne):$+ne<=J.length&&z.push({data:J.subarray($+te.ue,$+ne),size:te.za,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),$+=ne}}}if(!H||null==K){K=9e4*n.startTime;var ie=tt("audio",t.codecs.split(","));if(!ie||!t.channelsCount||!t.audioSamplingRate)throw new Ie(2,3,3018,n?n.T()[0]:null);H={sampleRate:t.audioSamplingRate,channelCount:t.channelsCount,codec:ie};var re=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t||3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}(ie,t.channelsCount);if(!re)throw new Ie(2,3,3018,n?n.T()[0]:null);for(var ae=K+9e4*(n.endTime-n.startTime),oe=K;oe<ae;)z.push({data:re,size:re.byteLength,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),oe+=1024/H.sampleRate*9e4}var se=H.sampleRate,ue=K/9e4*se;d={id:t.id,type:"audio",codecs:H.codec,encrypted:t.encrypted&&t.drmInfos.length>0,timescale:se,duration:i,Gb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:ue,Eb:z},stream:t};break;case"ac3":for(var le=[],ce=0,de=new Uint8Array([]),he=null,pe=g(u.Bb()),fe=pe.next();!fe.done;fe=pe.next()){var ge=fe.value,me=ge.data;null==he&&null!==ge.pts&&(he=ge.pts);for(var ve=0;ve<me.length;){var ye=mx(me,ve);ye?(t.audioSamplingRate=ye.sampleRate,t.channelsCount=ye.channelCount,ce=ye.sampleRate,de=ye.Ma,le.push({data:me.subarray(ve,ve+ye.za),size:ye.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),ve+=ye.za):ve++}}if(0==ce||0==de.byteLength||null==he)throw new Ie(2,3,3018,n?n.T()[0]:null);var Ae=he/9e4*ce;d={id:t.id,type:"audio",codecs:"ac-3",encrypted:t.encrypted&&t.drmInfos.length>0,timescale:ce,duration:i,Gb:[],Ma:de,Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:Ae,Eb:le},stream:t};break;case"ec3":for(var be=[],Te=0,Ce=new Uint8Array([]),we=null,Se=g(u.Bb()),Ee=Se.next();!Ee.done;Ee=Se.next()){var ke=Ee.value,Me=ke.data;null==we&&null!==ke.pts&&(we=ke.pts);for(var Le=0;Le<Me.length;){var Re=Ax(Me,Le);Re?(t.audioSamplingRate=Re.sampleRate,t.channelsCount=Re.channelCount,Te=Re.sampleRate,Ce=Re.Ma,be.push({data:Me.subarray(Le,Le+Re.za),size:Re.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),Le+=Re.za):Le++}}if(0==Te||0==Ce.byteLength||null==we)throw new Ie(2,3,3018,n?n.T()[0]:null);var Pe=we/9e4*Te;d={id:t.id,type:"audio",codecs:"ec-3",encrypted:t.encrypted&&t.drmInfos.length>0,timescale:Te,duration:i,Gb:[],Ma:Ce,Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:Pe,Eb:be},stream:t};break;case"mp3":for(var De,Oe=[],Ne=null,Ue=g(u.Bb()),Be=Ue.next();!Be.done;Be=Ue.next()){var _e=Be.value,je=_e.data;if(je){null==Ne&&null!==_e.pts&&(Ne=_e.pts);for(var qe=0;qe<je.length;){var Fe=wx(je,qe);Fe?(De||(De=Fe),qe+Fe.za<=je.length&&Oe.push({data:je.subarray(qe,qe+Fe.za),size:Fe.za,duration:1152,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),qe+=Fe.za):qe++}}}if(!De||null==Ne)throw new Ie(2,3,3018,n?n.T()[0]:null);var Ve=De.sampleRate,Ge=Ne/9e4*Ve;d={id:t.id,type:"audio",codecs:"mp3",encrypted:t.encrypted&&t.drmInfos.length>0,timescale:Ve,duration:i,Gb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:Ge,Eb:Oe},stream:t};break;case"opus":var ze=[],Ke=null,We=u.H;if(!We)throw new Ie(2,3,3018,n?n.T()[0]:null);var Xe=[];switch(We.nk){case 1:case 2:Xe=[0];break;case 0:Xe=[255,1,1,0,1];break;case 128:Xe=[255,2,0,0,1];break;case 3:Xe=[1,2,1,0,2,1];break;case 4:Xe=[1,2,2,0,1,2,3];break;case 5:Xe=[1,3,2,0,4,1,2,3];break;case 6:Xe=[1,4,2,0,4,1,2,3,5];break;case 7:Xe=[1,4,2,0,4,1,2,3,5,6];break;case 8:Xe=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:Xe=[1,1,2,0,1];break;case 131:Xe=[1,1,3,0,1,2];break;case 132:Xe=[1,1,4,0,1,2,3];break;case 133:Xe=[1,1,5,0,1,2,3,4];break;case 134:Xe=[1,1,6,0,1,2,3,4,5];break;case 135:Xe=[1,1,7,0,1,2,3,4,5,6];break;case 136:Xe=[1,1,8,0,1,2,3,4,5,6,7]}for(var Ye=new Uint8Array([0,We.channelCount,0,0,We.sampleRate>>>24&255,We.sampleRate>>>17&255,We.sampleRate>>>8&255,We.sampleRate>>>0&255,0,0].concat(m(Xe))),Qe=We.sampleRate,Je=g(u.Bb()),$e=Je.next();!$e.done;$e=Je.next()){var et=$e.value,nt=et.data;null==Ke&&null!==et.pts&&(Ke=et.pts);for(var it=0;it<nt.length;){for(var rt=!!(16&nt[it+1]),at=!!(8&nt[it+1]),ot=it+2,st=0;255===nt[ot];)st+=255,ot+=1;st+=nt[ot],ot+=1,ot+=rt?2:0,ot+=at?2:0;var ut=nt.slice(ot,ot+st);ze.push({data:ut,size:ut.byteLength,duration:960,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),it=ot+st}}if(0==Ye.byteLength||null==Ke)throw new Ie(2,3,3018,n?n.T()[0]:null);t.audioSamplingRate=We.sampleRate,t.channelsCount=We.channelCount;var lt=Ke/9e4*Qe;d={id:t.id,type:"audio",codecs:"opus",encrypted:t.encrypted&&t.drmInfos.length>0,timescale:Qe,duration:i,Gb:[],Ma:Ye,Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:lt,Eb:ze},stream:t}}d&&(l.push(d),d=null)}}catch(e){return e&&3023==e.code?Promise.resolve(new Uint8Array([])):Promise.reject(e)}if(!l.length)return Promise.reject(new Ie(2,3,3018,n?n.T()[0]:null));var ct=new bo(l),dt=t.id+"_"+n.i;if(this.j.has(dt))var ht=this.j.get(dt);else ht=To(ct),this.j.set(dt,ht);var pt=this.l!==ht,ft=Eo(ct);return this.l=ht,this.g++,Promise.resolve({data:ft,init:pt?ht:null})},G("shaka.transmuxer.TsTransmuxer",Nx),Nx.prototype.transmux=Nx.prototype.transmux,Nx.prototype.getOriginalMimeType=Nx.prototype.getOriginalMimeType,Nx.prototype.convertCodecs=Nx.prototype.convertCodecs,Nx.prototype.isSupported=Nx.prototype.isSupported,Nx.prototype.destroy=Nx.prototype.destroy;var Ux=["aac","ac-3","ec-3","mp3","opus"],Bx=["avc","hevc"];function _x(){}function jx(e,t){var n=this;this.parent=e,this.controls=t,this.eventManager=new Mt,this.localization=this.controls.ya,this.player=this.controls.Wb(),this.video=this.controls.Uc(),this.adManager=this.player.uf(),this.ad=t.getAd(),this.eventManager.o(this.adManager,"ad-started",function(e){n.ad=e.ad}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.ad=null})}function qx(e,t){this.parent=e,this.g=ls("svg"),this.h=ls("path"),this.g.classList.add("material-svg-icon"),this.g.setAttribute("viewBox","0 -960 960 960"),t&&this.use(t),this.g.appendChild(this.h),this.parent&&e.appendChild(this.g)}function Fx(e){return Vx(e,"shaka-back-to-overflow-button")}function Vx(e,t){return(e=e.getElementsByClassName(t)).length?e[0]:null}function Gx(e){e&&(e=Vx(e,"shaka-chosen-item"))&&e.parentElement.focus()}function Hx(){var e=new qx(null,"m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z").g;return e.classList.add("shaka-chosen-item"),e.ariaHidden="true",e}function zx(e,t){e&&(t?e.classList.remove("shaka-hidden"):e.classList.add("shaka-hidden"))}function Kx(e,t){var n=Math.floor(e/86400),i=Math.floor(e%86400/3600),r=Math.floor(e/60%60);return(e=Math.floor(e%60))<10&&(e="0"+e),e=r+":"+e,t&&(r<10&&(e="0"+e),e=i+":"+e,n>0&&(i<10&&(e="0"+e),e=n+":"+e)),e}function Wx(e,t){jx.call(this,e,t);var n=this;this.g=cs(),this.g.classList.add("shaka-ad-info"),this.g.disabled=!0,this.parent.appendChild(this.g),this.h=new Wi(function(){if(n.ad.isLinear()){var e="",t=n.ad.getSequenceLength();t>1&&(e=n.ad.getPositionInSequence(),e=n.localization.resolve("AD_PROGRESS").replace("[AD_ON]",String(e)).replace("[NUM_ADS]",String(t)));var i=Math.round(n.ad.getRemainingTime()),r=n.ad.getDuration();-1==i||-1==r?(n.g.textContent=e,zx(n.g,""!=e)):i>0?(i=Kx(r-i,!1)+" / "+Kx(r,!1),e=t>1?e+"  "+i:n.localization.resolve("AD_TIME").replace("[AD_TIME]",i),n.g.textContent=e,zx(n.g,""!=e)):(n.h.stop(),n.g.textContent="")}}),this.eventManager.o(this.localization,"locale-updated",function(){}),this.eventManager.o(this.localization,"locale-changed",function(){}),this.eventManager.o(this.adManager,"ad-started",function(){n.h.Ka(),n.h.xa(.5)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.h.stop(),n.g.textContent=""}),this.ad&&(this.h.Ka(),this.h.xa(.5))}function Xx(t,n){jx.call(this,t,n);var i=this;this.j=this.controls.g,this.h=this.controls.i,this.i=[],this.g=us("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-context-menu"),this.g.classList.add("shaka-hidden"),this.h.appendChild(this.g),this.eventManager.o(this.h,"contextmenu",function(e){if(i.g.classList.contains("shaka-hidden")){e.preventDefault();var t=i.h.getBoundingClientRect();i.g.style.left=e.clientX-t.left+"px",i.g.style.top=e.clientY-t.top+"px",zx(i.g,!0)}else zx(i.g,!1)}),this.eventManager.o(e,"click",function(){zx(i.g,!1)}),this.eventManager.o(this.g,"click",function(){zx(i.g,!1)}),function(e){for(var t=g(e.j.contextMenuElements),n=t.next();!n.done;n=t.next()){n=n.value;var i=Zx.get(n);i?e.i.push(i.create(e.g,e.controls)):Y("Unrecognized context menu element:",n)}}(this)}function Yx(e,t){Zx.set(e,t)}Ai("video/mp2t",function(){return new Nx("video/mp2t")},xi),p(_x,$l),G("shaka.util.FairPlayUtils",_x),jx.prototype.release=function(){this.eventManager.release(),this.ad=this.adManager=this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null},G("shaka.ui.Element",jx),jx.prototype.release=jx.prototype.release,qx.prototype.use=function(e){e&&"string"==typeof e&&this.h.setAttribute("d",e)},qx.prototype.jl=function(){return this.g},G("shaka.ui.MaterialSVGIcon",qx),qx.prototype.getSvgElement=qx.prototype.jl,qx.prototype.use=qx.prototype.use,p(Wx,jx),Wx.prototype.release=function(){this.h.stop(),this.h=null,jx.prototype.release.call(this)},G("shaka.ui.AdInfo",Wx),p(Xx,jx),Xx.prototype.release=function(){this.h=null;for(var e=g(this.i),t=e.next();!t.done;t=e.next())t.value.release();this.i=[],jx.prototype.release.call(this)},Xx.prototype.Ni=function(){zx(this.g,!1)},G("shaka.ui.ContextMenu",Xx),Xx.registerElement=Yx,Xx.prototype.closeMenu=Xx.prototype.Ni;var Zx=new Map;function Qx(e,t){jx.call(this,e,t);var n=this;this.button=cs(),this.parent.appendChild(this.button),this.h=new qx(this.button),this.eventManager.o(this.localization,"locale-updated",function(){Jx(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Jx(n)}),this.eventManager.o(this.video,"play",function(){Jx(n),n.g()}),this.eventManager.o(this.video,"pause",function(){Jx(n),n.g()}),this.eventManager.o(this.video,"seeking",function(){Jx(n),n.g()}),this.eventManager.o(this.player,"loaded",function(){Jx(n),n.g()}),this.eventManager.o(this.adManager,"ad-paused",function(){Jx(n),n.g()}),this.eventManager.o(this.adManager,"ad-resumed",function(){Jx(n),n.g()}),this.eventManager.o(this.adManager,"ad-started",function(){Jx(n),n.g()}),this.eventManager.o(this.adManager,"ad-stopped",function(){Jx(n),n.g()}),this.eventManager.o(this.button,"click",function(){n.controls.Da()&&WS(n.controls)}),Jx(this),this.g()}function Jx(e){if(e.isEnded()&&e.video.duration)e.button.ariaLabel=e.localization.resolve("REPLAY");else{var t=e.isPaused()?"PLAY":"PAUSE";e.button.ariaLabel=e.localization.resolve(t)}}function $x(e,t){Qx.call(this,e,t),this.button.classList.add("shaka-play-button"),this.button.classList.add("shaka-no-propagation")}function eS(e,t){jx.call(this,e,t);var n=this;this.m=null,this.i=this.D=!1,this.C=this.A=null,this.j=new Wi(function(){0===parseInt(n.h.textContent,10)&&QS(n.controls,!0);var e=parseInt(n.h.textContent,10);0!==e&&(n.video.currentTime=n.controls.ph()+e),n.g.style.opacity="0",n.D=!1,n.h.textContent="0s"}),this.g=us("div"),this.g.classList.add("shaka-no-propagation"),this.parent.appendChild(this.g),this.h=us("span"),this.h.textContent="0s",this.g.appendChild(this.h),this.u=new qx(this.g),this.u.g.classList.add("shaka-forward-rewind-container-icon"),this.l=!1,this.eventManager.o(this.g,"touchstart",function(e){e.touches.length>0&&(n.A=e.touches[0].clientX,n.C=e.touches[0].clientY),n.i=!1}),this.eventManager.o(this.g,"touchmove",function(e){if(e.touches.length>0&&null!=n.A&&null!=n.C){var t=e.touches[0].clientX-n.A;e=e.touches[0].clientY-n.C,Math.sqrt(t*t+e*e)>10&&(n.i=!0)}}),this.eventManager.o(this.g,"touchend",function(e){if(!n.i)if(n.controls.Kc())e.preventDefault(),n.controls.Vc();else if(n.controls.g.tapSeekDistance>0)if(e.preventDefault(),e=n.controls.g.tapSeekDistance,n.D){if(n.m+500>Date.now()){n.j.stop(),n.m=Date.now();var t=parseInt(n.h.textContent,10);t=n.l?t-e:t+e,n.h.textContent=t.toString()+"s",n.g.style.opacity="1",n.j.Y(.5)}}else n.D=!0,n.m=Date.now(),n.j.Y(.5)})}function tS(e,t){eS.call(this,e,t),this.g.classList.add("shaka-fast-forward-container"),this.u.use("M100-315v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T428-480q0 10-4.5 18.5T410-447L162-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Zm400 0v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T828-480q0 10-4.5 18.5T810-447L562-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Z"),this.l=!1}function nS(e,t){eS.call(this,e,t),this.g.classList.add("shaka-rewind-container"),this.u.use("M798-281 550-447q-9-6-13.5-14.5T532-480q0-10 4.5-18.5T550-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Zm-400 0L150-447q-9-6-13.5-14.5T132-480q0-10 4.5-18.5T150-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Z"),this.l=!0}function iS(e,t,n,i){jx.call(this,e,t);var r=this;this.container=us("div"),this.container.classList.add("shaka-range-container"),this.container.classList.add.apply(this.container.classList,m(n)),this.i=!1,this.bar=document.createElement("input"),this.G=new Wi(function(){r.onChangeEnd(),r.i=!1}),this.bar.classList.add("shaka-range-element"),this.bar.classList.add.apply(this.bar.classList,m(i)),this.bar.type="range",this.bar.step="any",this.bar.min="0",this.bar.max="1",this.bar.value="0",this.bar.disabled=!this.controls.Da(),this.container.appendChild(this.bar),this.parent.appendChild(this.container),this.L=new Wi(function(){r.bar.disabled=!1}),this.eventManager.o(this.controls,"showingui",function(){r.L.Y(0)}),this.eventManager.o(this.controls,"hidingui",function(){r.L.stop(),r.bar.disabled=!0}),this.eventManager.o(this.bar,"mousedown",function(e){r.bar.disabled||(r.i=!0,r.onChangeStart(),e.stopPropagation())}),this.eventManager.o(this.bar,"touchstart",function(e){r.bar.disabled||(r.i=!0,aS(r,e),r.onChangeStart(),e.stopPropagation())}),this.eventManager.o(this.bar,"input",function(){r.onChange()}),this.eventManager.o(this.bar,"touchmove",function(e){r.i&&(aS(r,e),r.onChange(),e.stopPropagation())}),this.eventManager.o(this.bar,"touchend",function(e){r.i&&(r.i=!1,aS(r,e),r.onChangeEnd(),e.stopPropagation())}),this.eventManager.o(this.bar,"touchcancel",function(e){r.i&&(r.i=!1,aS(r,e),r.onChangeEnd(),e.stopPropagation())}),this.eventManager.o(this.bar,"mouseup",function(e){r.i&&(r.i=!1,r.onChangeEnd(),e.stopPropagation())}),this.eventManager.o(this.bar,"blur",function(){r.i&&(r.i=!1,r.onChangeEnd())}),this.eventManager.o(this.bar,"contextmenu",function(e){e.preventDefault(),e.stopPropagation()})}function rS(e,t){var n=e.bar.getBoundingClientRect(),i=parseFloat(e.bar.min),r=parseFloat(e.bar.max);e=parseFloat(e.bar.step)||1;var a=n.left+6;return n=n.right-6,t=i+(Math.max(a,Math.min(n,t))-a)/(n-a)*(r-i),t=Math.round((t-i)/e)*e+i,Math.min(r,Math.max(i,t))}function aS(e,t){t.preventDefault(),e.bar.value=rS(e,t.changedTouches[0].clientX)}function oS(e,t){iS.call(this,e,t,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var n=this;this.F=us("div"),this.F.classList.add("shaka-ad-markers"),this.container.insertBefore(this.F,this.container.childNodes[0]),this.I=this.controls.g,this.C=new Wi(function(){var e=n.getValue();n.player.U()||e==n.video.duration&&(e-=.001),n.video.currentTime=e}),this.D=new Wi(function(){sS(n)}),this.M=!1,this.h=us("div"),this.h.id="shaka-player-ui-thumbnail-container",this.g=us("img"),this.g.id="shaka-player-ui-thumbnail-image",this.g.draggable=!1,this.K=us("div"),this.K.id="shaka-player-ui-thumbnail-time-container",this.H=us("div"),this.H.id="shaka-player-ui-thumbnail-time",this.K.appendChild(this.H),this.h.appendChild(this.g),this.h.appendChild(this.K),this.container.appendChild(this.h),this.j=us("div"),this.j.id="shaka-player-ui-time-container",this.container.appendChild(this.j),this.l=this.u=null,this.J=!1,this.A=new Wi(function(){pS(n)}),this.m=[],this.eventManager.o(this.bar,"input",function(){n.controls.Vc()}),this.eventManager.o(this.localization,"locale-updated",function(){return cS(n)}),this.eventManager.o(this.localization,"locale-changed",function(){return cS(n)}),this.eventManager.o(this.adManager,"ad-started",function(){lS(n)||zx(n.container,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){lS(n)&&zx(n.container,!0)}),this.eventManager.o(this.adManager,"ad-cue-points-changed",function(e){n.m=e.cuepoints,uS(n)}),this.eventManager.o(this.player,"unloading",function(){n.m=[],uS(n),n.l&&(n.l.abort(),n.l=null),n.u=null,pS(n),fS(n)}),this.eventManager.o(this.bar,"mousemove",function(e){if(n.controls.Kc())fS(n),pS(n);else{var t=rS(n,e.clientX),i=n.bar.getBoundingClientRect();e=Math.max(0,e.clientX-i.left),n.player.qh().length?(fS(n),hS(n,e,t)):(pS(n),dS(n,e,t))}}),this.eventManager.o(this.container,"mouseleave",function(){fS(n),n.A.stop(),n.A.Y(.25)}),this.setValue(this.video.currentTime),this.update(),cS(this),this.ad&&zx(this.container,!1)}function sS(e){if(e.m.length){for(var t=e.player.wa(),n=t.end-t.start,i=["to right"],r=[],a=e.I.seekBarColors.adBreaks,o=!1,s=g(e.m),u=s.next();!u.done;u=s.next())if(-1!=(u=u.value).start||u.end){if(!u.end&&u.start>=t.start||"number"==typeof u.end&&u.end>t.start){var l=(Math.max(u.start,t.start)-t.start)/n||0,c=l+.01;u.end&&(c=(u.end-t.start)/n||0),r.push({start:l,end:c})}}else o=!0;for(n=(t=g(r=r.sort(function(e,t){return e.start-t.start}))).next();!n.done;n=t.next())n=n.value,i.push("transparent "+100*n.start+"%"),i.push(a+" "+100*n.start+"%"),i.push(a+" "+100*n.end+"%"),i.push("transparent "+100*n.end+"%");o&&(i.push("transparent 99%"),i.push(a+" 99%")),e.F.style.background="linear-gradient("+i.join(",")+")"}else e.F.style.background="transparent",e.D.stop()}function uS(e){function t(){sS(e);var t=e.player.wa();t=t.end-t.start,e.player.U()&&t>5&&e.D.xa(.25)}e.player.aa?t():e.eventManager.ua(e.player,"loaded",t)}function lS(e){var t=e.player.wa();return t=t.end-t.start,!(e.player.U()&&(t<5||!isFinite(t)))&&(null==e.ad||!e.ad.isLinear())}function cS(e){e.bar.ariaLabel=e.localization.resolve("SEEK")}function dS(e,t,n){var i=e.j.clientWidth;e.j.style.width="auto",e.j.style.height="20px",e.j.style.top="-30px",e.j.style.left=Math.min(e.bar.offsetWidth-i,Math.max(0,t-i/2))+"px",e.j.style.right="",e.j.style.visibility="visible",t=e.player.wa(),e.player.U()?(n=t.end-n)<1?(e.j.textContent=e.localization.resolve("LIVE"),e.j.style.left="",e.j.style.right="0px"):e.j.textContent="-"+Kx(n,n>=3600):(n-=t.start,e.j.textContent=Kx(n,n>=3600))}function hS(e,t,n){var i,r,a,o,s,u,l,c,d,h,p,f,g,m,v,y,A;D(function(b){switch(b.g){case 1:return n<0&&(n=0),i=!1,e.m.length&&(i=e.m.some(function(e){return!!e.end&&(n>=e.start&&n<=e.end)})),i?(pS(e),dS(e,t,n),b.return()):(r=e.player.wa(),a=Math.max(Math.ceil(r.start),Math.min(Math.floor(r.end),n)),e.player.U()?(o=r.end-n,e.H.textContent=o<1?e.localization.resolve("LIVE"):"-"+Kx(o,o>=3600)):e.H.textContent=Kx(n,n>=3600),T(b,e.player.$i(null,a),2));case 2:if(!(s=b.h)||!s.uris||!s.uris.length)return pS(e),dS(e,t,n),b.return();if(s.width<s.height?e.h.classList.add("portrait-thumbnail"):e.h.classList.remove("portrait-thumbnail"),u=-10,l=e.h.clientWidth,c=Math.floor(9*l/16),e.h.style.height=c+"px",e.h.style.top=-(c-u)+"px",d=Math.min(e.bar.offsetWidth-l,Math.max(0,t-l/2)),e.h.style.left=d+"px",e.h.style.visibility="visible",h=s.uris[0].split("#xywh=")[0],e.u&&h===e.u.uris[0].split("#xywh=")[0]&&s.startByte==e.u.startByte&&s.endByte==e.u.endByte){b.B(3);break}if(e.u=s,e.l&&(e.l.abort(),e.l=null),"mjpg"!=s.codecs&&!h.startsWith("offline:")){b.B(4);break}return e.g.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"/>',w(b,5),p=aa,f=Al(s.uris,s.startByte,s.endByte,e.player.getConfiguration().streaming.retryParameters),e.l=e.player.Vb().request(p,f,{type:1}),T(b,e.l.promise,7);case 7:g=b.h,e.l=null,"mjpg"==s.codecs?(new ga).box("mdat",ba(function(e){h=URL.createObjectURL(new Blob([e],{type:"image/jpeg"}))},!0)).parse(g.data,!1):(m=s.mimeType||"image/jpeg",v=new Blob([g.data],{type:m}),h=URL.createObjectURL(v)),S(b,4);break;case 5:if(7001==(y=E(b)).code)return b.return();throw y;case 4:try{e.h.removeChild(e.g)}catch(e){}e.g=us("img"),e.g.id="shaka-player-ui-thumbnail-image",e.g.draggable=!1,e.g.src=h,e.g.onload=function(){h.startsWith("blob:")&&URL.revokeObjectURL(h)},e.h.insertBefore(e.g,e.h.firstChild);case 3:A=l/s.width,s.imageHeight?e.g.height=s.imageHeight:s.sprite||(e.g.style.height="100%",e.g.style.objectFit="contain"),s.imageWidth?e.g.width=s.imageWidth:s.sprite||(e.g.style.width="100%",e.g.style.objectFit="contain"),e.g.style.left="-"+A*s.positionX+"px",e.g.style.top="-"+A*s.positionY+"px",e.g.style.transform="scale("+A+")",e.g.style.transformOrigin="left top",c=Math.floor(l*s.height/s.width),e.h.style.height=c+"px",e.h.style.top=-(c-u)+"px",C(b)}})}function pS(e){e.h.style.visibility="hidden"}function fS(e){e.j.style.visibility="hidden"}function gS(){}function mS(e,t){jx.call(this,e,t);var n=this;this.j=us("div"),this.j.classList.add("shaka-skip-ad-container"),this.parent.appendChild(this.j),this.h=us("div"),this.h.classList.add("shaka-skip-ad-counter"),zx(this.h,!1),this.j.appendChild(this.h),this.g=cs(),this.g.classList.add("shaka-skip-ad-button"),this.g.disabled=!0,zx(this.g,!1),this.g.classList.add("shaka-no-propagation"),this.j.appendChild(this.g),vS(this),this.i=new Wi(function(){if(n.ad.isSkippable()){var e=Math.round(n.ad.getTimeUntilSkippable());e>0?n.h.textContent=e:(n.i.stop(),zx(n.h,!1))}else AS(n)}),this.eventManager.o(this.localization,"locale-updated",function(){vS(n)}),this.eventManager.o(this.localization,"locale-changed",function(){vS(n)}),this.eventManager.o(this.adManager,"ad-started",function(){yS(n)}),this.eventManager.o(this.adManager,"ad-skip-state-changed",function(){n.ad.isSkippable()?n.ad.canSkipNow()&&(n.g.disabled=!1,n.i.stop(),zx(n.h,!1)):AS(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){AS(n)}),this.eventManager.o(this.g,"click",function(){n.ad.skip()}),this.ad&&yS(this)}function vS(e){e.g.textContent=e.localization.resolve("SKIP_AD")}function yS(e){e.ad.isSkippable()&&e.ad.needsSkipUI()&&(zx(e.g,!0),zx(e.h,!0),e.h.textContent="",e.i.Ka(),e.i.xa(.5))}function AS(e){e.i.stop(),e.g.disabled=!0,zx(e.g,!1),zx(e.h,!1)}function bS(){var e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function TS(e,t,n){t=1/Math.tan(t/2),e[0]=t/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n=1/-99.9,e[10]=100.1*n,e[14]=20*n}function CS(e,t,n){var i=t[0],r=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],h=t[9],p=t[10],f=t[11],g=t[12],m=t[13],v=t[14];t=t[15];var y=n[0],A=n[1],b=n[2],T=n[3];e[0]=y*i+A*s+b*d+T*g,e[1]=y*r+A*u+b*h+T*m,e[2]=y*a+A*l+b*p+T*v,e[3]=y*o+A*c+b*f+T*t,y=n[4],A=n[5],b=n[6],T=n[7],e[4]=y*i+A*s+b*d+T*g,e[5]=y*r+A*u+b*h+T*m,e[6]=y*a+A*l+b*p+T*v,e[7]=y*o+A*c+b*f+T*t,y=n[8],A=n[9],b=n[10],T=n[11],e[8]=y*i+A*s+b*d+T*g,e[9]=y*r+A*u+b*h+T*m,e[10]=y*a+A*l+b*p+T*v,e[11]=y*o+A*c+b*f+T*t,y=n[12],A=n[13],b=n[14],T=n[15],e[12]=y*i+A*s+b*d+T*g,e[13]=y*r+A*u+b*h+T*m,e[14]=y*a+A*l+b*p+T*v,e[15]=y*o+A*c+b*f+T*t}function wS(e,t){var n=new Float32Array(3),i=t[0],r=t[1],a=t[2],o=t[4],s=t[5],u=t[6],l=t[8],c=t[9],d=t[10];n[0]=Math.sqrt(i*i+r*r+a*a),n[1]=Math.sqrt(o*o+s*s+u*u),n[2]=Math.sqrt(l*l+c*c+d*d),u=1/n[0],l=1/n[1],c=1/n[2],o=t[0]*u,n=t[1]*l,i=t[2]*c,r=t[4]*u,s=t[5]*l,a=t[6]*c,u*=t[8],l*=t[9],(c=o+s+(t=t[10]*c))>0?(t=2*Math.sqrt(c+1),e[3]=.25*t,e[0]=(a-l)/t,e[1]=(u-i)/t,e[2]=(n-r)/t):o>s&&o>t?(t=2*Math.sqrt(1+o-s-t),e[3]=(a-l)/t,e[0]=.25*t,e[1]=(n+r)/t,e[2]=(u+i)/t):s>t?(t=2*Math.sqrt(1+s-o-t),e[3]=(u-i)/t,e[0]=(n+r)/t,e[1]=.25*t,e[2]=(a+l)/t):(t=2*Math.sqrt(1+t-o-s),e[3]=(n-r)/t,e[0]=(u+i)/t,e[1]=(a+l)/t,e[2]=.25*t)}function xS(e,t){var n=t[0],i=t[1],r=t[2],a=n+n,o=i+i,s=r+r;n*=a;var u=i*a;i*=o;var l=r*a,c=r*o;r*=s,a*=t=t[3],o*=t,t*=s,e[0]=1-i-r,e[1]=u+t,e[2]=l-o,e[3]=0,e[4]=u-t,e[5]=1-n-r,e[6]=c+a,e[7]=0,e[8]=l+o,e[9]=c-a,e[10]=1-n-i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}function SS(){var e=new Float32Array(4);return e[3]=1,e}function ES(e){var t=[],n=[],i=[],r=Math.PI;e=void 0!==e&&e?r/2:r;for(var a=0;a<=100;a++){var o=a*r/100,s=Math.sin(o);o=Math.cos(o);for(var u=0;u<=100;u++){var l=2*u*e/100;t.push(Math.sin(l)*s,o,Math.cos(l)*s),n.push(u/100,a/100)}}for(r=0;r<100;r++)for(e=0;e<100;e++)s=(a=101*r+e)+100+1,i.push(a,s,a+1),i.push(s,s+1,a+1);return{ek:t,$j:n,indices:i}}function kS(e,t,n,i,r){this.i=e,this.ra=t,this.u=n,this.g=i,this.A=new Mt,this.M=SS(),this.h=SS(),this.ea=this.oa=this.aa=this.l=null,this.F=bS(),this.J=bS(),this.O=bS(),this.W=bS(),this.D=null,this.P=!1,this.K=this.C=null,this.sa=this.ya=0,this.Z=this.R=this.S=this.L=null,this.I=this.H=0,this.j=75,this.V=0,this.m=r,this.G=-1,function(e){(function(e){var t=e.F,n=[0,0,0],i=[1,0,0],r=[0,1,0],a=n[0],o=n[1];n=n[2];var s=r[0],u=r[1],l=r[2],c=i[0];r=i[1];var d=i[2];if(Math.abs(a-c)<1e-6&&Math.abs(o-r)<1e-6&&Math.abs(n-d)<1e-6)for(a=0;a<16;a++)t[a]=a%5==0?1:0;else{i=a-c,r=o-r,c=n-d;var h=1/Math.sqrt(i*i+r*r+c*c);d=u*(c*=h)-l*(r*=h),l=l*(i*=h)-s*c,s=s*r-u*i,(h=Math.sqrt(d*d+l*l+s*s))?(d*=h=1/h,l*=h,s*=h):s=l=d=0,u=r*s-c*l;var p=c*d-i*s,f=i*l-r*d;(h=Math.sqrt(u*u+p*p+f*f))?(u*=h=1/h,p*=h,f*=h):f=p=u=0,t[0]=d,t[1]=u,t[2]=i,t[3]=0,t[4]=l,t[5]=p,t[6]=r,t[7]=0,t[8]=s,t[9]=f,t[10]=c,t[11]=0,t[12]=-(d*a+l*o+s*n),t[13]=-(u*a+p*o+f*n),t[14]=-(i*a+r*o+c*n),t[15]=1}wS(e.M,e.F),e=t=e.W,n=[4,4,4],a=n[0],o=n[1],n=n[2],t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]})(e),function(e){LS(e),e.g.viewport(0,0,e.g.drawingBufferWidth,e.g.drawingBufferHeight),e.g.clearColor(0,0,0,1),e.g.enable(e.g.CULL_FACE),e.g.cullFace(e.g.FRONT),e.g.clear(e.g.COLOR_BUFFER_BIT)}(e),function(e){var t=IS(e,e.g.VERTEX_SHADER),n=IS(e,e.g.FRAGMENT_SHADER);e.l=e.g.createProgram(),e.g.attachShader(e.l,t),e.g.attachShader(e.l,n),e.g.linkProgram(e.l),"cubemap"==e.m?(e.S=e.g.getAttribLocation(e.l,"aVertexPosition"),e.R=e.g.getAttribLocation(e.l,"aTextureCoord")):(e.S=e.g.getAttribLocation(e.l,"a_vPosition"),e.g.enableVertexAttribArray(e.S),e.R=e.g.getAttribLocation(e.l,"a_TexCoordinate"),e.g.enableVertexAttribArray(e.R))}(e),function(e){e.L="cubemap"==e.m?{ek:[-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1],$j:[2/3,.5,1/3,.5,1/3,0,2/3,0,2/3,.5,2/3,0,1,0,1,.5,1,1,2/3,1,2/3,.5,1,.5,0,.5,0,0,1/3,0,1/3,.5,0,.5,1/3,.5,1/3,1,0,1,1/3,1,1/3,.5,2/3,.5,2/3,1],indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]}:"halfequirectangular"==e.m?ES(!0):ES(),e.aa=e.g.createBuffer(),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.aa),e.g.bufferData(e.g.ARRAY_BUFFER,new Float32Array(e.L.ek),e.g.STATIC_DRAW),e.oa=e.g.createBuffer(),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.oa),e.g.bufferData(e.g.ARRAY_BUFFER,new Float32Array(e.L.$j),e.g.STATIC_DRAW),e.ea=e.g.createBuffer(),e.g.bindBuffer(e.g.ELEMENT_ARRAY_BUFFER,e.ea),e.g.bufferData(e.g.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.L.indices),e.g.STATIC_DRAW)}(e),function(e){e.Z=e.g.createTexture(),e.g.bindTexture(e.g.TEXTURE_2D,e.Z),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_WRAP_S,e.g.CLAMP_TO_EDGE),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_WRAP_T,e.g.CLAMP_TO_EDGE),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_MIN_FILTER,e.g.NEAREST),e.g.texParameteri(e.g.TEXTURE_2D,e.g.TEXTURE_MAG_FILTER,e.g.NEAREST)}(e),ku(e.i,HTMLMediaElement.HAVE_CURRENT_DATA,e.A,function(){if(e.i.readyState>=HTMLMediaElement.HAVE_ENOUGH_DATA&&MS(e),"requestVideoFrameCallback"in e.i){var t=function(){-1!=e.G&&(MS(e),-1!=e.G&&(e.G=e.i.requestVideoFrameCallback(t)))};e.G=e.i.requestVideoFrameCallback(t)}else{var n;e.A.o(e.i,"canplaythrough",function(){MS(e)}),e.A.o(e.i,"playing",function(){if(e.C&&e.C.stop(),!n)for(var t=e.ra.Nb(),i=(t=g(t)).next();!i.done;i=t.next())(i=i.value.frameRate)&&(!n||n<i)&&(n=i);n||(n=60),MS(e),e.C=new Wi(function(){MS(e)}).Ka().xa(1/n)}),e.A.o(e.i,"pause",function(){e.C&&e.C.stop(),e.C=null,MS(e)}),e.A.o(e.i,"seeked",function(){MS(e)}),e.A.o(document,"visibilitychange",function(){MS(e)})}})}(this)}function IS(e,t){switch(t){case e.g.VERTEX_SHADER:var n="cubemap"==e.m?"attribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvarying highp vec2 vTextureCoord;\nvarying highp vec3 vLighting;\nvoid main(void) {\n  gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n  vTextureCoord = aTextureCoord;\n}":"attribute vec4 a_vPosition;\n// Per-vertex texture coordinate info\nattribute vec2 a_TexCoordinate;\nuniform mat4 u_VPMatrix;\n// Passed into the fragment shader.\nvarying vec2 v_TexCoordinate;\nvarying vec3 pass_position;\nvoid main()\n{\n gl_Position = u_VPMatrix * a_vPosition;\n // Pass through texture coord\n v_TexCoordinate = a_TexCoordinate;\n pass_position = a_vPosition.xyz;\n}";break;case e.g.FRAGMENT_SHADER:n="cubemap"==e.m?"varying highp vec2 vTextureCoord;\nuniform sampler2D uSampler;\nvoid main(void) {\n  highp vec4 texelColor = texture2D(uSampler, vTextureCoord);\n  gl_FragColor = vec4(texelColor.rgb , texelColor.a);\n}":"precision highp float;\n#define PI 3.141592653589793238462643383279\nvarying vec2 v_TexCoordinate;\nvarying vec3 pass_position;\nuniform sampler2D uSampler;\nvoid main(void) {\nhighp float xValue =\n      (PI + atan(pass_position.z, pass_position.x)) / (2.0 * PI);\n vec2 tc = vec2(xValue, v_TexCoordinate.t);\n tc = vec2(tc.x , tc.y);\nhighp vec4 texelColor =\n      texture2D(uSampler, tc);\n  gl_FragColor = vec4(texelColor.rgb, texelColor.a);\n}";break;default:return null}return t=e.g.createShader(t),e.g.shaderSource(t,n),e.g.compileShader(t),t}function MS(e,t){t=void 0===t||t;var n=e.ra.l==gp;!e.i||e.i.readyState<2||!n&&0==e.i.playbackRate||(TS(e.J,e.j*Math.PI/180,1.5625),"cubemap"==e.m?TS(e.J,e.j*Math.PI/180,2.5):TS(e.J,e.j*Math.PI/180,1.5625),e.g.useProgram(e.l),e.g.clear(e.g.COLOR_BUFFER_BIT),LS(e),t&&(e.g.activeTexture(e.g.TEXTURE0),e.g.bindTexture(e.g.TEXTURE_2D,e.Z),e.g.pixelStorei(e.g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),e.g.texImage2D(e.g.TEXTURE_2D,0,e.g.RGBA,e.g.RGBA,e.g.UNSIGNED_BYTE,e.i)),"equirectangular"!=e.m&&"halfequirectangular"!=e.m||(CS(e.O,e.F,e.W),CS(e.O,e.J,e.O)),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.aa),e.g.vertexAttribPointer(e.S,3,e.g.FLOAT,!1,0,0),e.g.enableVertexAttribArray(e.S),e.g.bindBuffer(e.g.ARRAY_BUFFER,e.oa),e.g.vertexAttribPointer(e.R,2,e.g.FLOAT,!1,0,0),e.g.enableVertexAttribArray(e.R),e.g.bindBuffer(e.g.ELEMENT_ARRAY_BUFFER,e.ea),"cubemap"==e.m?(e.g.uniformMatrix4fv(e.g.getUniformLocation(e.l,"uProjectionMatrix"),!1,e.J),e.g.uniformMatrix4fv(e.g.getUniformLocation(e.l,"uModelViewMatrix"),!1,e.O)):e.g.uniformMatrix4fv(e.g.getUniformLocation(e.l,"u_VPMatrix"),!1,e.O),e.g.uniform1i(e.g.getUniformLocation(e.l,"uSampler"),0),e.P&&e.g.viewport(0,0,e.u.width/2,e.u.height),e.g.drawElements(e.g.TRIANGLES,e.L.indices.length,e.g.UNSIGNED_SHORT,0),e.P&&(e.g.viewport(e.u.width/2,0,e.u.width/2,e.u.height),e.g.drawElements(e.g.TRIANGLES,e.L.indices.length,e.g.UNSIGNED_SHORT,0)))}function LS(e){var t=e.i.videoWidth;t||(t=e.u.scrollWidth);var n=e.i.videoHeight;if(n||(n=e.u.scrollHeight),e.ya!==t||e.sa!==n){e.u.width=t,e.u.height=n,e.ya=t,e.sa=n;var i=t/n,r=e.J,a=-i,o=1/(i-a);r[0]=0*o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0,r[8]=(i+a)*o,r[9]=0,r[10]=-1,r[11]=-1,r[12]=0,r[13]=0,r[14]=-0,r[15]=0,e.J=r,e.g.viewport(0,0,t,n)}}function RS(e,t,n,i){var r=1/0,a=90*Math.PI/180;"halfequirectangular"==e.m&&(r=90*Math.PI/180,a/=2);var o="cubemap"==e.m?e.O:e.F;if(e.H+=t,e.I+=n,e.H<r&&e.H>-r){r=Math.sin(t),t=Math.cos(t);var s=o[0],u=o[1],l=o[2],c=o[3],d=o[8],h=o[9],p=o[10],f=o[11];o!=o&&(o[4]=o[4],o[5]=o[5],o[6]=o[6],o[7]=o[7],o[12]=o[12],o[13]=o[13],o[14]=o[14],o[15]=o[15]),o[0]=s*t-d*r,o[1]=u*t-h*r,o[2]=l*t-p*r,o[3]=c*t-f*r,o[8]=s*r+d*t,o[9]=u*r+h*t,o[10]=l*r+p*t,o[11]=c*r+f*t}else e.H-=t;e.I<a&&e.I>-a?(a=bS(),r=bS(),t=-1*n,n=Math.sin(t),t=Math.cos(t),s=r[4],u=r[5],l=r[6],c=r[7],d=r[8],h=r[9],p=r[10],f=r[11],r!==a&&(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a[4]=s*t+d*n,a[5]=u*t+h*n,a[6]=l*t+p*n,a[7]=c*t+f*n,a[8]=d*t-s*n,a[9]=h*t-u*n,a[10]=p*t-l*n,a[11]=f*t-c*n,CS(o,a,o)):e.I-=n,n=bS(),a=bS(),r=Math.sin(i),i=Math.cos(i),t=a[0],s=a[1],u=a[2],l=a[3],c=a[4],d=a[5],h=a[6],p=a[7],a!==n&&(n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15]),n[0]=t*i+c*r,n[1]=s*i+d*r,n[2]=u*i+h*r,n[3]=l*i+p*r,n[4]=c*i-t*r,n[5]=d*i-s*r,n[6]=h*i-u*r,n[7]=p*i-l*r,CS(o,n,o),MS(e,!1)}function PS(e,t){(void 0===t||t)&&(wS(e.h,e.F),e.V=0,e.D=SS(),e.D[0]=(e.h[0]-e.M[0])/20,e.D[1]=(e.h[1]-e.M[1])/20,e.D[2]=(e.h[2]-e.M[2])/20,e.D[3]=(e.h[3]-e.M[3])/20),e.h[0]-=e.D[0],e.h[1]-=e.D[1],e.h[2]-=e.D[2],e.h[3]-=e.D[3],t=bS(),function(e,t){var n=t[0],i=t[1],r=t[2],a=n*n+i*i+r*r+(t=t[3])*t;a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=i*a,e[2]=r*a,e[3]=t*a}(e.h,e.h),xS(t,e.h),e.F=t,e.K&&(e.K.stop(),e.K=null),e.V<20?e.K=new Wi(function(){PS(e,!1),e.H=0,e.I=0,e.V++,MS(e,!1)}).Y(.025):(xS(t,e.M),e.F=t)}function DS(e,t,n,i,r){ee.call(this);var a=this;this.i=e,this.l=t,this.G=n,this.K=i,this.A=r,this.u=new Mt,this.h=new Mt,this.C=US(this.l),this.g=null,this.m=!1,this.J=this.I=this.H=this.F=this.D=0,this.j=null,this.u.o(i,"loading",function(){a.g&&PS(a.g),OS(a)}),this.u.o(i,"spatialvideoinfo",function(e){switch((e=e.detail).projection){case"rect":default:a.j=null;break;case"equi":a.j="equirectangular";break;case"hequ":switch(e.hfov){case 360:a.j="equirectangular";break;case 180:a.j="halfequirectangular";break;default:null==e.hfov?a.j="halfequirectangular":a.j=null}break;case"fish":a.j="halfequirectangular"}OS(a)}),this.u.o(i,"nospatialvideoinfo",function(){a.j=null,OS(a)}),this.u.o(i,"unloading",function(){a.j=null,OS(a)}),OS(this)}function OS(e){if(e.A.displayInVrMode||e.j){e.l||(e.l=document.createElement("canvas"),e.l.classList.add("shaka-vr-canvas-container"),e.G.parentElement.insertBefore(e.l,e.G.nextElementSibling),e.C=US(e.l));var t=e.j||e.A.defaultVrProjectionMode;e.g?e.g.m!=t&&(e.h.Sa(),e.g.release(),NS(e,t)):(e.l.style.display="",NS(e,t),e.dispatchEvent(new H("vrstatuschanged",(new Map).set("newStatus",e.Xb()))))}else!e.A.displayInVrMode&&!e.j&&e.l&&e.g&&(e.l.style.display="none",e.h.Sa(),e.g.release(),e.g=null,e.dispatchEvent(new H("vrstatuschanged",(new Map).set("newStatus",e.Xb()))))}function NS(t,n){t.C&&t.l&&(t.g=new kS(t.G,t.K,t.l,t.C,n),function(t){t.h.o(t.i,"mousedown",function(e){if(!t.m){var n=e.clientX;e=e.clientY,t.m=!0,t.D=n,t.F=e}}),navigator.maxTouchPoints>0&&t.h.o(t.i,"touchstart",function(e){if(!t.m){var n=e.touches[0].clientX;e=e.touches[0].clientY,t.m=!0,t.D=n,t.F=e}}),t.h.o(t.i,"wheel",function(e){if(!t.m){var n=t.g,i=e.deltaY;i/=50,n.j>=20&&n.j<=100&&(n.j+=i),n.j<20?n.j=20:n.j>100&&(n.j=100),MS(n,!1),e.preventDefault(),e.stopPropagation()}}),t.h.o(t.i,"mousemove",function(e){t.m&&_S(t,e.clientX,e.clientY)}),navigator.maxTouchPoints>0&&t.h.o(t.i,"touchmove",function(e){t.m&&_S(t,e.touches[0].clientX,e.touches[0].clientY),e.preventDefault()}),t.h.o(t.i,"mouseleave",function(){t.m=!1}),t.h.o(t.i,"mouseup",function(){t.m=!1}),navigator.maxTouchPoints>0&&t.h.o(t.i,"touchend",function(){t.m=!1});var n=!1;if(e.DeviceOrientationEvent)if("function"==typeof DeviceMotionEvent.requestPermission){var i=function(){DeviceMotionEvent.requestPermission().then(function(e){"granted"!==e||n||(n=!0,BS(t))})};DeviceMotionEvent.requestPermission().then(function(e){t.h.Fa(t.i,"click",i),t.h.Fa(t.i,"mouseup",i),navigator.maxTouchPoints>0&&t.h.Fa(t.i,"touchend",i),"granted"!==e?(t.h.ua(t.i,"click",i),t.h.ua(t.i,"mouseup",i),navigator.maxTouchPoints>0&&t.h.ua(t.i,"touchend",i)):(n=!0,BS(t))}).catch(function(){t.h.Fa(t.i,"click",i),t.h.Fa(t.i,"mouseup",i),navigator.maxTouchPoints>0&&t.h.Fa(t.i,"touchend",i),t.h.ua(t.i,"click",i),t.h.ua(t.i,"mouseup",i),navigator.maxTouchPoints>0&&t.h.ua(t.i,"touchend",i)})}else n=!0,BS(t)}(t))}function US(e){if(!e)return null;var t=Re().Oa();if("TV"==t||"CONSOLE"==t||"CAST"==t)return null;for(var n=(t=g(["webgl2","webgl"])).next();!n.done;n=t.next())if(n=e.getContext(n.value))return n;return null}function BS(t){t.h.o(e,"deviceorientation",function(e){if(t.g){var n=(e.alpha||0)-t.H,i=(e.beta||0)-t.I,r=(e.gamma||0)-t.J;(Math.abs(n)>10||Math.abs(i)>10||Math.abs(r)>5)&&(i=r=n=0),t.H=e.alpha||0,t.I=e.beta||0,t.J=e.gamma||0,e=screen.orientation.angle,RS(t.g,n*jS*-1,90==e||-90==e?r*jS*-1:i*jS,0)}})}function _S(e,t,n){var i=-.6*Math.PI/180;RS(e.g,(t-e.D)*i,-1*(n-e.F)*i,0),e.D=t,e.F=n}p(Qx,jx),Qx.prototype.isPaused=function(){if(this.ad&&this.ad.isLinear())var e=this.ad.isPaused();else e=(e=this.controls).C.paused&&!e.V;return e},Qx.prototype.isEnded=function(){return(!this.ad||!this.ad.isLinear())&&(!this.player||this.player.isEnded())},Qx.prototype.g=function(){this.isEnded()&&this.video.duration?this.h.use("M480-80q-75 0-140.5-28.5t-114-77q-48.5-48.5-77-114T120-440q0-17 11.5-28.5T160-480q17 0 28.5 11.5T200-440q0 117 81.5 198.5T480-160q117 0 198.5-81.5T760-440q0-117-81.5-198.5T480-720h-6l34 34q12 12 11.5 28T508-630q-12 12-28.5 12.5T451-629L348-732q-12-12-12-28t12-28l103-103q12-12 28.5-11.5T508-890q11 12 11.5 28T508-834l-34 34h6q75 0 140.5 28.5t114 77q48.5 48.5 77 114T840-440q0 75-28.5 140.5t-77 114q-48.5 48.5-114 77T480-80Z"):this.h.use(this.isPaused()?"M320-273v-414q0-17 12-28.5t28-11.5q5 0 10.5 1.5T381-721l326 207q9 6 13.5 15t4.5 19q0 10-4.5 19T707-446L381-239q-5 3-10.5 4.5T360-233q-16 0-28-11.5T320-273Z":"M640-200q-33 0-56.5-23.5T560-280v-400q0-33 23.5-56.5T640-760q33 0 56.5 23.5T720-680v400q0 33-23.5 56.5T640-200Zm-320 0q-33 0-56.5-23.5T240-280v-400q0-33 23.5-56.5T320-760q33 0 56.5 23.5T400-680v400q0 33-23.5 56.5T320-200Z")},G("shaka.ui.PlayButton",Qx),p($x,Qx),$x.prototype.g=function(){this.isEnded()?this.button.setAttribute("icon","replay"):this.isPaused()?this.button.setAttribute("icon","play"):this.button.setAttribute("icon","pause")},G("shaka.ui.BigPlayButton",$x),p(eS,jx),G("shaka.ui.HiddenSeekButton",eS),p(tS,eS),G("shaka.ui.HiddenFastForwardButton",tS),p(nS,eS),G("shaka.ui.HiddenRewindButton",nS),p(iS,jx),(r=iS.prototype).release=function(){this.G&&(this.G.stop(),this.G=null),jx.prototype.release.call(this)},r.setRange=function(e,t){this.bar.min=e,this.bar.max=t},r.onChangeStart=function(){},r.onChange=function(){},r.onChangeEnd=function(){},r.changeTo=function(e){this.i||(this.i=!0,this.onChangeStart());var t=parseFloat(this.bar.min),n=parseFloat(this.bar.max);this.bar.value=e>n?n:e<t?t:e,this.onChange(),this.G.Y(.5)},r.getValue=function(){return parseFloat(this.bar.value)},r.setValue=function(e){this.i||(this.bar.value=e)},G("shaka.ui.RangeElement",iS),iS.prototype.setValue=iS.prototype.setValue,iS.prototype.getValue=iS.prototype.getValue,iS.prototype.changeTo=iS.prototype.changeTo,iS.prototype.onChangeEnd=iS.prototype.onChangeEnd,iS.prototype.onChange=iS.prototype.onChange,iS.prototype.onChangeStart=iS.prototype.onChangeStart,iS.prototype.setRange=iS.prototype.setRange,p(oS,iS),(r=oS.prototype).release=function(){this.C&&(this.C.stop(),this.C=null,this.D.stop(),this.D=null),iS.prototype.release.call(this)},r.onChangeStart=function(){this.M=!this.video.paused,this.controls.gi(!0),this.video.pause(),this.A.stop(),this.J=!0},r.onChange=function(){if(this.video.duration)if(this.update(),this.C.Y(.125),this.player.qh().length&&!this.controls.Kc()){var e=parseFloat(this.bar.min),t=parseFloat(this.bar.max),n=this.bar.getBoundingClientRect(),i=Math.round(this.getValue());hS(this,(i-e)/((t-e)/n.width),i)}else pS(this)},r.onChangeEnd=function(){this.C.Ka(),this.controls.gi(!1),this.M&&this.video.play(),this.J&&(this.J=!1,this.A.stop(),this.A.Y(.25))},r.isShowing=function(){return!this.container.classList.contains("shaka-hidden")},r.update=function(){var e=this.I.seekBarColors,t=this.getValue(),n=this.video.buffered.length,i=n?this.video.buffered.start(0):0,r=n?this.video.buffered.end(n-1):0,a=(n=this.player.wa()).end-n.start;this.setRange(n.start,n.end),lS(this)?(zx(this.container,!0),i=(Math.max(i,n.start)-n.start)/a||0,r=(Math.min(r,n.end)-n.start)/a||0,t=(Math.min(Math.max(t,n.start),n.end)-n.start)/a||0,this.container.style.background="linear-gradient("+["to right",(this.I.showUnbufferedStart?e.base:e.played)+" "+100*i+"%",e.played+" "+100*i+"%",e.played+" "+100*t+"%",e.buffered+" "+100*t+"%",e.buffered+" "+100*r+"%",e.base+" "+100*r+"%"].join()+")"):zx(this.container,!1)},G("shaka.ui.SeekBar",oS),gS.prototype.create=function(e,t){return new oS(e,t)},oS.Factory=gS,p(mS,jx),mS.prototype.release=function(){this.i.stop(),this.i=null,jx.prototype.release.call(this)},G("shaka.ui.SkipAdButton",mS),kS.prototype.release=function(){-1!=this.G&&(this.i.cancelVideoFrameCallback(this.G),this.G=-1),this.A&&(this.A.release(),this.A=null),this.C&&(this.C.stop(),this.C=null),this.K&&(this.K.stop(),this.K=null)},kS.prototype.$d=function(){(this.P=!this.P)||this.g.viewport(0,0,this.u.width,this.u.height),MS(this,!1)},p(DS,ee),(r=DS.prototype).release=function(){this.u&&(this.u.release(),this.u=null),this.h&&(this.h.release(),this.h=null),this.g&&(this.g.release(),this.g=null),ee.prototype.release.call(this)},r.configure=function(e){this.A=e,OS(this)},r.Lg=function(){return this.l?!!this.C:!!US(document.createElement("canvas"))},r.Xb=function(){return!!this.g},r.$d=function(){this.g?this.g.$d():Y("Not playing VR content")},r.Ah=function(e){this.g?RS(this.g,e*jS,0,0):Y("Not playing VR content")},r.xh=function(e){this.g?RS(this.g,0,e*jS,0):Y("Not playing VR content")},r.yh=function(e){this.g?RS(this.g,0,0,e*jS):Y("Not playing VR content")};var jS=Math.PI/180;function qS(t,n,i,r,a){ee.call(this);var o=this;this.aa=!0,this.g=a,this.F=new Nf(i,t,this.g.castReceiverAppId,this.g.castAndroidReceiverCompatible),this.sa=!0,this.C=this.F.Uc(),this.u=i,this.m=this.F.Wb(),this.ea=t,this.l=n,this.Ob=r,this.ra=this.m.uf(),this.A=this.j=null,this.V=!1,this.K=[],this.fb=[],this.Na=!1,this.L=new Wi(function(){o.l.classList.add("no-cursor"),o.Na=!1,ZS(o)}),this.oa=new Wi(function(){o.i.removeAttribute("shown"),tE(o),YS(o),o.Z&&o.Z.Ni(),o.P.Y(o.g.closeMenusDelay)}),this.P=new Wi(function(){for(var e=g(o.K),t=e.next();!t.done;t=e.next())zx(t.value,!1);o.g.enableTooltips&&o.G.classList.add("shaka-tooltips-on")}),this.Ca=new Wi(function(){o.Da()&&iE(o)}),this.R=null,this.I=[],this.ya=function(){var e=new yt("en");return e.Xa("ar",new Map([["AD_DURATION","مدة الإعلان"],["AD_PROGRESS","الإعلان [AD_ON] من [NUM_ADS]"],["AD_STATISTICS","إحصاءات الإعلانات"],["AD_TIME","الإعلان: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","تلقائي"],["BACK","رجوع"],["CAPTIONS","الترجمة والشرح"],["CAST","إرسال..."],["CHAPTERS","الفصول"],["DOWNLOAD_VIDEO_FRAME","حفظ إطار الفيديو"],["ENTER_LOOP_MODE","تكرار الفيديو الحالي"],["ENTER_PICTURE_IN_PICTURE",'الدخول في وضع "نافذة ضمن نافذة"'],["EXIT_FULL_SCREEN","إنهاء وضع ملء الشاشة"],["EXIT_LOOP_MODE","إيقاف تكرار الفيديو الحالي"],["EXIT_PICTURE_IN_PICTURE",'الخروج من وضع "نافذة ضمن نافذة"'],["FAST_FORWARD","تقديم سريع"],["FULL_SCREEN","ملء الشاشة"],["LANGUAGE","اللغة"],["LIVE","مباشر"],["LOOP","تكرار"],["MORE_SETTINGS","مزيد من الإعدادات"],["MULTIPLE_LANGUAGES","لغات متعددة"],["MUTE","كتم الصوت"],["NOT_APPLICABLE","غير سارٍ"],["OFF","إيقاف"],["ON","تشغيل"],["PAUSE","إيقاف مؤقت"],["PICTURE_IN_PICTURE","نافذة ضمن النافذة"],["PLAY","التشغيل"],["PLAYBACK_RATE","سرعة التشغيل"],["QUALITY","الجودة"],["RECENTER_VR","إعادة التوسيط"],["REPLAY","إعادة التشغيل"],["RESOLUTION","درجة الدقة"],["REWIND","ترجيع"],["SEEK","البحث بالتمرير"],["SKIP_AD","تخطّي الإعلان"],["SKIP_TO_LIVE","الانتقال إلى بث مباشر"],["STATISTICS","الإحصاءات"],["SUBTITLE_FORCED","عرض إجباري"],["SURROUND","صوت محيطي"],["TOGGLE_STEREOSCOPIC","إيقاف العرض المجسّم أو تفعيله"],["UNDETERMINED_LANGUAGE","غير محدد"],["UNMUTE","إعادة الصوت"],["UNRECOGNIZED_LANGUAGE","غير معروف"],["VOLUME","مستوى الصوت"]])),e.Xa("de",new Map([["AD_DURATION","Dauer der Werbeanzeige"],["AD_PROGRESS","Werbung [AD_ON] von [NUM_ADS]"],["AD_STATISTICS","Anzeigenstatistiken"],["AD_TIME","Werbeanzeige: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatisch"],["BACK","Zurück"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["CHAPTERS","Kapitel"],["DOWNLOAD_VIDEO_FRAME","Videoframe speichern"],["ENTER_LOOP_MODE","In Endlosschleife spielen"],["ENTER_PICTURE_IN_PICTURE","Bild im Bild aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_LOOP_MODE","Endlosschleife stoppen"],["EXIT_PICTURE_IN_PICTURE","Bild im Bild beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE","Live"],["LOOP","Schleife"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["PLAYBACK_RATE","Geschwindigkeit"],["QUALITY","Qualität"],["RECENTER_VR","Zentrieren"],["REPLAY","Noch einmal wiedergeben"],["RESOLUTION","Auflösung"],["REWIND","Zurückspulen"],["SEEK","Suche"],["SKIP_AD","Überspringen"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["STATISTICS","Statistiken"],["SUBTITLE_FORCED","Erzwungen"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Einstellung „stereoskopisch“ ein‑/ausschalten"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],["VOLUME","Lautstärke"]])),e.Xa("en",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_STATISTICS","Ad statistics"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["CHAPTERS","Chapters"],["DOWNLOAD_VIDEO_FRAME","Save video frame"],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["RECENTER_VR","Recenter"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip Ad"],["SKIP_NEXT","Next"],["SKIP_PREVIOUS","Previous"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Toggle stereoscopic"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]])),e.Xa("en-GB",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_STATISTICS","Ad statistics"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["CHAPTERS","Chapters"],["DOWNLOAD_VIDEO_FRAME","Save video frame"],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["RECENTER_VR","Recentre"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip ad"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Toggle stereoscopic"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]])),e.Xa("es",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estadísticas del anuncio"],["AD_TIME","Anuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Enviar..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Guardar fotograma"],["ENTER_LOOP_MODE","Reproducir en bucle el vídeo actual"],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_LOOP_MODE","Dejar de reproducir en bucle el vídeo actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar rápidamente"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Reproducir en bucle"],["MORE_SETTINGS","Más ajustes"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["QUALITY","Calidad"],["RECENTER_VR","Volver a centrar"],["REPLAY","Volver a reproducir"],["RESOLUTION","Resolución"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_AD","Saltar anuncio"],["SKIP_NEXT","Siguiente"],["SKIP_PREVIOUS","Anterior"],["SKIP_TO_LIVE","Ir al vídeo en directo"],["STATISTICS","Estadísticas"],["SUBTITLE_FORCED","Forzado"],["SURROUND","Envolvente"],["TOGGLE_STEREOSCOPIC","Activar/Desactivar estereoscópica"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.Xa("es-419",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estadísticas de anuncios"],["AD_TIME","Anuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Transmitir..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Guardar fotograma"],["ENTER_LOOP_MODE","Repetir indefinidamente el video actual"],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_LOOP_MODE","Detener la repetición indefinida del video actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Repetir indefinidamente"],["MORE_SETTINGS","Más opciones de configuración"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["QUALITY","Calidad"],["RECENTER_VR","Volver a centrar"],["REPLAY","Volver a reproducir"],["RESOLUTION","Resolución"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_AD","Omitir anuncio"],["SKIP_TO_LIVE","Adelantar hasta la transmisión en vivo"],["STATISTICS","Estadísticas"],["SUBTITLE_FORCED","Forzado"],["SURROUND","Sonido envolvente"],["TOGGLE_STEREOSCOPIC","Activar o desactivar el modo estereoscópico"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.Xa("fr",new Map([["AD_DURATION","Durée de l'annonce"],["AD_PROGRESS","Annonce [AD_ON] sur [NUM_ADS]"],["AD_STATISTICS","Statistiques sur les annonces"],["AD_TIME","Annonce : [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster…"],["CHAPTERS","Chapitres"],["DOWNLOAD_VIDEO_FRAME","Télécharger l'image de la vidéo"],["ENTER_LOOP_MODE","Lire en boucle la vidéo en cours"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein écran"],["EXIT_LOOP_MODE","Arrêter la lecture en boucle de la vidéo en cours"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein écran"],["LANGUAGE","Langue"],["LIVE","En direct"],["LOOP","Répéter"],["MORE_SETTINGS","Plus de paramètres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","Désactivée"],["ON","Activée"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["PLAYBACK_RATE","Vitesse de lecture"],["QUALITY","Qualité"],["RECENTER_VR","Recentrer"],["REPLAY","Revoir"],["RESOLUTION","Résolution"],["REWIND","Retour arrière"],["SEEK","Chercher"],["SKIP_AD","Passer l'annonce"],["SKIP_NEXT","Suivante"],["SKIP_PREVIOUS","Précédente"],["SKIP_TO_LIVE","Accéder à la partie la plus récente du direct"],["STATISTICS","Statistiques"],["SUBTITLE_FORCED","Forcé"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Activer/Désactiver le mode stéréoscopique"],["UNDETERMINED_LANGUAGE","Langue indéterminée"],["UNMUTE","Réactiver le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME","Volume"]])),e.Xa("it",new Map([["AD_DURATION","Durata dell'annuncio"],["AD_PROGRESS","Annuncio [AD_ON] di [NUM_ADS]"],["AD_STATISTICS","Statistiche sugli annunci"],["AD_TIME","Annuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["CHAPTERS","Capitoli"],["DOWNLOAD_VIDEO_FRAME","Salva fotogramma"],["ENTER_LOOP_MODE","Riproduci in loop il video corrente"],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_LOOP_MODE","Interrompi riproduzione in loop del video corrente"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["LOOP","Riproduci in loop"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Più lingue"],["MUTE","Disattiva audio"],["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["PLAYBACK_RATE","Velocità di riproduzione"],["QUALITY","Qualità"],["RECENTER_VR","Ricentra"],["REPLAY","Riproduci di nuovo"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_AD","Salta annuncio"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["STATISTICS","Statistiche"],["SUBTITLE_FORCED","Forzata"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Pulsante di attivazione/disattivazione stereoscopico"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]])),e.Xa("ja",new Map([["AD_DURATION","広告再生時間"],["AD_PROGRESS","[AD_ON] 番目の広告（全 [NUM_ADS] 個）"],["AD_STATISTICS","広告の統計情報"],["AD_TIME","広告: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自動"],["BACK","戻る"],["CAPTIONS","字幕"],["CAST","キャスト..."],["CHAPTERS","章"],["DOWNLOAD_VIDEO_FRAME","動画フレームを保存"],["ENTER_LOOP_MODE","現在の動画をループ再生"],["ENTER_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを開始"],["EXIT_FULL_SCREEN","全画面表示を終了"],["EXIT_LOOP_MODE","現在の動画のループ再生を停止"],["EXIT_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを終了"],["FAST_FORWARD","早送り"],["FULL_SCREEN","全画面表示"],["LANGUAGE","言語"],["LIVE","ライブ"],["LOOP","ループ"],["MORE_SETTINGS","詳細設定"],["MULTIPLE_LANGUAGES","多言語"],["MUTE","ミュート"],["NOT_APPLICABLE","該当なし"],["OFF","オフ"],["ON","オン"],["PAUSE","一時停止"],["PICTURE_IN_PICTURE","ピクチャー イン ピクチャー"],["PLAY","再生"],["PLAYBACK_RATE","再生速度"],["QUALITY","品質"],["RECENTER_VR","中心を再設定"],["REPLAY","もう一度再生"],["RESOLUTION","解像度"],["REWIND","巻き戻し"],["SEEK","シーク再生"],["SKIP_AD","広告をスキップ"],["SKIP_TO_LIVE","ライブ配信までスキップ"],["STATISTICS","統計情報"],["SUBTITLE_FORCED","強制"],["SURROUND","サラウンド"],["TOGGLE_STEREOSCOPIC","立体画像を切り替える"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","ミュートを解除"],["UNRECOGNIZED_LANGUAGE","不明"],["VOLUME","音量"]])),e.Xa("ko",new Map([["AD_DURATION","광고 기간"],["AD_PROGRESS","광고 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","광고 통계"],["AD_TIME","광고: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","자동"],["BACK","뒤로"],["CAPTIONS","자막"],["CAST","전송..."],["CHAPTERS","장"],["DOWNLOAD_VIDEO_FRAME","동영상 프레임 저장"],["ENTER_LOOP_MODE","현재 동영상 반복 재생"],["ENTER_PICTURE_IN_PICTURE","PIP 모드 시작"],["EXIT_FULL_SCREEN","전체화면 닫기"],["EXIT_LOOP_MODE","현재 동영상 반복 재생 중지"],["EXIT_PICTURE_IN_PICTURE","PIP 모드 종료"],["FAST_FORWARD","빨리 감기"],["FULL_SCREEN","전체화면"],["LANGUAGE","언어"],["LIVE","실시간"],["LOOP","반복 재생"],["MORE_SETTINGS","설정 더보기"],["MULTIPLE_LANGUAGES","여러 언어"],["MUTE","음소거"],["NOT_APPLICABLE","해당 사항 없음"],["OFF","사용 안함"],["ON","사용"],["PAUSE","일시중지"],["PICTURE_IN_PICTURE","PIP 모드"],["PLAY","재생"],["PLAYBACK_RATE","재생 속도"],["QUALITY","품질"],["RECENTER_VR","중심 재설정"],["REPLAY","다시보기"],["RESOLUTION","해상도"],["REWIND","되감기"],["SEEK","찾기"],["SKIP_AD","광고 건너뛰기"],["SKIP_TO_LIVE","라이브 동영상으로 건너뛰기"],["STATISTICS","통계"],["SUBTITLE_FORCED","강제"],["SURROUND","서라운드"],["TOGGLE_STEREOSCOPIC","입체 보기 전환"],["UNDETERMINED_LANGUAGE","미정"],["UNMUTE","음소거 해제"],["UNRECOGNIZED_LANGUAGE","알 수 없음"],["VOLUME","볼륨"]])),e.Xa("nl",new Map([["AD_DURATION","Advertentieduur"],["AD_PROGRESS","Advertentie [AD_ON] van [NUM_ADS]"],["AD_STATISTICS","Advertentiestatistieken"],["AD_TIME","Advertentie: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["CHAPTERS","Hoofdstukken"],["DOWNLOAD_VIDEO_FRAME","Videoframe opslaan"],["ENTER_LOOP_MODE","De huidige video lussen"],["ENTER_PICTURE_IN_PICTURE","Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_LOOP_MODE","De huidige video niet meer lussen"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["LOOP","Lussen"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Geluid uitzetten"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["PLAYBACK_RATE","Afspeelsnelheid"],["QUALITY","Kwaliteit"],["RECENTER_VR","Opnieuw centreren"],["REPLAY","Opnieuw afspelen"],["RESOLUTION","Resolutie"],["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_AD","Advertentie overslaan"],["SKIP_TO_LIVE","Doorgaan naar live"],["STATISTICS","Statistieken"],["SUBTITLE_FORCED","Afgedwongen"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Stereoscopisch aan-/uitzetten"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Geluid aanzetten"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]])),e.Xa("pl",new Map([["AD_DURATION","Czas trwania reklamy"],["AD_PROGRESS","Reklama [AD_ON] z [NUM_ADS]"],["AD_STATISTICS","Statystyki reklam"],["AD_TIME","Reklama: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesyłaj..."],["CHAPTERS","Rozdziały"],["DOWNLOAD_VIDEO_FRAME","Zapisz klatkę filmu"],["ENTER_LOOP_MODE","Odtwarzaj bieżący film w pętli"],["ENTER_PICTURE_IN_PICTURE","Włącz tryb obrazu w obrazie"],["EXIT_FULL_SCREEN","Zamknij pełny ekran"],["EXIT_LOOP_MODE","Wyłącz odtwarzanie bieżącego filmu w pętli"],["EXIT_PICTURE_IN_PICTURE","Wyłącz tryb obrazu w obrazie"],["FAST_FORWARD","Przewiń do przodu"],["FULL_SCREEN","Pełny ekran"],["LANGUAGE","Język"],["LIVE","Na żywo"],["LOOP","Odtwarzaj w pętli"],["MORE_SETTINGS","Więcej ustawień"],["MULTIPLE_LANGUAGES","Wiele języków"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wyłączone"],["ON","Włączone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w obrazie"],["PLAY","Odtwórz"],["PLAYBACK_RATE","Szybkość odtwarzania"],["QUALITY","Jakość"],["RECENTER_VR","Wyśrodkuj"],["REPLAY","Odtwórz ponownie"],["RESOLUTION","Rozdzielczość"],["REWIND","Przewiń do tyłu"],["SEEK","Szukaj"],["SKIP_AD","Pomiń reklamę"],["SKIP_NEXT","Dalej"],["SKIP_PREVIOUS","Poprzedni"],["SKIP_TO_LIVE","Przejdź do transmisji na żywo"],["STATISTICS","Statystyki"],["SUBTITLE_FORCED","Wymuszone"],["SURROUND","Przestrzenny"],["TOGGLE_STEREOSCOPIC","Przełącz tryb stereoskopowy"],["UNDETERMINED_LANGUAGE","Nie określono"],["UNMUTE","Wyłącz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","Głośność"]])),e.Xa("pt-BR",new Map([["AD_DURATION","Duração do anúncio"],["AD_PROGRESS","Anúncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estatísticas de anúncios"],["AD_TIME","Anúncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automática"],["BACK","Voltar"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Salvar frame do vídeo"],["ENTER_LOOP_MODE","Repetir o vídeo atual"],["ENTER_PICTURE_IN_PICTURE","Entrar no modo picture-in-picture"],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_LOOP_MODE","Parar repetição do vídeo atual"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FAST_FORWARD","Avançar"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["LOOP","Repetir"],["MORE_SETTINGS","Mais definições"],["MULTIPLE_LANGUAGES","Vários idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","Não relevante"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["PLAYBACK_RATE","Velocidade da reprodução"],["QUALITY","Qualidade"],["RECENTER_VR","Centralizar"],["REPLAY","Repetir"],["RESOLUTION","Resolução"],["REWIND","Voltar"],["SEEK","Procurar"],["SKIP_AD","Pular anúncio"],["SKIP_TO_LIVE","Pular para transmissão ao vivo"],["STATISTICS","Estatísticas"],["SUBTITLE_FORCED","Exibição forçada"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Alternar imagem estereoscópica"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),e.Xa("ru",new Map([["AD_DURATION","Продолжительность рекламы"],["AD_PROGRESS","Реклама [AD_ON] из [NUM_ADS]"],["AD_STATISTICS","Статистика объявлений"],["AD_TIME","Реклама: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Авто"],["BACK","Назад"],["CAPTIONS","Субтитры"],["CAST","Транслировать..."],["CHAPTERS","Эпизоды"],["DOWNLOAD_VIDEO_FRAME","Сохранить кадр видео"],["ENTER_LOOP_MODE","Зациклить текущее видео"],["ENTER_PICTURE_IN_PICTURE",'Перейти в режим "Картинка в картинке"'],["EXIT_FULL_SCREEN","Обычный режим"],["EXIT_LOOP_MODE","Отменить зацикливание текущего видео"],["EXIT_PICTURE_IN_PICTURE",'Выйти из режима "Картинка в картинке"'],["FAST_FORWARD","Перемотка вперед"],["FULL_SCREEN","Полноэкранный режим"],["LANGUAGE","Язык"],["LIVE","Прямой эфир"],["LOOP","Зациклить"],["MORE_SETTINGS","Дополнительные настройки"],["MULTIPLE_LANGUAGES","Несколько языков"],["MUTE","Отключить звук"],["NOT_APPLICABLE","Неприменимо"],["OFF","Выкл."],["ON","Вкл."],["PAUSE","Пауза"],["PICTURE_IN_PICTURE","Картинка в картинке"],["PLAY","Воспроизвести"],["PLAYBACK_RATE","Скорость воспроизведения"],["QUALITY","Качество"],["RECENTER_VR","Центрировать заново"],["REPLAY","Повторить"],["RESOLUTION","Разрешение"],["REWIND","Перемотать назад"],["SEEK","Перемотка"],["SKIP_AD","Пропустить"],["SKIP_TO_LIVE","Пропустить и перейти к прямой трансляции"],["STATISTICS","Статистика"],["SUBTITLE_FORCED","Субтитры принудительно"],["SURROUND","Объемный звук"],["TOGGLE_STEREOSCOPIC","Включить или отключить стереоскопический режим"],["UNDETERMINED_LANGUAGE","Не указано"],["UNMUTE","Включить звук"],["UNRECOGNIZED_LANGUAGE","Не распознано"],["VOLUME","Громкость"]])),e.Xa("th",new Map([["AD_DURATION","ระยะเวลาโฆษณา"],["AD_PROGRESS","โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"],["AD_STATISTICS","สถิติโฆษณา"],["AD_TIME","โฆษณา: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","อัตโนมัติ"],["BACK","กลับ"],["CAPTIONS","คำบรรยายแทนเสียง"],["CAST","แคสต์..."],["CHAPTERS","บท"],["DOWNLOAD_VIDEO_FRAME","บันทึกเฟรมวิดีโอ"],["ENTER_LOOP_MODE","วนซ้ำวิดีโอปัจจุบัน"],["ENTER_PICTURE_IN_PICTURE","เข้าสู่การแสดงภาพซ้อนภาพ"],["EXIT_FULL_SCREEN","ออกจากการแสดงแบบเต็มหน้าจอ"],["EXIT_LOOP_MODE","หยุดวนซ้ำวิดีโอปัจจุบัน"],["EXIT_PICTURE_IN_PICTURE","ออกจากการแสดงภาพซ้อนภาพ"],["FAST_FORWARD","กรอไปข้างหน้า"],["FULL_SCREEN","เต็มหน้าจอ"],["LANGUAGE","ภาษา"],["LIVE","สด"],["LOOP","ลูป"],["MORE_SETTINGS","การตั้งค่าเพิ่มเติม"],["MULTIPLE_LANGUAGES","หลายภาษา"],["MUTE","ปิดเสียง"],["NOT_APPLICABLE","ไม่เกี่ยวข้อง"],["OFF","ปิด"],["ON","เปิด"],["PAUSE","หยุดชั่วคราว"],["PICTURE_IN_PICTURE","การแสดงภาพซ้อนภาพ"],["PLAY","เล่น"],["PLAYBACK_RATE","ความเร็วในการเล่น"],["QUALITY","คุณภาพ"],["RECENTER_VR","จัดกึ่งกลางใหม่"],["REPLAY","เล่นซ้ำ"],["RESOLUTION","ความละเอียด"],["REWIND","กรอกลับ"],["SEEK","ค้นหา"],["SKIP_AD","ข้ามโฆษณา"],["SKIP_TO_LIVE","ข้ามไปที่การถ่ายทอดสด"],["STATISTICS","สถิติ"],["SUBTITLE_FORCED","บังคับ"],["SURROUND","เซอร์ราวด์"],["TOGGLE_STEREOSCOPIC","เปิด/ปิดฟีเจอร์สามมิติ"],["UNDETERMINED_LANGUAGE","ไม่กำหนด"],["UNMUTE","เปิดเสียง"],["UNRECOGNIZED_LANGUAGE","ที่ไม่รู้จัก"],["VOLUME","ระดับเสียง"]])),e.Xa("tr",new Map([["AD_DURATION","Reklam süresi"],["AD_PROGRESS","[AD_ON]/[NUM_ADS] reklam"],["AD_STATISTICS","Reklam istatistikleri"],["AD_TIME","Reklam: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyazılar"],["CAST","Yayınla..."],["CHAPTERS","Bölümler"],["DOWNLOAD_VIDEO_FRAME","Video karesini kaydet"],["ENTER_LOOP_MODE","Mevcut videoyu döngüye al"],["ENTER_PICTURE_IN_PICTURE","Pencere içinde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan çık"],["EXIT_LOOP_MODE","Mevcut videonun döngüsünü durdur"],["EXIT_PICTURE_IN_PICTURE","Pencere İçinde Pencereden Çık"],["FAST_FORWARD","İleri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canlı"],["LOOP","Döngü"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden çok dil"],["MUTE","Sesi kapat"],["NOT_APPLICABLE","Geçerli değil"],["OFF","Kapalı"],["ON","Açık"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere İçinde Pencere"],["PLAY","Oynat"],["PLAYBACK_RATE","Çalma hızı"],["QUALITY","Kalite"],["RECENTER_VR","Ortala"],["REPLAY","Tekrar Oynat"],["RESOLUTION","Çözünürlük"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_AD","Reklamı Atla"],["SKIP_TO_LIVE","Canlı yayına atla"],["STATISTICS","İstatistikler"],["SUBTITLE_FORCED","Zorunlu"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Stereoskopik modu aç/kapat"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi aç"],["UNRECOGNIZED_LANGUAGE","Tanınmayan"],["VOLUME","Ses"]])),e.Xa("zh",new Map([["AD_DURATION","广告持续时间"],["AD_PROGRESS","广告 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","广告统计信息"],["AD_TIME","广告：[AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自动"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放…"],["CHAPTERS","章节"],["DOWNLOAD_VIDEO_FRAME","保存视频帧"],["ENTER_LOOP_MODE","循环播放当前视频"],["ENTER_PICTURE_IN_PICTURE","进入“画中画”模式"],["EXIT_FULL_SCREEN","退出全屏模式"],["EXIT_LOOP_MODE","停止循环播放当前视频"],["EXIT_PICTURE_IN_PICTURE","退出“画中画”模式"],["FAST_FORWARD","快进"],["FULL_SCREEN","全屏"],["LANGUAGE","语言"],["LIVE","直播"],["LOOP","循环播放"],["MORE_SETTINGS","更多设置"],["MULTIPLE_LANGUAGES","多种语言"],["MUTE","静音"],["NOT_APPLICABLE","不适用"],["OFF","关闭"],["ON","开启"],["PAUSE","暂停"],["PICTURE_IN_PICTURE","画中画"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["QUALITY","画质"],["RECENTER_VR","重新置中"],["REPLAY","重放"],["RESOLUTION","分辨率"],["REWIND","快退"],["SEEK","进度"],["SKIP_AD","跳过广告"],["SKIP_TO_LIVE","跳至当前直播"],["STATISTICS","统计信息"],["SUBTITLE_FORCED","已强制显示"],["SURROUND","环绕声"],["TOGGLE_STEREOSCOPIC","切换立体声"],["UNDETERMINED_LANGUAGE","未确定"],["UNMUTE","取消静音"],["UNRECOGNIZED_LANGUAGE","无法识别"],["VOLUME","音量"]])),e.Xa("zh-TW",new Map([["AD_DURATION","廣告長度"],["AD_PROGRESS","廣告 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","廣告統計資料"],["AD_TIME","廣告：[AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自動"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放..."],["CHAPTERS","章節"],["DOWNLOAD_VIDEO_FRAME","儲存影片影格"],["ENTER_LOOP_MODE","循環播放目前的影片"],["ENTER_PICTURE_IN_PICTURE","進入子母畫面"],["EXIT_FULL_SCREEN","退出全螢幕模式"],["EXIT_LOOP_MODE","停止循環播放目前的影片"],["EXIT_PICTURE_IN_PICTURE","離開子母畫面"],["FAST_FORWARD","快轉"],["FULL_SCREEN","全螢幕"],["LANGUAGE","語言"],["LIVE","直播"],["LOOP","循環播放"],["MORE_SETTINGS","顯示更多設定"],["MULTIPLE_LANGUAGES","多種語言"],["MUTE","靜音"],["NOT_APPLICABLE","不適用"],["OFF","關閉"],["ON","開啟"],["PAUSE","暫停"],["PICTURE_IN_PICTURE","子母畫面"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["QUALITY","音質"],["RECENTER_VR","重新置中"],["REPLAY","重播"],["RESOLUTION","解析度"],["REWIND","倒轉"],["SEEK","搜尋"],["SKIP_AD","略過廣告"],["SKIP_TO_LIVE","跳至当前直播"],["STATISTICS","統計資料"],["SUBTITLE_FORCED","強制顯示"],["SURROUND","環場音效"],["TOGGLE_STEREOSCOPIC","切換立體影像"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","取消靜音"],["UNRECOGNIZED_LANGUAGE","無法辨識"],["VOLUME","音量"]])),e.Ki(navigator.languages||[]),e}(),this.h=new Mt,this.D=null,this.configure(this.g),function(t){t.h.o(t.m,"buffering",function(){eE(t)}),eE(t),t.h.o(e,"keydown",function(n){!function(t,n){t.W.add(n.key);var i=t.Kc();"Tab"==n.key&&(t.i.classList.add("shaka-keyboard-navigation"),ZS(t),t.h.o(e,"mousedown",function(){t.h.Fa(e,"mousedown")})),"Escape"==n.key&&t.P.Ka(),i&&t.W.has("Tab")&&function(e,t){var n=e.K.filter(function(e){return!e.classList.contains("shaka-hidden")});if(n.length){var i=n[0];if(i.childNodes.length){for(n=i.firstElementChild;n&&n.classList.contains("shaka-hidden");)n=n.nextElementSibling;for(i=i.lastElementChild;i&&i.classList.contains("shaka-hidden");)i=i.previousElementSibling;var r=document.activeElement;e.W.has("Shift")?r==n&&(t.preventDefault(),i.focus()):r==i&&(t.preventDefault(),n.focus())}}}(t,n)}(t,n)}),t.h.o(e,"click",function(){return t.Vc()}),t.h.o(t,"submenuopen",function(){t.Vc()}),t.h.o(t.C,"play",function(){ZS(t)}),t.h.o(t.C,"pause",function(){ZS(t)}),t.h.o(t.l,"mousemove",function(e){XS(t,e)}),t.h.o(t.l,"touchmove",function(e){XS(t,e)},{passive:!0}),t.h.o(t.l,"touchend",function(e){XS(t,e)},{passive:!0}),t.h.o(t.l,"mouseleave",function(){t.R||t.L.Ka()}),t.h.o(t.l,"wheel",function(e){XS(t,e)},{passive:!0}),t.h.o(t.F,"caststatuschanged",function(){JS(t)}),t.h.o(t.D,"vrstatuschanged",function(){t.dispatchEvent(new H("vrstatuschanged"))}),t.h.o(t.l,"keydown",function(e){t.g.enableKeyboardPlaybackControlsInWindow||t.wb()||$S(t,e)}),t.h.o(t.l,"keyup",function(e){t.g.enableKeyboardPlaybackControlsInWindow||t.wb()||t.W.delete(e.key)}),t.h.o(e,"keydown",function(e){(t.g.enableKeyboardPlaybackControlsInWindow||t.wb())&&$S(t,e)}),t.h.o(e,"keyup",function(e){(t.g.enableKeyboardPlaybackControlsInWindow||t.wb())&&t.W.delete(e.key)}),t.h.o(t.ra,"ad-started",function(e){t.j=e.ad,t.Rj(),eE(t)}),t.h.o(t.ra,"ad-stopped",function(){t.j=null,t.aj(),eE(t)}),screen.orientation&&t.h.o(screen.orientation,"change",function(){return D(function(e){return T(e,function(e){return D(function(t){return e.C&&0!=e.C.readyState&&!e.F.Qa()&&e.g.enableFullscreenOnRotation&&e.we()?screen.orientation.type.includes("landscape")&&!e.wb()?T(t,zS(e),0):screen.orientation.type.includes("portrait")&&e.wb()?T(t,KS(e),0):t.B(0):t.return()})}(t),0)})})}(this),function(t){if(t.g.setupMediaSession&&navigator.mediaSession){var n=function(e,t){try{navigator.mediaSession.setActionHandler(e,function(e){t(e)})}catch(e){}},i=function(){if(t.j&&t.j.isLinear())r();else{var e=t.m.wa(),n=e.end-e.start;e=parseFloat((t.C.currentTime-e.start).toFixed(2)),t.m.U()&&Math.abs(n-e)<1&&(n=1/0);try{navigator.mediaSession.setPositionState({duration:Math.max(0,n),playbackRate:t.C.playbackRate,position:Math.max(0,e)})}catch(e){}}},r=function(){try{navigator.mediaSession.setPositionState()}catch(e){}},a=function(e){var n=t.g.keyboardSeekDistance;switch(e.action){case"pause":case"play":WS(t);break;case"seekbackward":if(e.seekOffset&&!isFinite(e.seekOffset))break;t.j&&t.j.isLinear()||nE(t,t.A.getValue()-(e.seekOffset||n));break;case"seekforward":if(e.seekOffset&&!isFinite(e.seekOffset))break;t.j&&t.j.isLinear()||nE(t,t.A.getValue()+(e.seekOffset||n));break;case"seekto":if(e.seekTime&&!isFinite(e.seekTime))break;t.j&&t.j.isLinear()||nE(t,t.m.wa().start+e.seekTime);break;case"stop":t.m.tc();break;case"enterpictureinpicture":t.j&&t.j.isLinear()||t.cd()}};n("pause",a),n("play",a),n("seekbackward",a),n("seekforward",a),n("seekto",a),n("stop",a),("documentPictureInPicture"in e||document.pictureInPictureEnabled)&&n("enterpictureinpicture",a),n=function(){t.m.U()||0!=t.m.wa().start?(i(),t.h.o(t.C,"timeupdate",i)):r()},t.m.aa&&n(),t.h.o(t.m,"loaded",n),t.h.o(t.m,"unloading",function(){t.h.Fa(t.C,"timeupdate",i)}),t.h.o(t.m,"metadata",function(e){var n,i;(e=e.payload)&&("TIT2"==e.key&&e.data&&(n=e.data),"APIC"==e.key&&"--\x3e"==e.mimeType&&(i=e.data),n&&(e={title:n,artwork:[]},navigator.mediaSession.metadata&&((e=navigator.mediaSession.metadata).title=n),navigator.mediaSession.metadata=new MediaMetadata(e)),i&&(i!=(n=t.u).poster&&(n.poster=i),n={title:"",artwork:[{src:i}]},navigator.mediaSession.metadata&&((n=navigator.mediaSession.metadata).artwork=[{src:i}]),navigator.mediaSession.metadata=new MediaMetadata(n)))})}}(this),this.W=new Set,JS(this),this.Ca.xa(this.g.refreshTickInSeconds),this.h.o(this.ya,"locale-changed",function(e){e=e.locales[0],o.ra.setLocale(e),o.l.setAttribute("lang",e)}),this.ra.initInterstitial(this.H,this.ea,this.u),this.h.o(this.m,"texttrackvisibility",function(){YS(o)}),this.h.o(this.m,"unloading",function(){o.j||(o.wb()&&KS(o),o.Md()&&o.cd())})}function FS(e){for(var t=g(e.I),n=t.next();!n.done;n=t.next())n.value.release();e.I=[]}function VS(e,t){rE.set(e,t)}function GS(e){return!(!document.fullscreenEnabled||e.u.webkitSupportsFullscreen&&e.g.preferVideoFullScreenInVisionOS&&"APPLE_VR"==Re().Oa())}function HS(t){return"documentPictureInPicture"in e&&t.g.preferDocumentPictureInPicture}function zS(e){var t,n;return D(function(i){switch(i.g){case 1:if(w(i,2),!GS(e)){(t=e.u).webkitSupportsFullscreen&&t.webkitEnterFullscreen(),i.B(4);break}if(!e.Md()){i.B(5);break}return T(i,e.cd(),6);case 6:if(!HS(e)){i.B(5);break}return T(i,new Promise(function(e){new Wi(e).Y(.05)}),5);case 5:return T(i,e.g.fullScreenElement.requestFullscreen({navigationUI:"hide"}),9);case 9:if(!e.g.forceLandscapeOnFullscreen||!screen.orientation){i.B(4);break}return w(i,11),T(i,screen.orientation.lock("landscape"),13);case 13:S(i,4,2);break;case 11:E(i,2);case 4:S(i,0);break;case 2:n=E(i),e.dispatchEvent(new H("error",(new Map).set("detail",n))),C(i)}})}function KS(e){var t;return D(function(n){return GS(e)?(screen.orientation&&screen.orientation.unlock(),T(n,document.exitFullscreen(),0)):((t=e.u).webkitSupportsFullscreen&&t.webkitExitFullscreen(),n.B(0))})}function WS(e){if(e.aa){if(e.j&&(e.j&&e.j.isPaused()?e.j.play():e.j&&e.j.pause(),e.j.isLinear()))return;e.C.duration&&(e.C.paused&&!e.V?(e.m.isEnded()&&(e.C.currentTime=e.m.wa().start),e.C.play()):e.C.pause())}}function XS(e,t){"mousemove"==t.type&&(e.i.classList.remove("shaka-keyboard-navigation"),ZS(e)),"touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type||"keyup"==t.type?e.R=Date.now():e.R+1e3<Date.now()&&(e.R=null),e.R&&"mousemove"==t.type||(e.l.classList.remove("no-cursor"),e.Na=!0,e.P.stop(),e.Da()||(iE(e),ZS(e)),e.L.stop(),"touchend"!=t.type&&"wheel"!=t.type&&"keyup"!=t.type&&e.R||e.L.Y(3))}function YS(e){var t=e.l.getElementsByClassName("shaka-text-container")[0];t&&(e.Da()?t.style.bottom=e.O.clientHeight+"px":t.style.bottom="0px")}function ZS(t){var n=!!t.j&&t.j.isPaused(),i=t.C.paused&&!t.V,r=t.i.classList.contains("shaka-keyboard-navigation");n||(!t.j||!t.j.isLinear())&&i||t.Na||r||function(t){return!!e.matchMedia("hover: hover").matches&&t.fb.some(function(e){return e.matches(":hover")})}(t)?(iE(t),null==t.i.getAttribute("shown")&&(t.i.setAttribute("shown","true"),tE(t)),YS(t),t.oa.stop()):t.oa.Y(t.g.fadeDelay),t.Kc()&&t.G.classList.remove("shaka-tooltips-on")}function QS(e,t){t=void 0!==t&&t,e.aa&&!e.Xb()&&(e.Kc()?e.P.Ka():e.g.singleClickForPlayAndPause?WS(e):t&&e.Da()&&e.bj())}function JS(e){var t=e.F.Qa();e.dispatchEvent(new H("caststatuschanged",(new Map).set("newStatus",t))),t?null==e.i.getAttribute("casting")&&(e.i.setAttribute("casting","true"),tE(e)):null!=e.i.getAttribute("casting")&&(e.i.removeAttribute("casting"),tE(e))}function $S(e,t){var n=document.activeElement,i=!(!n||!n.classList)&&n.classList.contains("shaka-volume-bar"),r=n&&n.classList&&n.classList.contains("shaka-seek-bar"),a=e.wb();if(n=e.i.contains(n),a=a||e.g.enableKeyboardPlaybackControlsInWindow,n&&XS(e,t),e.g.enableKeyboardPlaybackControls&&e.m.hd()){var o=e.g.keyboardSeekDistance,s=e.g.keyboardLargeSeekDistance;switch(t.key){case"ArrowLeft":e.A&&o>0&&(r||a)&&!i&&(t.preventDefault(),nE(e,e.A.getValue()-o));break;case"ArrowRight":e.A&&o>0&&(r||a)&&!i&&(t.preventDefault(),nE(e,e.A.getValue()+o));break;case"PageDown":e.A&&s>0&&(r||a)&&(t.preventDefault(),nE(e,e.A.getValue()-s));break;case"PageUp":e.A&&s>0&&(r||a)&&(t.preventDefault(),nE(e,e.A.getValue()+s));break;case"Home":e.A&&nE(e,e.m.wa().start);break;case"End":e.A&&nE(e,e.m.wa().end);break;case"c":e.m.Zd(!e.m.Wc());break;case"f":e.we()&&e.og();break;case"m":e.j&&e.j.isLinear()?e.j.setMuted(!e.j.isMuted()):e.u.muted=!e.u.muted;break;case"p":e.Ff()&&e.cd();break;case">":(t=e.g.playbackRates.indexOf(e.m.Za()))>-1&&t+1<e.g.playbackRates.length&&e.m.sc(e.g.playbackRates[t+1],!1);break;case"<":(t=e.g.playbackRates.indexOf(e.m.Za()))>-1&&t-1>=0&&e.m.sc(e.g.playbackRates[t-1],!1);break;case" ":(r||a&&!n)&&WS(e)}}}function eE(e){e.aa&&(e.j&&e.j.isClientRendering()&&e.j.isLinear()?zx(e.M,!1):zx(e.M,e.m.Df()))}function tE(e){e.Da()?e.dispatchEvent(new H("showingui")):e.dispatchEvent(new H("hidingui"))}function nE(e,t){e.C.currentTime=t,iE(e)}function iE(e){if(e.A)if(e.A.setValue(e.C.currentTime),e.A.update(),e.A.isShowing()){for(var t=g(e.K),n=t.next();!n.done;n=t.next())n.value.classList.remove("shaka-low-position");(t=e.G).classList.contains("shaka-tooltips-on")&&t.classList.remove("shaka-tooltips-low-position")}else{for(n=(t=g(e.K)).next();!n.done;n=t.next())n.value.classList.add("shaka-low-position");(t=e.G).classList.contains("shaka-tooltips-on")&&t.classList.add("shaka-tooltips-low-position")}e.dispatchEvent(new H("timeandseekrangeupdated"))}p(qS,ee),(r=qS.prototype).destroy=function(e){e=void 0!==e&&e;var t=this;return D(function(n){switch(n.g){case 1:if(document.pictureInPictureElement!=t.u){n.B(2);break}return T(n,document.exitPictureInPicture(),2);case 2:if(t.h&&(t.h.release(),t.h=null),t.L&&(t.L.stop(),t.L=null),t.oa&&(t.oa.stop(),t.oa=null),t.P&&(t.P.stop(),t.P=null),t.Ca&&(t.Ca.stop(),t.Ca=null),t.D&&(t.D.release(),t.D=null),FS(t),t.i&&(t.l.removeChild(t.i),t.i=null),!t.F){n.B(4);break}return T(n,t.F.destroy(e),5);case 5:t.F=null;case 4:if(t.M&&(t.l.removeChild(t.M),t.M=null),t.H&&(t.l.removeChild(t.H),t.H=null),t.J&&(t.l.removeChild(t.J),t.J=null),!t.ea){n.B(6);break}return T(n,t.ea.destroy(),7);case 7:t.ea=null;case 6:t.m=null,t.u=null,t.C=null,t.ya=null,t.W.clear(),function(e){if(e.g.setupMediaSession&&navigator.mediaSession){try{navigator.mediaSession.setPositionState()}catch(e){}e=function(e){try{navigator.mediaSession.setActionHandler(e,null)}catch(e){}},e("pause"),e("play"),e("seekbackward"),e("seekforward"),e("seekto"),e("stop"),e("enterpictureinpicture")}}(t),ee.prototype.release.call(t),C(n)}})},r.jk=function(e){this.sa=e,JS(this)},r.Ll=function(){ZS(this)},r.configure=function(e){var t=this;this.g=e,this.F.Li(e.castReceiverAppId,e.castAndroidReceiverCompatible),this.A&&(this.A=null),this.La&&(this.La=null),this.Z&&(this.Z=null),this.D&&this.D.configure(e),this.i?(ps(this.i),FS(this)):(function(e){e.i=us("div"),e.i.classList.add("shaka-controls-container"),e.l.appendChild(e.i),e.l.setAttribute("shaka-controls","true"),e.h.o(e.i,"touchend",function(t){e.C.duration&&(e.Da()?(e.R=Date.now(),QS(e,!0)):XS(e,t),t.cancelable&&t.preventDefault())}),e.h.o(e.i,"click",function(){QS(e)}),e.h.o(e.i,"dblclick",function(){e.g.doubleClickForFullscreen&&e.we()&&e.og()})}(this),function(e){e.H=us("div"),e.H.classList.add("shaka-client-side-ad-container"),zx(e.H,!1),e.h.o(e.H,"click",function(){QS(e)}),e.l.appendChild(e.H),e.J=us("div"),e.J.classList.add("shaka-server-side-ad-container"),zx(e.J,!1),e.h.o(e.J,"click",function(){QS(e)}),e.l.appendChild(e.J)}(this),this.D=new DS(this.i,this.Ob,this.u,this.m,this.g)),this.l.classList.add("shaka-video-container"),this.u.classList.add("shaka-video"),function(e){var t=us("div");t.classList.add("shaka-scrim-container"),e.i.appendChild(t)}(this),this.g.addBigPlayButton&&function(e){var t=us("div");t.classList.add("shaka-play-button-container"),e.i.appendChild(t),e.La=new $x(t,e),e.I.push(e.La)}(this),this.g.customContextMenu&&(this.Z=new Xx(this.G,this),this.I.push(this.Z)),this.M||function(e){e.M=us("div"),e.M.classList.add("shaka-spinner-container"),e.l.appendChild(e.M);var t=us("div");t.classList.add("shaka-spinner"),e.M.appendChild(t),t.insertAdjacentHTML("beforeend",'<svg focusable="false" stroke="currentColor"\n         viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg"\n         width="50px" height="50px" class="q-spinner text-grey-9">\n      <g transform="translate(1 1)" stroke-width="6" fill="none"\n        fill-rule="evenodd">\n        <circle stroke-opacity=".5" cx="18" cy="18" r="16"></circle>\n        <path d="M34 18c0-9.94-8.06-16-16-16">\n          <animateTransform attributeName="transform" type="rotate"\n            from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite">\n          </animateTransform>\n        </path>\n      </g>\n    </svg>')}(this),this.g.seekOnTaps&&(function(e){var t=us("div");t.classList.add("shaka-hidden-fast-forward-container"),e.i.appendChild(t),e.ib=new tS(t,e),e.I.push(e.ib)}(this),function(e){var t=us("div");t.classList.add("shaka-hidden-rewind-container"),e.i.appendChild(t),e.jb=new nS(t,e),e.I.push(e.jb)}(this)),function(e){e.O=us("div"),e.O.classList.add("shaka-bottom-controls"),e.O.classList.add("shaka-no-propagation"),e.i.appendChild(e.O),e.h.o(e.O,"click",function(t){t.target.closest(".shaka-overflow-button")||e.Vc()}),function(e){e.S=us("div"),e.S.classList.add("shaka-ad-controls");var t=null!=e.j&&e.j.isLinear();zx(e.S,t),e.O.appendChild(e.S),t=new mS(e.S,e),e.I.push(t)}(e),function(e){if(e.g.addSeekBar)e.A=aE.create(e.O,e),e.I.push(e.A);else{for(var t=g(e.K),n=t.next();!n.done;n=t.next())n.value.classList.add("shaka-low-position");(e=e.G).classList.contains("shaka-tooltips-on")&&e.classList.add("shaka-tooltips-low-position")}}(e),e.G=us("div"),e.G.classList.add("shaka-controls-button-panel"),e.G.classList.add("shaka-show-controls-on-mouse-over"),e.g.enableTooltips&&e.G.classList.add("shaka-tooltips-on"),e.O.appendChild(e.G);for(var t=g(e.g.controlPanelElements),n=t.next();!n.done;n=t.next())if(n=n.value,rE.get(n)){var i=rE.get(n).create(e.G,e);e.I.push(i),"time_and_duration"==n&&(n=new Wx(e.G,e),e.I.push(n))}else Y("Unrecognized control panel element requested:",n)}(this),this.K=Array.from(this.l.getElementsByClassName("shaka-settings-menu")),this.K.push.apply(this.K,m(Array.from(this.l.getElementsByClassName("shaka-overflow-menu")))),this.fb=Array.from(this.l.getElementsByClassName("shaka-show-controls-on-mouse-over")),ZS(this);for(var n=(e=g(this.l.getElementsByClassName("shaka-no-propagation"))).next();!n.done;n=e.next()){n=n.value;var i=function(e){return e.stopPropagation()};this.h.o(n,"click",i),this.h.o(n,"dblclick",i),navigator.maxTouchPoints>0&&this.h.o(n,"touchend",function(e){t.Da()&&e.stopPropagation()})}},r.ci=function(e){(this.aa=e)?(this.l.setAttribute("shaka-controls","true"),this.u.tabIndex=-1,this.u.controls=!1):this.l.removeAttribute("shaka-controls"),ZS(this)},r.Lj=function(e){this.u.controls=e,this.u.tabIndex=e?0:-1,e&&this.ci(!1)},r.getAd=function(){return this.j},r.Ck=function(){return this.F},r.Uk=function(){return this.ya},r.xl=function(){return this.l},r.Uc=function(){return this.C},r.Tk=function(){return this.u},r.Wb=function(){return this.m},r.Sk=function(){return this.ea},r.Jk=function(){return this.i},r.il=function(){return this.J},r.Fk=function(){return this.H},r.Gk=function(){return this.g},r.Il=function(){return this.V},r.gi=function(e){(this.V=e)?this.L.stop():this.L.Y(3)},r.Cl=function(){return this.sa},r.ph=function(){return this.A?this.A.getValue():this.C.currentTime},r.Mj=function(e){this.R=e},r.Kc=function(){return this.K.some(function(e){return!e.classList.contains("shaka-hidden")})},r.Vc=function(){this.P.Ka()},r.we=function(){return!this.F.Qa()&&!(!GS(this)&&(this.j&&this.j.isUsingAnotherMediaElement()||!this.u.webkitSupportsFullscreen))},r.wb=function(){if(GS(this))return!!document.fullscreenElement;var e=this.u;return!!e.webkitSupportsFullscreen&&e.webkitDisplayingFullscreen},r.og=function(){var e=this;return D(function(t){return e.wb()?T(t,KS(e),0):T(t,zS(e),0)})},r.Ff=function(){return!this.F.Qa()&&(!(!document.pictureInPictureEnabled&&!HS(this))&&!this.u.disablePictureInPicture)},r.Md=function(){return!!(e.documentPictureInPicture&&e.documentPictureInPicture.window||document.pictureInPictureElement)},r.cd=function(){var t,n=this;return D(function(i){switch(i.g){case 1:if(w(i,2),HS(n)){if(!n.wb()){i.B(10);break}return T(i,KS(n),10)}return document.pictureInPictureElement?T(i,document.exitPictureInPicture(),5):(n.wb()&&KS(n),T(i,n.u.requestPictureInPicture(),5));case 10:return T(i,function(t){var n,i,r,a,o,s;return D(function(u){if(1==u.g)return e.documentPictureInPicture.window?(e.documentPictureInPicture.window.close(),u.return()):(n=t.l,i=n.getBoundingClientRect(),T(u,e.documentPictureInPicture.requestWindow({width:i.width,height:i.height}),2));(function(e){var t=[].concat(m(document.styleSheets)).map(function(t){try{return[].concat(m(t.cssRules)).map(function(e){return e.cssText}).join("")}catch(i){var n=document.createElement("link");n.rel="stylesheet",n.type=t.type,n.media=t.media,n.href=t.href,e.document.head.appendChild(n)}return""}).filter(Boolean).join("\n"),n=document.createElement("style");n.textContent=t,e.document.head.appendChild(n)})(r=u.h),a=n.parentNode||document.body,(o=t.l.cloneNode(!0)).style.visibility="hidden",o.style.height=getComputedStyle(n).height,a.appendChild(o),(s=document.createElement("style")).append("[data-shaka-player-container] {\n      width: 100% !important; max-height: 100%}"),r.document.head.append(s),r.document.body.append(n),t.h.ua(r,"pagehide",function(){o.replaceWith(n)}),C(u)})}(n),5);case 5:S(i,0);break;case 2:t=E(i),n.dispatchEvent(new H("error",(new Map).set("detail",t))),C(i)}})},r.Rj=function(){zx(this.S,!0),zx(this.H,!0),zx(this.J,!0),this.j.hasCustomClick()?this.i.setAttribute("ad-active","true"):this.i.removeAttribute("ad-active")},r.aj=function(){zx(this.S,!1),zx(this.H,!1),zx(this.J,!1),this.i.removeAttribute("ad-active")},r.Da=function(){return!!this.aa&&(null!=this.i.getAttribute("shown")||null!=this.i.getAttribute("casting"))},r.ym=function(){XS(this,new Event("mousemove",{bubbles:!1,cancelable:!1}))},r.bj=function(){this.L.Ka()},r.Lg=function(){return this.D.Lg()},r.Xb=function(){return this.D.Xb()},r.vl=function(){var e=this.D;if(e.g){wS((e=e.g).h,e.F);var t=e.h;e=t[0];var n=t[1],i=t[2],r=i*i,a=(t=t[3])*t,o=e*e+n*n+r+a,s=e*t-n*i;s>.499995*o?(o=Math.PI/2,e=2*Math.atan2(n,e)):s<-.499995*o?(o=-Math.PI/2,e=2*Math.atan2(n,e)):(o=Math.asin(2*(e*i-t*n)),e=Math.atan2(2*(e*t+n*i),1-2*(r+a))),e=180*Math.acos(Math.cos(e)*Math.cos(o))/Math.PI}else Y("Not playing VR content"),e=null;return e},r.ul=function(){var e=this.D;return e.g?e=e.g.j:(Y("Not playing VR content"),e=null),e},r.wm=function(e){var t=this.D;t.g?(e<0?(Y("Field of view should be greater than 0"),e=0):e>100&&(Y("Field of view should be less than 100"),e=100),(t=t.g).j=e,MS(t,!1)):Y("Not playing VR content")},r.$d=function(){this.D.$d()},r.Ah=function(e){this.D.Ah(e)},r.xh=function(e){this.D.xh(e)},r.yh=function(e){this.D.yh(e)},G("shaka.ui.Controls",qS),qS.prototype.incrementRoll=qS.prototype.yh,qS.prototype.incrementPitch=qS.prototype.xh,qS.prototype.incrementYaw=qS.prototype.Ah,qS.prototype.toggleStereoscopicMode=qS.prototype.$d,qS.prototype.setVRFieldOfView=qS.prototype.wm,qS.prototype.getVRFieldOfView=qS.prototype.ul,qS.prototype.getVRNorth=qS.prototype.vl,qS.prototype.isPlayingVR=qS.prototype.Xb,qS.prototype.canPlayVR=qS.prototype.Lg,qS.prototype.hideUI=qS.prototype.bj,qS.prototype.showUI=qS.prototype.ym,qS.prototype.isOpaque=qS.prototype.Da,qS.prototype.hideAdUI=qS.prototype.aj,qS.prototype.showAdUI=qS.prototype.Rj,qS.prototype.togglePiP=qS.prototype.cd,qS.prototype.isPiPEnabled=qS.prototype.Md,qS.prototype.isPiPAllowed=qS.prototype.Ff,qS.prototype.toggleFullScreen=qS.prototype.og,qS.prototype.isFullScreenEnabled=qS.prototype.wb,qS.prototype.isFullScreenSupported=qS.prototype.we,qS.prototype.hideSettingsMenus=qS.prototype.Vc,qS.prototype.anySettingsMenusAreOpen=qS.prototype.Kc,qS.prototype.setLastTouchEventTime=qS.prototype.Mj,qS.prototype.getDisplayTime=qS.prototype.ph,qS.prototype.isCastAllowed=qS.prototype.Cl,qS.prototype.setSeeking=qS.prototype.gi,qS.prototype.isSeeking=qS.prototype.Il,qS.prototype.getConfig=qS.prototype.Gk,qS.prototype.getClientSideAdContainer=qS.prototype.Fk,qS.prototype.getServerSideAdContainer=qS.prototype.il,qS.prototype.getControlsContainer=qS.prototype.Jk,qS.prototype.getLocalPlayer=qS.prototype.Sk,qS.prototype.getPlayer=qS.prototype.Wb,qS.prototype.getLocalVideo=qS.prototype.Tk,qS.prototype.getVideo=qS.prototype.Uc,qS.prototype.getVideoContainer=qS.prototype.xl,qS.prototype.getLocalization=qS.prototype.Uk,qS.prototype.getCastProxy=qS.prototype.Ck,qS.prototype.getAd=qS.prototype.getAd,qS.prototype.setEnabledNativeControls=qS.prototype.Lj,qS.prototype.setEnabledShakaControls=qS.prototype.ci,qS.prototype.configure=qS.prototype.configure,qS.prototype.loadComplete=qS.prototype.Ll,qS.prototype.allowCast=qS.prototype.jk,qS.registerSeekBar=function(e){aE=e},qS.registerElement=VS,qS.prototype.destroy=qS.prototype.destroy;var rE=new Map,aE=new gS;function oE(t,n){function i(){return lE(r)}jx.call(this,t,n);var r=this;this.m=this.controls.g,this.l=this.controls.i,this.u=this.controls.l,this.j=[],function(e){e.h=cs(),e.h.classList.add("shaka-overflow-menu-button"),e.h.classList.add("shaka-no-propagation"),e.h.classList.add("shaka-tooltip"),new qx(e.h).use("M433-80q-27 0-46.5-18T363-142l-9-66q-13-5-24.5-12T307-235l-62 26q-25 11-50 2t-39-32l-47-82q-14-23-8-49t27-43l53-40q-1-7-1-13.5v-27q0-6.5 1-13.5l-53-40q-21-17-27-43t8-49l47-82q14-23 39-32t50 2l62 26q11-8 23-15t24-12l9-66q4-26 23.5-44t46.5-18h94q27 0 46.5 18t23.5 44l9 66q13 5 24.5 12t22.5 15l62-26q25-11 50-2t39 32l47 82q14 23 8 49t-27 43l-53 40q1 7 1 13.5v27q0 6.5-2 13.5l53 40q21 17 27 43t-8 49l-48 82q-14 23-39 32t-50-2l-60-26q-11 8-23 15t-24 12l-9 66q-4 26-23.5 44T527-80h-94Zm49-260q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Z");var t=us("span");t.classList.add("shaka-overflow-quality-mark"),t.style.display="none",e.h.appendChild(t),e.parent.appendChild(e.h)}(this),this.g=us("div"),this.g.classList.add("shaka-overflow-menu"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-hidden"),this.l.appendChild(this.g),function(e){for(var t=g(e.m.overflowMenuButtons),n=t.next();!n.done;n=t.next())n=n.value,dE.get(n)?(n=dE.get(n),e.j.push(n.create(e.g,e.controls))):Y("Unrecognized overflow menu element requested:",n)}(this),this.eventManager.o(this.localization,"locale-updated",function(){uE(r)}),this.eventManager.o(this.localization,"locale-changed",function(){uE(r)}),this.eventManager.o(this.adManager,"ad-started",function(){r.ad&&r.ad.isLinear()&&zx(r.h,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){zx(r.h,!0)}),this.eventManager.o(this.controls,"submenuopen",function(){zx(r.g,!1)}),this.eventManager.o(this.g,"touchstart",function(e){r.controls.Mj(Date.now()),e.stopPropagation()}),this.eventManager.o(this.h,"click",function(){r.controls.Da()&&function(e){if(e.controls.Kc())e.controls.Vc();else{zx(e.g,!0),ZS(e.controls);var t=function(e){return 0==e.classList.contains("shaka-hidden")};ne(e.g.childNodes,t)&&ie(e.g.childNodes,t)[0].focus(),lE(e)}}(r)}),uE(this),this.ad&&this.ad.isLinear()&&zx(this.h,!1),this.i=null,e.ResizeObserver?(this.i=new ResizeObserver(i),this.i.observe(this.controls.l)):this.eventManager.o(e,"resize",i)}function sE(e,t){dE.set(e,t)}function uE(e){e.h.ariaLabel=e.localization.resolve("MORE_SETTINGS")}function lE(t){var n=t.g.getBoundingClientRect(),i=e.getComputedStyle(t.g),r=parseFloat(i.paddingTop);i=parseFloat(i.paddingBottom);var a=t.u.getBoundingClientRect();t.g.style.maxHeight=n.bottom-a.top-r-i+"px"}function cE(){}p(oE,jx),oE.prototype.release=function(){this.l=null;for(var e=g(this.j),t=e.next();!t.done;t=e.next())t.value.release();this.j=[],this.i&&(this.i.disconnect(),this.i=null),jx.prototype.release.call(this)},G("shaka.ui.OverflowMenu",oE),oE.registerElement=sE,cE.prototype.create=function(e,t){return new oE(e,t)},VS("overflow_menu",new cE);var dE=new Map;function hE(e,t){function n(e){return i.i[e]}jx.call(this,e,t);var i=this;this.h=cs(),this.h.classList.add("shaka-ad-statistics-button"),this.u=new qx(this.h,"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),(e=us("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-simple-overflow-button-label-inline"),this.A=us("span"),e.appendChild(this.A),this.l=us("span"),this.l.classList.add("shaka-current-selection-span"),e.appendChild(this.l),this.h.appendChild(e),this.parent.appendChild(this.h),this.g=us("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-ad-statistics-container"),this.g.classList.add("shaka-hidden"),this.controls.i.appendChild(this.g),this.D=[],this.i=this.adManager.getStats(),zx(this.h,this.i.started>0),this.m=new Map,this.C=(new Map).set("loadTimes",function(e){for(var t=0,n=(e=g(i.i[e])).next();!n.done;n=e.next())t+=parseFloat(n.value);return t}).set("averageLoadTime",n).set("started",n).set("overlayAds",n).set("playedCompletely",n).set("skipped",n).set("errors",n),this.j=new Wi(function(){i.i=i.adManager.getStats();for(var e=g(i.D),t=e.next();!t.done;t=e.next())t=t.value,i.m.get(t).textContent=i.C.get(t)(t)}),fE(this),function(e){var t=us("div");t.classList.add("shaka-no-propagation"),t.classList.add("shaka-statistics-close");var n=new qx(t,"M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z").g;for(n.classList.add("material-icons","notranslate"),e.g.appendChild(t),e.eventManager.o(n,"click",function(){pE(e)}),t=g(e.controls.g.adStatisticsList),n=t.next();!n.done;n=t.next())(n=n.value)in e.i?(e.g.appendChild(gE(e,n)),e.D.push(n)):Y("Unrecognized ad statistic element:",n)}(this),this.eventManager.o(this.localization,"locale-updated",function(){fE(i)}),this.eventManager.o(this.localization,"locale-changed",function(){fE(i)}),this.eventManager.o(this.h,"click",function(){i.controls.Da()&&(pE(i),fE(i))}),this.eventManager.o(this.player,"loading",function(){zx(i.h,!1)}),this.eventManager.o(this.adManager,"ad-started",function(){zx(i.h,!0)})}function pE(e){e.g.classList.contains("shaka-hidden")?(e.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm120-440q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),e.j.xa(.1),zx(e.g,!0)):(e.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),e.j.stop(),zx(e.g,!1))}function fE(e){e.A.textContent=e.localization.resolve("AD_STATISTICS"),e.h.ariaLabel=e.localization.resolve("AD_STATISTICS"),e.l.textContent=e.localization.resolve(e.g.classList.contains("shaka-hidden")?"OFF":"ON")}function gE(e,t){var n=us("div"),i=us("label");return i.textContent=t+":",n.appendChild(i),(i=us("span")).textContent=e.C.get(t)(t),n.appendChild(i),e.m.set(t,i),n}function mE(){}function vE(t,n){jx.call(this,t,n);var i=this;this.g=cs(),this.g.classList.add("shaka-airplay-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",new qx(this.g).use("M312-120q-14 0-22-9.5t-8-20.5q0-5 2-10.5t7-10.5l161-161q6-6 13-9t15-3q8 0 15 3t13 9l161 161q5 5 7 10.5t2 10.5q0 11-8 20.5t-22 9.5H312ZM160-840h640q33 0 56.5 23.5T880-760v480q0 33-23.5 56.5T800-200h-7q-16 0-30.5-6T737-223L565-395q-17-17-39-26t-46-9q-24 0-46 9t-39 26L223-223q-11 11-25.5 17t-30.5 6h-7q-33 0-56.5-23.5T80-280v-480q0-33 23.5-56.5T160-840Z"),e.WebKitPlaybackTargetAvailabilityEvent||this.g.classList.add("shaka-hidden"),(t=us("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),this.i=us("span"),t.appendChild(this.i),this.h=us("span"),this.h.classList.add("shaka-current-selection-span"),t.appendChild(this.h),this.g.appendChild(t),this.parent.appendChild(this.g),AE(this),yE(this),this.eventManager.o(this.localization,"locale-updated",function(){AE(i)}),this.eventManager.o(this.localization,"locale-changed",function(){AE(i)}),this.eventManager.o(this.g,"click",function(){i.controls.Da()&&i.controls.Uc().webkitShowPlaybackTargetPicker()}),t=this.controls.Uc(),this.eventManager.o(t,"webkitplaybacktargetavailabilitychanged",function(e){var t=i.player.l==mp;zx(i.g,"available"==e.availability&&t)}),this.eventManager.o(t,"webkitcurrentplaybacktargetiswirelesschanged",function(){yE(i)})}function yE(e){var t=e.controls.Uc();e.g.ariaPressed=t&&t.webkitCurrentPlaybackTargetIsWireless?"true":"false"}function AE(e){e.g.ariaLabel=e.localization.resolve("AIRPLAY"),e.i.textContent=e.localization.resolve("AIRPLAY")}function bE(){}function TE(t,n){jx.call(this,t,n);var i=this;this.g=document.createElement("canvas"),this.g.style.position="absolute",this.g.style.top="0",this.g.style.left="0",this.g.style.pointerEvents="none",this.parent.appendChild(this.g),wE(this),this.i=this.h=null,e.ResizeObserver?(this.i=new ResizeObserver(function(){return wE(i)}),this.i.observe(this.parent)):e.addEventListener("resize",function(){return wE(i)})}function CE(e){return(e=e.g.getContext("2d"))?e:null}function wE(e){e.g.width=e.parent.offsetWidth,e.g.height=e.parent.offsetHeight}function xE(e,t,n,i){i=void 0===i?null:i,this.j=e,this.l=t,this.h=SE(this);var r="",a=!1;t.dataset&&t.dataset.shakaPlayerCastReceiverId?(r=(a=t.dataset).shakaPlayerCastReceiverId,a="true"===a.shakaPlayerCastAndroidReceiverCompatible):n.dataset&&n.dataset.shakaPlayerCastReceiverId&&(r=(a=n.dataset).shakaPlayerCastReceiverId,a="true"===a.shakaPlayerCastAndroidReceiverCompatible),r.length&&(this.h.castReceiverAppId=r,this.h.castAndroidReceiverCompatible=a),t.dataset.shakaPlayerContainer="",t.ui=this,this.Eh()&&t.classList.add("shaka-mobile"),this.g=new qS(e,t,n,i,this.h),n.controls||e.ii(t),t.ui=this,n.ui=this,this.i=null}function SE(t){var n="play_pause skip_previous skip_next mute volume time_and_duration spacer overflow_menu".split(" ");if(e.chrome&&n.push("cast"),"remote"in HTMLMediaElement.prototype?n.push("remote"):e.WebKitPlaybackTargetAvailabilityEvent&&n.push("airplay"),n.push("fullscreen"),n={controlPanelElements:n,overflowMenuButtons:"captions quality language chapter picture_in_picture playback_rate recenter_vr toggle_stereoscopic".split(" "),statisticsList:"width height currentCodecs corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent manifestSizeBytes bytesDownloaded nonFatalErrorCount manifestPeriodCount manifestGapCount".split(" "),adStatisticsList:"loadTimes averageLoadTime started overlayAds playedCompletely skipped errors".split(" "),contextMenuElements:["loop","picture_in_picture","save_video_frame","statistics","ad_statistics"],playbackRates:[.5,.75,1,1.25,1.5,1.75,2],fastForwardRates:[2,4,8,1],rewindRates:[-1,-2,-4,-8],addSeekBar:!0,addBigPlayButton:!1,customContextMenu:!1,castReceiverAppId:"",castAndroidReceiverCompatible:!1,clearBufferOnQualityChange:!0,showUnbufferedStart:!1,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)",adBreaks:"rgb(255, 204, 0)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},qualityMarks:{720:"",1080:"HD",1440:"2K",2160:"4K",4320:"8K"},trackLabelFormat:LE,textTrackLabelFormat:LE,fadeDelay:0,closeMenusDelay:2,doubleClickForFullscreen:!0,singleClickForPlayAndPause:!0,enableKeyboardPlaybackControls:!0,enableFullscreenOnRotation:!1,forceLandscapeOnFullscreen:!1,enableTooltips:!0,keyboardSeekDistance:5,keyboardLargeSeekDistance:60,fullScreenElement:t.l,preferDocumentPictureInPicture:!0,showAudioChannelCountVariants:!0,seekOnTaps:!1,tapSeekDistance:10,refreshTickInSeconds:.125,displayInVrMode:!1,defaultVrProjectionMode:"equirectangular",setupMediaSession:!0,preferVideoFullScreenInVisionOS:!0,showAudioCodec:!0,showVideoCodec:!0,castSenderUrl:"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js",enableKeyboardPlaybackControlsInWindow:!1,alwaysShowVolumeBar:!1},t.Eh()){n.addBigPlayButton=!0,n.singleClickForPlayAndPause=!1,n.seekOnTaps=!0,n.enableTooltips=!1,n.doubleClickForFullscreen=!1,t=Re(),n.enableFullscreenOnRotation="WEBKIT"!==t.Ja(),n.forceLandscapeOnFullscreen=!0;var i=["play_pause","skip_previous","skip_next","volume"];n.controlPanelElements=n.controlPanelElements.filter(function(e){return!i.includes(e)}),n.overflowMenuButtons=n.overflowMenuButtons.filter(function(e){return!i.includes(e)}),n.contextMenuElements=n.contextMenuElements.filter(function(e){return!i.includes(e)})}else if(t.Fh()){n.addBigPlayButton=!0,n.singleClickForPlayAndPause=!1,n.enableTooltips=!1,n.doubleClickForFullscreen=!1;var r="play_pause cast remote airplay volume save_video_frame".split(" ");n.controlPanelElements=n.controlPanelElements.filter(function(e){return!r.includes(e)}),n.overflowMenuButtons=n.overflowMenuButtons.filter(function(e){return!r.includes(e)}),n.contextMenuElements=n.contextMenuElements.filter(function(e){return!r.includes(e)})}return n}function EE(){var e,t,n,i,r,a,o,s,u,l,c,d,h,p,f,m,v,y,A,b,x;return D(function(k){switch(k.g){case 1:if(xT(),!hh())return kE("shaka-ui-load-failed",RE),k.return();if(e=document.querySelectorAll("[data-shaka-player-container]"),t=document.querySelectorAll("[data-shaka-player]"),n=document.querySelectorAll("[data-shaka-player-canvas]"),i=document.querySelectorAll("[data-shaka-player-vr-canvas]"),!t.length&&!e.length){k.B(2);break}if(t.length&&!e.length){for(r=g(t),a=r.next();!a.done;a=r.next())(o=a.value).ui||(s=document.createElement("div"),o.parentElement.replaceChild(s,o),s.appendChild(o),u=ME(s,n,i),l=u.ij,c=u.gk,IE(s,o,l,c));k.B(2);break}d=g(e),h=d.next();case 4:if(h.done){k.B(2);break}if((p=h.value).ui){k.B(5);break}for(f=null,m=g(t),v=m.next();!v.done;v=m.next())if((y=v.value).parentElement==p){f=y;break}return f||((f=document.createElement("video")).setAttribute("playsinline",""),p.appendChild(f)),A=ME(p,n,i),b=A.ij,x=A.gk,w(k,7),T(k,IE(p,f,b,x),9);case 9:S(k,5);break;case 7:return E(k),kE("shaka-ui-load-failed",PE),k.return();case 5:h=d.next(),k.B(4);break;case 2:kE("shaka-ui-loaded"),C(k)}})}function kE(e,t){var n=null;null!=t&&(n={reasonCode:t}),e=new CustomEvent(e,{detail:n}),document.dispatchEvent(e)}function IE(e,t,n,i){var r,a,o,s,u,l,c,d,h,p;return D(function(f){switch(f.g){case 1:for(r=new uh,a=new xE(r,e,t,i||null),r.Fi(n),t.controls&&a.g.Lj(!0),o=[],(s=t.getAttribute("src"))&&(o.push(s),t.removeAttribute("src")),u=g(t.getElementsByTagName("source")),l=u.next();!l.done;l=u.next())c=l.value,o.push(c.src),t.removeChild(c);return T(f,r.cc(t),2);case 2:d=g(o),h=d.next();case 3:if(h.done){f.B(0);break}return p=h.value,w(f,6),T(f,a.g.Wb().load(p),8);case 8:f.B(0);break;case 6:E(f);case 4:h=d.next(),f.B(3)}})}function ME(e,t,n){for(var i=null,r=(t=g(t)).next();!r.done;r=t.next())if((r=r.value).parentElement==e){i=r;break}for(i||((i=document.createElement("canvas")).classList.add("shaka-canvas-container"),e.appendChild(i)),t=null,r=(n=g(n)).next();!r.done;r=n.next())if((r=r.value).parentElement==e){t=r;break}return{ij:i,gk:t}}p(hE,jx),hE.prototype.release=function(){this.j.stop(),this.j=null,jx.prototype.release.call(this)},G("shaka.ui.AdStatisticsButton",hE),mE.prototype.create=function(e,t){return new hE(e,t)},sE("ad_statistics",new mE),Yx("ad_statistics",new mE),p(vE,jx),G("shaka.ui.AirPlayButton",vE),bE.prototype.create=function(e,t){return new vE(e,t)},sE("airplay",new bE),VS("airplay",new bE),p(TE,jx),TE.prototype.ig=function(e,t){if(e={type:"static",text:e,position:"top-right",color:"rgba(255, 255, 255, 0.7)",size:20,alpha:.7,interval:2e3,skip:500,displayDuration:2e3,transitionDuration:.5},"static"===(t=Object.assign({},e,t||e)).type){if(e=CE(this)){e.clearRect(0,0,this.g.width,this.g.height),e.globalAlpha=t.alpha,e.fillStyle=t.color,e.font=t.size+"px Arial";var n=e.measureText(t.text);switch(t.position){case"top-left":n=20;var i=t.size+20;break;case"top-right":n=this.g.width-n.width-20,i=t.size+20;break;case"bottom-left":n=20,i=this.g.height-20;break;case"bottom-right":n=this.g.width-n.width-20,i=this.g.height-20;break;default:n=(this.g.width-n.width)/2,i=(this.g.height+t.size)/2}e.fillText(t.text,n,i)}}else"dynamic"===t.type&&function(e,t){function n(){if(e.h){switch(r.clearRect(0,0,e.g.width,e.g.height),s){case"fadeIn":(o=Math.min(t.alpha,o+l))>=t.alpha&&(s="display");break;case"display":--u<=0&&(s="fadeOut");break;case"fadeOut":(o=Math.max(0,o-l))<=0&&(s="transition",a=i(),u=Math.round(60*t.displayDuration),s="fadeIn")}o>0&&(r.globalAlpha=o,r.fillStyle=t.color,r.font=t.size+"px Arial",r.fillText(t.text,a.left,a.top)),e.h&&(e.h=requestAnimationFrame(n))}}function i(){r.font=t.size+"px Arial";var n=r.measureText(t.text).width,i=t.size;return i=(n=[{left:20,top:i+20},{left:e.g.width-n-20,top:i+20},{left:20,top:e.g.height-20},{left:e.g.width-n-20,top:e.g.height-20},{left:(e.g.width-n)/2,top:(e.g.height+i)/2}])[c],c=(c+1)%n.length,i}var r=e.g.getContext("2d"),a={left:0,top:0},o=0,s="fadeIn",u=Math.round(60*t.displayDuration),l=1/(Math.round(60*t.transitionDuration)/2),c=0;a=i(),e.h=requestAnimationFrame(n)}(this,t)},TE.prototype.$f=function(){this.h&&(cancelAnimationFrame(this.h),this.h=null);var e=CE(this);e&&e.clearRect(0,0,this.g.width,this.g.height)},TE.prototype.release=function(){var t=this;this.g&&this.g.parentNode&&this.g.parentNode.removeChild(this.g),this.i?(this.i.disconnect(),this.i=null):e.removeEventListener("resize",function(){return wE(t)}),jx.prototype.release.call(this)},G("shaka.ui.Watermark",TE),TE.prototype.removeWatermark=TE.prototype.$f,TE.prototype.setTextWatermark=TE.prototype.ig,(r=xE.prototype).destroy=function(e){e=void 0!==e&&e;var t=this;return D(function(n){return 1==n.g?t.g?T(n,t.g.destroy(e),2):n.B(2):4!=n.g?(t.g=null,t.j?T(n,t.j.destroy(),4):n.B(4)):(t.j=null,t.i=null,void C(n))})},r.Eh=function(){return"MOBILE"==Re().Oa()},r.Fh=function(){return"TV"==Re().Oa()},r.getConfiguration=function(){var e=SE(this);return Yl(e,this.h,SE(this),{},""),e},r.configure=function(t,n){2==arguments.length&&"string"==typeof t&&(t=Zl(t,n));var i=Object.assign({},this.h);Yl(i,t,SE(this),{},"");var r=Jl(i,this.h);if(Object.keys(r).length&&(this.h=i,this.g.configure(this.h),this.g.dispatchEvent(new H("uiupdated")),(i=this.h.castSenderUrl)&&this.h.castReceiverAppId&&e.chrome&&!chrome.cast&&!this.Fh())){r=!1;for(var a=g(document.getElementsByTagName("script")),o=a.next();!o.done;o=a.next())if(o.value.src===i){r=!0;break}r||((r=document.createElement("script")).src=i,r.defer=!0,document.head.appendChild(r))}},r.Ik=function(){return this.g},r.um=function(e){this.g.ci(e)},r.ig=function(e,t){e&&!this.i&&this.l&&this.g&&(this.i=new TE(this.l,this.g)),this.i&&this.i.ig(e,t)},r.$f=function(){this.i&&this.i.$f()},G("shaka.ui.Overlay",xE),xE.prototype.removeWatermark=xE.prototype.$f,xE.prototype.setTextWatermark=xE.prototype.ig,xE.prototype.setEnabled=xE.prototype.um,xE.prototype.getControls=xE.prototype.Ik,xE.prototype.configure=xE.prototype.configure,xE.prototype.getConfiguration=xE.prototype.getConfiguration,xE.prototype.isSmartTV=xE.prototype.Fh,xE.prototype.isMobile=xE.prototype.Eh,xE.prototype.destroy=xE.prototype.destroy;var LE=0;xE.TrackLabelFormat={LANGUAGE:LE,ROLE:1,LANGUAGE_ROLE:2,LABEL:3};var RE=0,PE=1;function DE(e,t,n,i,r,a,o,s){function u(e){var t="";return"aac"==e?t="AAC":"ac-3"===e?t="Dolby":"ec-3"===e?t="DD+":"ac-4"===e?t="Dolby AC-4":"opus"===e?t="Opus":"flac"===e&&(t="fLaC"),t?" "+t:t}function l(e){var t="";return e>=5&&(t=" "+r.resolve("SURROUND")),t}function c(e,t,n,i,r,u){return t=[e,t,u],o&&null!=i&&t.push(i),s&&d(e)&&r&&t.push(r),n&&3==a&&t.push(n),t.join(": ")}function d(e){return p.has(e)&&p.get(e).size>1}var h=e.find(function(e){return 1==e.active});e.length>1&&e[0].label&&3!=a&&function(e){function t(e){return{codecs:e.codecs,channelCount:e.channelCount,language:e.language,roles:e.roles,spatialAudio:e.spatialAudio}}var n=t(e[0]);return e.every(function(e){return JSON.stringify(t(e))===JSON.stringify(n)})}(e)&&(a=3);for(var p=new Map,f=g(e),m=f.next();!m.done;m=f.next())(m=m.value).codecs&&(p.has(m.language)||p.set(m.language,new Set),p.get(m.language).add(Ri(m.codecs)));f=Fx(t),ps(t),t.appendChild(f),f=new Set,h=h?c(h.language,h.roles.join(", "),h.label,h.channelsCount,h.codecs&&Ri(h.codecs),h.spatialAudio):"";var v=(e=g(e)).next();for(m={};!v.done;m={bc:void 0},v=e.next()){m.bc=v.value,v=m.bc.language;var y=m.bc.roles.join(", "),A=m.bc.label,b=m.bc.channelsCount,T=m.bc.codecs&&Ri(m.bc.codecs),C=m.bc.spatialAudio,w=c(v,y,A,b,T,C);if(!f.has(w)){f.add(w);var x=cs();x.addEventListener("click",function(e){return function(){n(e.bc)}}(m));var S=us("span");x.appendChild(S),S.textContent=OE(v,r);var E="";switch(s&&o&&C&&("ec-3"==T||"ac-4"==T)?E+=" Dolby Atmos":(s&&d(v)&&(E+=u(T)),o&&(E+=l(b))),a){case LE:S.textContent+=E;break;case 1:S.textContent+=E,y?S.textContent=y:(Y("Track #"+JSON.stringify(m.bc)+" does not have a role, but the UI is configured to only show role."),S.textContent="?");break;case 2:S.textContent+=E,y&&(S.textContent+=": "+y);break;case 3:A?S.textContent=A:(Y("Track #"+JSON.stringify(m.bc)+" does not have a label, but the UI is configured to only show labels."),S.textContent="?")}w==h&&(x.appendChild(Hx()),S.classList.add("shaka-chosen-item"),x.ariaSelected="true",i.textContent=S.textContent),t.appendChild(x)}}}function OE(e,t){if(!e&&!t)return"";switch(e){case"mul":return t.resolve("MULTIPLE_LANGUAGES");case"und":return t.resolve("UNDETERMINED_LANGUAGE");case"zxx":return t.resolve("NOT_APPLICABLE")}var n=ft(e);return e in Fc?Fc[e]:n in Fc?Fc[n]+" ("+e+")":t.resolve("UNRECOGNIZED_LANGUAGE")+" ("+e+")"}function NE(t,n,i){function r(){return UE(a)}jx.call(this,t,n);var a=this;this.m=this.controls.l,function(e,t){e.button=cs(),e.button.classList.add("shaka-overflow-button"),e.icon=new qx(e.button,t),t=us("label"),t.classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),t.classList.add("shaka-overflow-button-label-inline"),e.nameSpan=us("span"),t.appendChild(e.nameSpan),e.currentSelection=us("span"),e.currentSelection.classList.add("shaka-current-selection-span"),t.appendChild(e.currentSelection),e.button.appendChild(t),e.parent.appendChild(e.button)}(this,i),function(e){e.menu=us("div"),e.menu.classList.add("shaka-no-propagation"),e.menu.classList.add("shaka-show-controls-on-mouse-over"),e.menu.classList.add("shaka-settings-menu"),e.menu.classList.add("shaka-hidden"),e.backButton=cs(),e.backButton.classList.add("shaka-back-to-overflow-button"),e.menu.appendChild(e.backButton),e.eventManager.o(e.backButton,"click",function(){e.controls.Vc()}),e.u=new qx(e.backButton,"M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z"),e.backSpan=us("span"),e.backButton.appendChild(e.backSpan),e.controls.i.appendChild(e.menu)}(this),function(e){e.parent.classList.contains("shaka-overflow-menu")&&(e.u.use("m432-480 156 156q11 11 11 28t-11 28q-11 11-28 11t-28-11L348-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 28-11t28 11q11 11 11 28t-11 28L432-480Z"),e.eventManager.o(e.menu,"click",function(){function t(e){return 0==e.classList.contains("shaka-hidden")}zx(e.menu,!1),zx(e.parent,!0),ne(e.parent.childNodes,t)&&ie(e.parent.childNodes,t)[0].focus(),ZS(e.controls),UE(e)}))}(this),this.eventManager.o(this.button,"click",function(){a.controls.Da()&&(a.menu.classList.contains("shaka-hidden")?(a.controls.dispatchEvent(new H("submenuopen")),zx(a.menu,!0),Gx(a.menu),UE(a)):zx(a.menu,!1))}),this.j=null,e.ResizeObserver?(this.j=new ResizeObserver(r),this.j.observe(this.controls.l)):this.eventManager.o(e,"resize",r)}function UE(t){var n=t.menu.getBoundingClientRect(),i=e.getComputedStyle(t.menu),r=parseFloat(i.paddingTop);i=parseFloat(i.paddingBottom);var a=t.m.getBoundingClientRect();t.menu.style.maxHeight=n.bottom-a.top-r-i+"px"}function BE(e,t){NE.call(this,e,t,"M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q83 0 155.5 31.5t127 86q54.5 54.5 86 127T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Zm0-82q26-36 45-75t31-83H404q12 44 31 83t45 75Zm-104-16q-18-33-31.5-68.5T322-320H204q29 50 72.5 87t99.5 55Zm208 0q56-18 99.5-55t72.5-87H638q-9 38-22.5 73.5T584-178ZM170-400h136q-3-20-4.5-39.5T300-480q0-21 1.5-40.5T306-560H170q-5 20-7.5 39.5T160-480q0 21 2.5 40.5T170-400Zm216 0h188q3-20 4.5-39.5T580-480q0-21-1.5-40.5T574-560H386q-3 20-4.5 39.5T380-480q0 21 1.5 40.5T386-400Zm268 0h136q5-20 7.5-39.5T800-480q0-21-2.5-40.5T790-560H654q3 20 4.5 39.5T660-480q0 21-1.5 40.5T654-400Zm-16-240h118q-29-50-72.5-87T584-782q18 33 31.5 68.5T638-640Zm-234 0h152q-12-44-31-83t-45-75q-26 36-45 75t-31 83Zm-200 0h118q9-38 22.5-73.5T376-782q-56 18-99.5 55T204-640Z");var n=this;this.button.classList.add("shaka-language-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-audio-languages"),this.eventManager.o(this.localization,"locale-updated",function(){jE(n)}),this.eventManager.o(this.localization,"locale-changed",function(){jE(n)}),this.eventManager.o(this.player,"loading",function(){_E(n)}),this.eventManager.o(this.player,"loaded",function(){_E(n)}),this.eventManager.o(this.player,"unloading",function(){_E(n)}),this.eventManager.o(this.player,"audiotrackschanged",function(){_E(n)}),jE(this),_E(this)}function _E(e){DE(e.player.getAudioTracks()||[],e.menu,function(t){e.player.Hj(t);var n={preferredAudioLanguage:t.language,preferSpatialAudio:t.spatialAudio};t.label&&(n.preferredAudioLabel=t.label),t.channelsCount&&(n.preferredAudioChannelCount=t.channelsCount),e.player.configure(n)},e.currentSelection,e.localization,e.controls.g.trackLabelFormat,e.controls.g.showAudioChannelCountVariants,e.controls.g.showAudioCodec),Gx(e.menu),e.controls.dispatchEvent(new H("languageselectionupdated")),e.button.setAttribute("shaka-status",e.currentSelection.innerText),zx(e.button,e.menu.getElementsByTagName("button").length>2)}function jE(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("LANGUAGE"),e.nameSpan.textContent=e.localization.resolve("LANGUAGE"),e.backSpan.textContent=e.localization.resolve("LANGUAGE")}function qE(){}function FE(e,t){jx.call(this,e,t);var n=this;this.h=this.controls.F,this.g=cs(),this.g.classList.add("shaka-cast-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.l=new qx(this.g,"M880-240q0 33-23.5 56.5T800-160H633q-14 0-23.5-10.5T599-195q-6-95-43.5-177.5t-98-146.5q-60.5-64-141-105T143-676q-26-3-44.5-20.5T80-740q0-26 18.5-43t44.5-17h657q33 0 56.5 23.5T880-720v480Zm-560 80q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125t128 273q2 17-9.5 29T480-160Zm-350 0q-21 0-35.5-14.5T80-210q0-21 14.5-35.5T130-260q21 0 35.5 14.5T180-210q0 21-14.5 35.5T130-160Z"),(e=us("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),e.classList.add("shaka-simple-overflow-button-label-inline"),this.j=us("span"),e.appendChild(this.j),this.i=us("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),this.parent.appendChild(this.g),HE(this),VE(this),this.eventManager.o(this.localization,"locale-updated",function(){HE(n)}),this.eventManager.o(this.localization,"locale-changed",function(){HE(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Da()&&function(e){var t;D(function(n){return 1==n.g?e.h.Qa()?(e.h.Vj(),n.B(0)):(w(n,3),e.g.disabled=!0,T(n,e.h.cast(),5)):3!=n.g?(e.g.disabled=!1,S(n,0)):(t=E(n),e.g.disabled=!1,8004!=t.code&&e.controls.dispatchEvent(new H("error",(new Map).set("detail",t))),void C(n))})}(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){VE(n)})}function VE(e){var t=e.h.Kg()&&e.controls.sa,n=e.h.Qa();zx(e.g,t),e.l.use(n?"M720-600v240q0 17-11.5 28.5T680-320h-87q-8 0-14.5-4.5T569-337q-29-81-81.5-147T364-596q-16-10-11.5-27t21.5-17h306q17 0 28.5 11.5T720-600ZM320-160q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125.5T518-201q2 17-9.5 29T480-160Zm-340 0q-25 0-42.5-17.5T80-220q0-25 17.5-42.5T140-280q25 0 42.5 17.5T200-220q0 25-17.5 42.5T140-160Zm740-560v480q0 33-23.5 56.5T800-160H638q-17 0-28.5-11.5T598-200q0-17 11.5-28.5T638-240h162v-480H160v6q0 17-11.5 28.5T120-674q-17 0-28.5-11.5T80-714v-6q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720Z":"M880-240q0 33-23.5 56.5T800-160H633q-14 0-23.5-10.5T599-195q-6-95-43.5-177.5t-98-146.5q-60.5-64-141-105T143-676q-26-3-44.5-20.5T80-740q0-26 18.5-43t44.5-17h657q33 0 56.5 23.5T880-720v480Zm-560 80q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125t128 273q2 17-9.5 29T480-160Zm-350 0q-21 0-35.5-14.5T80-210q0-21 14.5-35.5T130-260q21 0 35.5 14.5T180-210q0 21-14.5 35.5T130-160Z"),t&&(e.g.ariaPressed=n?"true":"false"),GE(e)}function GE(e){e.i.textContent=e.h.Qa()?e.h.Yf():e.localization.resolve("OFF")}function HE(e){e.g.ariaLabel=e.localization.resolve("CAST"),e.j.textContent=e.localization.resolve("CAST"),GE(e)}function zE(){}function KE(e,t){NE.call(this,e,t,"m400-200-182 91q-20 10-39-1.5T160-145v-495q0-33 23.5-56.5T240-720h320q33 0 56.5 23.5T640-640v495q0 23-19 34.5t-39 1.5l-182-91Zm360-40q-17 0-28.5-11.5T720-280v-520H320q-17 0-28.5-11.5T280-840q0-17 11.5-28.5T320-880h400q33 0 56.5 23.5T800-800v520q0 17-11.5 28.5T760-240Z");var n=this;this.button.classList.add("shaka-chapter-button"),this.menu.classList.add("shaka-chapters"),this.button.classList.add("shaka-tooltip-status"),this.g=[],this.h="und",this.eventManager.o(this.localization,"locale-updated",function(){WE(n),YE(n)}),this.eventManager.o(this.localization,"locale-changed",function(){WE(n),YE(n)}),this.eventManager.o(this.player,"unloading",function(){XE(n),n.h="und",n.g=[]}),this.eventManager.o(this.player,"trackschanged",function(){YE(n)}),WE(this),YE(this)}function WE(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("CHAPTERS"),e.nameSpan.textContent=e.localization.resolve("CHAPTERS"),e.backSpan.textContent=e.localization.resolve("CHAPTERS")}function XE(e){var t=Fx(e.menu);ps(e.menu),e.menu.appendChild(t),zx(e.button,!1)}function YE(e){var t,n,i,r,a,o,s,u,l,c,d,h,p;D(function(f){switch(f.g){case 1:t=function(e,t){return!e&&!t||e.id===t.id&&e.title===t.title&&e.startTime===t.startTime&&e.endTime===t.endTime},n="und",i=[],r=e.localization.g,a=g(Array.from(r)),o=a.next();case 2:if(o.done){f.B(4);break}if(n=o.value,!e.player){f.B(5);break}return T(f,e.player.oh(n),6);case 6:i=f.h||[];case 5:if(i.length){f.B(4);break}o=a.next(),f.B(2);break;case 4:if(i.length){f.B(7);break}if(n="und",!e.player){f.B(7);break}return T(f,e.player.oh(n),9);case 9:i=f.h||[];case 7:if(s=n!==e.h,u=e.g.length!==i.length||!e.g.some(function(e,n){return n=i.at(n),t(e,n)||i.some(function(n){return t(e,n)})}),e.h=n,e.g=i,i.length){if(s||u){for(l=g(e.g),c=l.next(),d={};!c.done;d={Mg:void 0},c=l.next())d.Mg=c.value,h=cs(),(p=us("span")).classList.add("shaka-chapter"),p.textContent=d.Mg.title,h.appendChild(p),e.eventManager.o(h,"click",function(t){return function(){e.controls.Da()&&(e.video.currentTime=t.Mg.startTime)}}(d)),e.menu.appendChild(h);zx(e.button,!0),Gx(e.menu)}}else XE(e);C(f)}})}function ZE(){}function QE(e,t){jx.call(this,e,t);var n=this;this.g=cs(),this.g.classList.add("shaka-fast-forward-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status","1x"),new qx(this.g).use("M100-315v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T428-480q0 10-4.5 18.5T410-447L162-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Zm400 0v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T828-480q0 10-4.5 18.5T810-447L562-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Z"),this.parent.appendChild(this.g),JE(this),this.h=this.controls.g.fastForwardRates,this.eventManager.o(this.localization,"locale-updated",function(){JE(n)}),this.eventManager.o(this.localization,"locale-changed",function(){JE(n)}),this.eventManager.o(this.g,"click",function(){if(n.controls.Da()&&n.video.duration){var e=n.h.indexOf(n.player.Za())+1;e=e!=n.h.length?n.h[e]:n.h[0],n.video.paused&&n.video.play(),n.player.sc(e),n.g.setAttribute("shaka-status",e+"x")}}),this.eventManager.o(this.player,"ratechange",function(){n.g.setAttribute("shaka-status",n.player.Za()+"x")})}function JE(e){e.g.ariaLabel=e.localization.resolve("FAST_FORWARD")}function $E(){}function ek(e,t){jx.call(this,e,t);var n=this;this.h=this.controls.u,this.g=cs(),this.g.classList.add("shaka-fullscreen-button"),this.g.classList.add("shaka-tooltip"),this.i=new qx(this.g,"M200-200h80q17 0 28.5 11.5T320-160q0 17-11.5 28.5T280-120H160q-17 0-28.5-11.5T120-160v-120q0-17 11.5-28.5T160-320q17 0 28.5 11.5T200-280v80Zm560 0v-80q0-17 11.5-28.5T800-320q17 0 28.5 11.5T840-280v120q0 17-11.5 28.5T800-120H680q-17 0-28.5-11.5T640-160q0-17 11.5-28.5T680-200h80ZM200-760v80q0 17-11.5 28.5T160-640q-17 0-28.5-11.5T120-680v-120q0-17 11.5-28.5T160-840h120q17 0 28.5 11.5T320-800q0 17-11.5 28.5T280-760h-80Zm560 0h-80q-17 0-28.5-11.5T640-800q0-17 11.5-28.5T680-840h120q17 0 28.5 11.5T840-800v120q0 17-11.5 28.5T800-640q-17 0-28.5-11.5T760-680v-80Z"),tk(this),this.parent.appendChild(this.g),nk(this),this.eventManager.o(this.localization,"locale-updated",function(){nk(n)}),this.eventManager.o(this.localization,"locale-changed",function(){nk(n)}),this.eventManager.o(this.g,"click",function(){return D(function(e){return n.controls.Da()?T(e,n.controls.og(),0):e.return()})}),this.eventManager.o(document,"fullscreenchange",function(){n.i.use(n.controls.wb()?"M240-240h-80q-17 0-28.5-11.5T120-280q0-17 11.5-28.5T160-320h120q17 0 28.5 11.5T320-280v120q0 17-11.5 28.5T280-120q-17 0-28.5-11.5T240-160v-80Zm480 0v80q0 17-11.5 28.5T680-120q-17 0-28.5-11.5T640-160v-120q0-17 11.5-28.5T680-320h120q17 0 28.5 11.5T840-280q0 17-11.5 28.5T800-240h-80ZM240-720v-80q0-17 11.5-28.5T280-840q17 0 28.5 11.5T320-800v120q0 17-11.5 28.5T280-640H160q-17 0-28.5-11.5T120-680q0-17 11.5-28.5T160-720h80Zm480 0h80q17 0 28.5 11.5T840-680q0 17-11.5 28.5T800-640H680q-17 0-28.5-11.5T640-680v-120q0-17 11.5-28.5T680-840q17 0 28.5 11.5T720-800v80Z":"M200-200h80q17 0 28.5 11.5T320-160q0 17-11.5 28.5T280-120H160q-17 0-28.5-11.5T120-160v-120q0-17 11.5-28.5T160-320q17 0 28.5 11.5T200-280v80Zm560 0v-80q0-17 11.5-28.5T800-320q17 0 28.5 11.5T840-280v120q0 17-11.5 28.5T800-120H680q-17 0-28.5-11.5T640-160q0-17 11.5-28.5T680-200h80ZM200-760v80q0 17-11.5 28.5T160-640q-17 0-28.5-11.5T120-680v-120q0-17 11.5-28.5T160-840h120q17 0 28.5 11.5T320-800q0 17-11.5 28.5T280-760h-80Zm560 0h-80q-17 0-28.5-11.5T640-800q0-17 11.5-28.5T680-840h120q17 0 28.5 11.5T840-800v120q0 17-11.5 28.5T800-640q-17 0-28.5-11.5T760-680v-80Z"),nk(n)}),this.eventManager.o(this.h,"loadedmetadata",function(){tk(n)}),this.eventManager.o(this.h,"loadeddata",function(){tk(n)}),this.eventManager.o(this.adManager,"ad-started",function(){tk(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){tk(n)})}function tk(e){e.controls.we()?e.g.classList.remove("shaka-hidden"):e.g.classList.add("shaka-hidden")}function nk(e){var t=e.controls.wb()?"EXIT_FULL_SCREEN":"FULL_SCREEN";e.g.ariaLabel=e.localization.resolve(t)}function ik(){}function rk(e,t){jx.call(this,e,t);var n=this;this.g=cs(),this.g.classList.add("shaka-loop-button"),this.g.classList.add("shaka-tooltip"),this.m=new qx(this.g,"m274-200 34 34q12 12 11.5 28T308-110q-12 12-28.5 12.5T251-109L148-212q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l103-103q12-12 28.5-11.5T308-370q11 12 11.5 28T308-314l-34 34h406v-120q0-17 11.5-28.5T720-440q17 0 28.5 11.5T760-400v120q0 33-23.5 56.5T680-200H274Zm412-480H280v120q0 17-11.5 28.5T240-520q-17 0-28.5-11.5T200-560v-120q0-33 23.5-56.5T280-760h406l-34-34q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T709-851l103 103q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L709-589q-12 12-28.5 11.5T652-590q-11-12-11.5-28t11.5-28l34-34Z"),(e=us("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),e.classList.add("shaka-simple-overflow-button-label-inline"),this.j=us("span"),this.j.textContent=this.localization.resolve("LOOP"),e.appendChild(this.j),this.i=us("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),ak(this),this.parent.appendChild(this.g),this.eventManager.o(this.localization,"locale-updated",function(){ak(n)}),this.eventManager.o(this.localization,"locale-changed",function(){ak(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Da()&&(n.video.loop=!n.video.loop,n.h.Ka(),n.h.xa(1))}),this.l=this.video.loop,this.h=new Wi(function(){n.l!=n.video.loop&&(ak(n),n.l=n.video.loop)}),this.h.xa(1),this.eventManager.o(this.player,"unloading",function(){ok(n)}),this.eventManager.o(this.player,"loaded",function(){ok(n)}),this.eventManager.o(this.player,"manifestupdated",function(){ok(n)}),this.eventManager.o(this.video,"durationchange",function(){ok(n)})}function ak(e){e.j.textContent=e.localization.resolve("LOOP"),e.i.textContent=e.localization.resolve(e.video.loop?"ON":"OFF"),e.m.use(e.video.loop?"M120-40q-33 0-56.5-23.5T40-120v-720q0-33 23.5-56.5T120-920h720q33 0 56.5 23.5T920-840v720q0 33-23.5 56.5T840-40H120Zm154-160h406q33 0 56.5-23.5T760-280v-120q0-17-11.5-28.5T720-440q-17 0-28.5 11.5T680-400v120H274l34-34q12-12 11.5-28T308-370q-12-12-28.5-12.5T251-371L148-268q-6 6-8.5 13t-2.5 15q0 8 2.5 15t8.5 13l103 103q12 12 28.5 11.5T308-110q11-12 11.5-28T308-166l-34-34Zm412-480-34 34q-12 12-11.5 28t11.5 28q12 12 28.5 12.5T709-589l103-103q6-6 8.5-13t2.5-15q0-8-2.5-15t-8.5-13L709-851q-12-12-28.5-11.5T652-850q-11 12-11.5 28t11.5 28l34 34H280q-33 0-56.5 23.5T200-680v120q0 17 11.5 28.5T240-520q17 0 28.5-11.5T280-560v-120h406Z":"m274-200 34 34q12 12 11.5 28T308-110q-12 12-28.5 12.5T251-109L148-212q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l103-103q12-12 28.5-11.5T308-370q11 12 11.5 28T308-314l-34 34h406v-120q0-17 11.5-28.5T720-440q17 0 28.5 11.5T760-400v120q0 33-23.5 56.5T680-200H274Zm412-480H280v120q0 17-11.5 28.5T240-520q-17 0-28.5-11.5T200-560v-120q0-33 23.5-56.5T280-760h406l-34-34q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T709-851l103 103q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L709-589q-12 12-28.5 11.5T652-590q-11-12-11.5-28t11.5-28l34-34Z"),e.g.ariaLabel=e.localization.resolve(e.video.loop?"EXIT_LOOP_MODE":"ENTER_LOOP_MODE")}function ok(e){zx(e.g,!e.player.U())}function sk(){}function uk(e,t){jx.call(this,e,t);var n=this;this.g=cs(),this.g.classList.add("shaka-mute-button"),this.g.classList.add("shaka-tooltip"),this.j=new qx(this.g,"M760-481q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131.5T840-481q0 108-58 196.5T627-153q-16 7-31.5 0T574-176q-5-15 2-29.5t22-21.5q74-34 118-102.5T760-481ZM280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h120l132-132q19-19 43.5-8.5T480-703v446q0 27-24.5 37.5T412-228L280-360Zm380-120q0 42-19 79.5T591-339q-10 6-20.5.5T560-356v-250q0-12 10.5-17.5t20.5.5q31 25 50 63t19 80Z"),(e=us("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.h=us("span"),this.h.textContent=this.localization.resolve("MUTE"),e.appendChild(this.h),this.i=us("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),this.parent.appendChild(this.g),lk(this),ck(this),this.eventManager.o(this.localization,"locale-updated",function(){lk(n)}),this.eventManager.o(this.localization,"locale-changed",function(){lk(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Da()&&(n.ad&&n.ad.isLinear()?n.ad.setMuted(!n.ad.isMuted()):n.video.muted||0!=n.video.volume?n.video.muted=!n.video.muted:n.video.volume=1)}),this.eventManager.o(this.video,"volumechange",function(){lk(n),ck(n)}),this.eventManager.o(this.player,"loading",function(){lk(n),ck(n)}),this.eventManager.o(this.player,"loaded",function(){dk(n)}),this.eventManager.o(this.player,"unloading",function(){dk(n)}),this.eventManager.o(this.player,"trackschanged",function(){dk(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){lk(n),ck(n)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){lk(n),ck(n)}),this.eventManager.o(this.adManager,"ad-muted",function(){lk(n),ck(n)}),this.eventManager.o(this.adManager,"ad-started",function(){dk(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.ad=null,lk(n),ck(n),dk(n)}),dk(this)}function lk(e){var t=e.ad?e.ad.isMuted()?"UNMUTE":"MUTE":e.video.muted||0==e.video.volume?"UNMUTE":"MUTE";e.g.ariaLabel=e.localization.resolve(t),e.h.textContent=e.localization.resolve(t)}function ck(e){var t=e.ad?e.ad.isMuted()?"M671-177q-11 7-22 13t-23 11q-15 7-30.5 0T574-176q-6-15 1.5-29.5T598-227q4-2 7.5-4t7.5-4L480-368v111q0 27-24.5 37.5T412-228L280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h88L84-764q-11-11-11-28t11-28q11-11 28-11t28 11l680 680q11 11 11 28t-11 28q-11 11-28 11t-28-11l-93-93Zm89-304q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131t58 197q0 33-6 65.5T817-353q-8 22-24.5 27.5t-30.5.5q-14-5-22.5-18t-.5-30q11-26 16-52.5t5-55.5ZM591-623q33 21 51 63t18 80v10q0 5-1 10-2 13-14 17t-22-6l-51-51q-6-6-9-13.5t-3-15.5v-77q0-12 10.5-17.5t20.5.5Zm-201-59q-6-6-6-14t6-14l22-22q19-19 43.5-8.5T480-703v63q0 14-12 19t-22-5l-56-56Z":"M760-481q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131.5T840-481q0 108-58 196.5T627-153q-16 7-31.5 0T574-176q-5-15 2-29.5t22-21.5q74-34 118-102.5T760-481ZM280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h120l132-132q19-19 43.5-8.5T480-703v446q0 27-24.5 37.5T412-228L280-360Zm380-120q0 42-19 79.5T591-339q-10 6-20.5.5T560-356v-250q0-12 10.5-17.5t20.5.5q31 25 50 63t19 80Z":e.video.muted||0==e.video.volume?"M671-177q-11 7-22 13t-23 11q-15 7-30.5 0T574-176q-6-15 1.5-29.5T598-227q4-2 7.5-4t7.5-4L480-368v111q0 27-24.5 37.5T412-228L280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h88L84-764q-11-11-11-28t11-28q11-11 28-11t28 11l680 680q11 11 11 28t-11 28q-11 11-28 11t-28-11l-93-93Zm89-304q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131t58 197q0 33-6 65.5T817-353q-8 22-24.5 27.5t-30.5.5q-14-5-22.5-18t-.5-30q11-26 16-52.5t5-55.5ZM591-623q33 21 51 63t18 80v10q0 5-1 10-2 13-14 17t-22-6l-51-51q-6-6-9-13.5t-3-15.5v-77q0-12 10.5-17.5t20.5.5Zm-201-59q-6-6-6-14t6-14l22-22q19-19 43.5-8.5T480-703v63q0 14-12 19t-22-5l-56-56Z":"M760-481q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131.5T840-481q0 108-58 196.5T627-153q-16 7-31.5 0T574-176q-5-15 2-29.5t22-21.5q74-34 118-102.5T760-481ZM280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h120l132-132q19-19 43.5-8.5T480-703v446q0 27-24.5 37.5T412-228L280-360Zm380-120q0 42-19 79.5T591-339q-10 6-20.5.5T560-356v-250q0-12 10.5-17.5t20.5.5q31 25 50 63t19 80Z";e.j.use(t)}function dk(e){var t=!0;e.ad&&e.ad.isLinear()?t=!0:e.player.Gh()&&(t=!1),zx(e.g,t)}function hk(){}function pk(t,n){jx.call(this,t,n);var i=this;this.j=this.controls.u,this.g=cs(),this.g.classList.add("shaka-pip-button"),this.g.classList.add("shaka-tooltip"),this.l=new qx(this.g,"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-120h240q17 0 28.5-11.5T760-320v-160q0-17-11.5-28.5T720-520H480q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm120-120Z"),(t=us("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),t.classList.add("shaka-simple-overflow-button-label-inline"),this.i=us("span"),this.i.textContent=this.localization.resolve("PICTURE_IN_PICTURE"),t.appendChild(this.i),this.h=us("span"),this.h.classList.add("shaka-current-selection-span"),t.appendChild(this.h),this.g.appendChild(t),mk(this),this.parent.appendChild(this.g),this.controls.Ff()||zx(this.g,!1),this.eventManager.o(this.localization,"locale-updated",function(){mk(i)}),this.eventManager.o(this.localization,"locale-changed",function(){mk(i)}),this.eventManager.o(this.g,"click",function(){i.controls.Da()&&i.controls.cd()}),this.eventManager.o(this.j,"enterpictureinpicture",function(){fk(i)}),this.eventManager.o(this.j,"leavepictureinpicture",function(){gk(i)}),this.eventManager.o(this.controls,"caststatuschanged",function(){vk(i)}),this.eventManager.o(this.player,"trackschanged",function(){vk(i)}),"documentPictureInPicture"in e&&this.eventManager.o(e.documentPictureInPicture,"enter",function(e){fk(i),i.eventManager.ua(e.window,"pagehide",function(){gk(i)})})}function fk(e){e.l.use("M160-160q-33 0-56.5-23.5T80-240v-240q0-17 11.5-28.5T120-520h240q33 0 56.5-23.5T440-600v-160q0-17 11.5-28.5T480-800h320q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm360-400q-17 0-28.5 11.5T480-520v160q0 17 11.5 28.5T520-320q17 0 28.5-11.5T560-360v-63l95 95q12 12 28 12t28-12q12-12 12-28.5T711-385l-95-95h64q17 0 28.5-11.5T720-520q0-17-11.5-28.5T680-560H520Zm-400-40q-17 0-28.5-11.5T80-640v-120q0-17 11.5-28.5T120-800h200q17 0 28.5 11.5T360-760v120q0 17-11.5 28.5T320-600H120Z"),e.g.ariaLabel=e.localization.resolve("EXIT_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve("ON")}function gk(e){e.l.use("M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-120h240q17 0 28.5-11.5T760-320v-160q0-17-11.5-28.5T720-520H480q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm120-120Z"),e.g.ariaLabel=e.localization.resolve("ENTER_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve("OFF")}function mk(e){e.i.textContent=e.localization.resolve("PICTURE_IN_PICTURE");var t=e.controls.Md();e.g.ariaLabel=e.localization.resolve(t?"EXIT_PICTURE_IN_PICTURE":"ENTER_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve(t?"ON":"OFF")}function vk(e){D(function(t){return e.controls.Ff()?e.player&&e.player.Ld()?(zx(e.g,!1),e.controls.Md()?T(t,e.controls.cd(),0):t.B(0)):(zx(e.g,!0),t.B(0)):(zx(e.g,!1),e.controls.Md()?T(t,e.controls.cd(),0):t.B(0))})}function yk(){}function Ak(e,t){NE.call(this,e,t,"m426-330 195-125q14-9 14-25t-14-25L426-630q-15-10-30.5-1.5T380-605v250q0 18 15.5 26.5T426-330ZM121-440q17 0 30.5 11t18.5 28q6 23 14.5 43.5T204-317q9 15 7.5 32T198-256q-11 11-27 10t-25-14q-22-31-37-66.5T86-400q-3-16 7.5-28t27.5-12Zm77-264q12 12 13 29t-7 31q-11 20-19.5 41T170-559q-5 17-18.5 28T121-520q-17 0-27.5-12.5T87-561q8-38 23-73.5t36-66.5q9-13 25-13.5t27 10.5Zm56 505q12-13 29.5-14t32.5 8q20 11 40.5 20t42.5 15q17 5 28 18t11 30q0 17-12.5 27T397-88q-38-8-71.5-23T260-146q-14-9-15.5-25t9.5-28Zm186-639q0 17-10.5 30T402-790q-23 6-44 14.5T317-755q-15 9-32.5 7.5T255-761q-12-12-10.5-28.5T260-815q32-20 66.5-34.5T399-872q16-3 28.5 7t12.5 27Zm360 358q0-113-69.5-199.5T553-792q-15-4-24-17t-9-29q0-16 11-26.5t25-7.5q140 28 232 137t92 255q0 146-92 255T556-88q-14 3-25-7.5T520-122q0-16 9-29t24-17q108-26 177.5-112.5T800-480Z");var n=this;this.button.classList.add("shaka-playbackrate-button"),this.menu.classList.add("shaka-playback-rates"),this.button.classList.add("shaka-tooltip-status"),Array.from(e.classList).includes("shaka-overflow-menu")||(this.g=us("span"),this.g.classList.add("shaka-overflow-playback-rate-mark"),this.button.appendChild(this.g)),this.eventManager.o(this.localization,"locale-updated",function(){bk(n)}),this.eventManager.o(this.localization,"locale-changed",function(){bk(n)}),this.eventManager.o(this.player,"loaded",function(){Tk(n)}),this.eventManager.o(this.player,"ratechange",function(){Tk(n)}),bk(this),function(e){for(var t=g(e.controls.g.playbackRates),n=t.next(),i={};!n.done;i={Xf:void 0},n=t.next()){i.Xf=n.value,n=cs();var r=us("span");r.textContent=i.Xf+"x",n.appendChild(r),e.eventManager.o(n,"click",function(t){return function(){t.Xf==e.video.defaultPlaybackRate?e.player.Bd():e.player.sc(t.Xf,!1)}}(i)),e.menu.appendChild(n)}Gx(e.menu)}(this),Tk(this)}function bk(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("PLAYBACK_RATE"),e.nameSpan.textContent=e.localization.resolve("PLAYBACK_RATE"),e.backSpan.textContent=e.localization.resolve("PLAYBACK_RATE")}function Tk(e){var t=e.player.Za(),n=Vx(e.menu,"material-svg-icon shaka-chosen-item");if(n){var i=n.parentElement;i.removeAttribute("aria-selected");var r=i.getElementsByTagName("span")[0];r&&r.classList.remove("shaka-chosen-item"),i.removeChild(n)}(n=Array.from(e.menu.querySelectorAll("span")).find(function(e){return e.textContent==t+"x"}))&&((i=n.parentElement).appendChild(Hx()),i.ariaSelected="true",n.classList.add("shaka-chosen-item")),e.currentSelection.textContent=t+"x",e.button.setAttribute("shaka-status",t+"x"),e.g&&(e.g.textContent=t+"x")}function Ck(){}function wk(e,t){jx.call(this,e,t);var n=this;this.g=cs(),this.g.classList.add("shaka-current-time"),xk(this,"0:00"),this.parent.appendChild(this.g),this.eventManager.o(this.g,"click",function(){n.controls.Da()&&n.player.U()&&(n.video.currentTime=n.player.wa().end)}),this.eventManager.o(this.player,"loading",function(){zx(n.g,!0)}),this.eventManager.o(this.controls,"timeandseekrangeupdated",function(){var e=n.controls.V,t=n.controls.ph(),i=n.player.wa(),r=i.end-i.start;isFinite(r)?n.player.U()?(r=r>=3600,(t=Math.max(0,Math.floor(i.end-t)))>=1||e?(xk(n,"- "+Kx(t,r)),n.g.disabled=!1):(xk(n,n.localization.resolve("LIVE")),n.g.disabled=!0)):(e=r>=3600,t=Kx(Math.max(0,t-i.start),e),r&&(t+=" / "+Kx(r,e)),xk(n,t),n.g.disabled=!0):(xk(n,n.localization.resolve("LIVE")),n.g.disabled=!0)}),this.eventManager.o(this.player,"trackschanged",function(){n.player.U()&&(n.g.ariaLabel=n.localization.resolve("SKIP_TO_LIVE"))}),this.eventManager.o(this.adManager,"ad-started",function(){zx(n.g,!n.ad.isLinear())}),this.eventManager.o(this.adManager,"ad-stopped",function(){zx(n.g,!0)})}function xk(e,t){t!=e.g.textContent&&(e.g.textContent=t)}function Sk(){}function Ek(e,t){jx.call(this,e,t);var n=this;this.g=cs(),this.g.classList.add("shaka-recenter-vr-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",new qx(this.g,"M479-359q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35Zm-57 222-85-85q-12-12-11.5-28.5T338-279q12-12 28.5-12t28.5 12l85 86 85-85q11-11 28-11t28 11q11 11 11 28t-11 28l-85 85q-12 12-27 18t-30 6q-15 0-30-6t-27-18ZM221-337l-85-85q-12-12-18-27t-6-30q0-15 6-30t18-27l85-85q12-12 28.5-12t28.5 12q12 12 12 28.5T278-564l-86 86 85 85q11 11 11 28t-11 28q-11 11-28 11t-28-11Zm116-401 85-85q12-12 27-18t30-6q15 0 30 6t27 18l85 85q12 12 12 28t-12 28q-12 12-28.5 12T564-682l-86-85-85 85q-11 11-28 11t-28-11q-11-11-11-28t11-28Zm344 343 85-85-85-85q-11-11-11-28t11-28q11-11 28-11t28 11l85 85q12 12 18 27t6 30q0 15-6 30t-18 27l-85 85q-12 12-28 11.5T681-338q-12-12-12-28.5t12-28.5Z"),(e=us("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.i=us("span"),e.appendChild(this.i),this.h=us("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),this.parent.appendChild(this.g),kk(this),this.eventManager.o(this.localization,"locale-updated",function(){kk(n)}),this.eventManager.o(this.localization,"locale-changed",function(){kk(n)});var i=this.controls.D;this.eventManager.o(this.g,"click",function(){n.controls.Da()&&(i.g?PS(i.g):Y("Not playing VR content"))}),this.eventManager.o(i,"vrstatuschanged",function(){zx(n.g,n.controls.Xb())}),zx(this.g,this.controls.Xb())}function kk(e){e.g.ariaLabel=e.localization.resolve("RECENTER_VR"),e.i.textContent=e.localization.resolve("RECENTER_VR")}function Ik(){}function Mk(e,t){jx.call(this,e,t);var n=this;this.i=Re().kg(),this.g=cs(),this.g.classList.add("shaka-remote-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.l=new qx(this.g,this.i?"M312-120q-14 0-22-9.5t-8-20.5q0-5 2-10.5t7-10.5l161-161q6-6 13-9t15-3q8 0 15 3t13 9l161 161q5 5 7 10.5t2 10.5q0 11-8 20.5t-22 9.5H312ZM160-840h640q33 0 56.5 23.5T880-760v480q0 33-23.5 56.5T800-200h-7q-16 0-30.5-6T737-223L565-395q-17-17-39-26t-46-9q-24 0-46 9t-39 26L223-223q-11 11-25.5 17t-30.5 6h-7q-33 0-56.5-23.5T80-280v-480q0-33 23.5-56.5T160-840Z":"M880-240q0 33-23.5 56.5T800-160H633q-14 0-23.5-10.5T599-195q-6-95-43.5-177.5t-98-146.5q-60.5-64-141-105T143-676q-26-3-44.5-20.5T80-740q0-26 18.5-43t44.5-17h657q33 0 56.5 23.5T880-720v480Zm-560 80q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125t128 273q2 17-9.5 29T480-160Zm-350 0q-21 0-35.5-14.5T80-210q0-21 14.5-35.5T130-260q21 0 35.5 14.5T180-210q0 21-14.5 35.5T130-160Z"),(e=us("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.m=us("span"),e.appendChild(this.m),this.j=us("span"),this.j.classList.add("shaka-current-selection-span"),e.appendChild(this.j),this.g.appendChild(e),this.parent.appendChild(this.g),this.h=-1,Rk(this),zx(this.g,!1),this.video.remote?(this.eventManager.o(this.localization,"locale-updated",function(){Rk(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Rk(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){Lk(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Da()&&n.video.remote.prompt().catch(function(){})}),this.eventManager.o(this.video.remote,"connect",function(){Lk(n),Pk(n)}),this.eventManager.o(this.video.remote,"connecting",function(){Lk(n),Pk(n)}),this.eventManager.o(this.video.remote,"disconnect",function(){Lk(n),Pk(n)}),this.eventManager.o(this.player,"loaded",function(){Lk(n)}),Lk(this,!0),Pk(this)):this.g.classList.add("shaka-hidden")}function Lk(e,t){var n,i;t=void 0!==t&&t,D(function(r){switch(r.g){case 1:if(e.controls.F.Kg()&&e.controls.sa||!e.video.remote){zx(e.g,!1),-1!=e.h&&(e.video.remote.cancelWatchAvailability(e.h),e.h=-1),r.B(0);break}if("disconnected"==e.video.remote.state||t){if(n=function(t){if(e.player){var n=e.video.disableRemotePlayback,i=!0;Re().kg()&&e.player.l==gp&&"HLS"!=e.player.sh()&&(i=!1),zx(e.g,i&&t&&!n)}else zx(e.g,!1)},w(r,7),-1==e.h){r.B(9);break}return T(r,e.video.remote.cancelWatchAvailability(e.h),10)}if(zx(e.g,!0),-1==e.h){r.B(0);break}return T(r,e.video.remote.cancelWatchAvailability(e.h),6);case 6:e.h=-1,r.B(0);break;case 10:e.h=-1;case 9:S(r,8);break;case 7:E(r);case 8:return w(r,11),T(r,e.video.remote.watchAvailability(n),13);case 13:i=r.h,e.h=i,S(r,0);break;case 11:E(r),n(!0),C(r)}})}function Rk(e){var t=e.i?e.localization.resolve("AIRPLAY"):e.localization.resolve("CAST");e.g.ariaLabel=t,e.m.textContent=t}function Pk(e){e.i||("disconnected"==e.video.remote.state?e.l.use("M880-240q0 33-23.5 56.5T800-160H633q-14 0-23.5-10.5T599-195q-6-95-43.5-177.5t-98-146.5q-60.5-64-141-105T143-676q-26-3-44.5-20.5T80-740q0-26 18.5-43t44.5-17h657q33 0 56.5 23.5T880-720v480Zm-560 80q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125t128 273q2 17-9.5 29T480-160Zm-350 0q-21 0-35.5-14.5T80-210q0-21 14.5-35.5T130-260q21 0 35.5 14.5T180-210q0 21-14.5 35.5T130-160Z"):e.l.use("M720-600v240q0 17-11.5 28.5T680-320h-87q-8 0-14.5-4.5T569-337q-29-81-81.5-147T364-596q-16-10-11.5-27t21.5-17h306q17 0 28.5 11.5T720-600ZM320-160q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125.5T518-201q2 17-9.5 29T480-160Zm-340 0q-25 0-42.5-17.5T80-220q0-25 17.5-42.5T140-280q25 0 42.5 17.5T200-220q0 25-17.5 42.5T140-160Zm740-560v480q0 33-23.5 56.5T800-160H638q-17 0-28.5-11.5T598-200q0-17 11.5-28.5T638-240h162v-480H160v6q0 17-11.5 28.5T120-674q-17 0-28.5-11.5T80-714v-6q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720Z"))}function Dk(){}function Ok(e,t){NE.call(this,e,t,"M480-120q-17 0-28.5-11.5T440-160v-160q0-17 11.5-28.5T480-360q17 0 28.5 11.5T520-320v40h280q17 0 28.5 11.5T840-240q0 17-11.5 28.5T800-200H520v40q0 17-11.5 28.5T480-120Zm-320-80q-17 0-28.5-11.5T120-240q0-17 11.5-28.5T160-280h160q17 0 28.5 11.5T360-240q0 17-11.5 28.5T320-200H160Zm160-160q-17 0-28.5-11.5T280-400v-40H160q-17 0-28.5-11.5T120-480q0-17 11.5-28.5T160-520h120v-40q0-17 11.5-28.5T320-600q17 0 28.5 11.5T360-560v160q0 17-11.5 28.5T320-360Zm160-80q-17 0-28.5-11.5T440-480q0-17 11.5-28.5T480-520h320q17 0 28.5 11.5T840-480q0 17-11.5 28.5T800-440H480Zm160-160q-17 0-28.5-11.5T600-640v-160q0-17 11.5-28.5T640-840q17 0 28.5 11.5T680-800v40h120q17 0 28.5 11.5T840-720q0 17-11.5 28.5T800-680H680v40q0 17-11.5 28.5T640-600Zm-480-80q-17 0-28.5-11.5T120-720q0-17 11.5-28.5T160-760h320q17 0 28.5 11.5T520-720q0 17-11.5 28.5T480-680H160Z");var n=this;this.button.classList.add("shaka-resolution-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-resolutions"),this.h=us("span"),this.h.classList.add("shaka-current-auto-quality"),this.h.style.display="none",this.i=us("sup"),this.i.classList.add("shaka-current-quality-mark"),this.i.style.display="none",Array.from(e.classList).includes("shaka-overflow-menu")?this.parent.parentElement&&(this.g=function(e){return(e=e.getElementsByClassName("shaka-overflow-quality-mark")).length?e[0]:null}(this.parent.parentElement)):(this.g=us("span"),this.g.classList.add("shaka-overflow-playback-rate-mark"),this.button.appendChild(this.g)),e=us("span"),this.button.childNodes[1].appendChild(e),e.appendChild(this.currentSelection),e.appendChild(this.h),e.appendChild(this.i),this.eventManager.o(this.localization,"locale-updated",function(){Fk(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Fk(n)}),this.eventManager.o(this.player,"loading",function(){Bk(n),Nk(n)}),this.eventManager.o(this.player,"loaded",function(){Bk(n),Nk(n)}),this.eventManager.o(this.player,"unloading",function(){Bk(n),Nk(n)}),this.eventManager.o(this.player,"variantchanged",function(){Bk(n),Nk(n)}),this.eventManager.o(this.player,"trackschanged",function(){Bk(n),Nk(n)}),this.eventManager.o(this.player,"abrstatuschanged",function(){Bk(n),Nk(n)}),this.eventManager.o(this.player,"adaptation",function(){Bk(n),Nk(n)}),Bk(this)}function Nk(e){var t=e.player.getConfiguration().abr.enabled;if(e.player.Ld()){e.i.textContent="",e.i.style.display="none",e.g&&(e.g.textContent="",e.g.style.display="none");var n=e.player.Nb()||[],i=n.find(function(e){return e.active});i&&(t?(e.h.textContent=i.bandwidth?jk(e,i,n):"Unknown",e.h.style.display=""):e.h.style.display="none")}else(i=(n=e.player.getVideoTracks()||[]).find(function(e){return e.active}))?(t?(e.h.textContent=i.height&&i.width?_k(e,i,n):i.bandwidth?qk(i.bandwidth):"Unknown",e.h.style.display=""):e.h.style.display="none",t=Uk(e,i.width,i.height),e.i.textContent=t,e.i.style.display=""!==t?"":"none",e.g&&(e.g.textContent=t,e.g.style.display=""!==t?"":"none")):e.g&&(t=e.player.getStats(),t=Uk(e,t.width,t.height),e.g.textContent=t,e.g.style.display=""!==t?"":"none")}function Uk(e,t,n){return t&&n?(n>t&&(t=(n=g([n,t])).next().value,n=n.next().value),t/n>16/9&&(n=Math.round(9*t/16)),e=e.controls.g.qualityMarks,n>=8640?n+"p":n>=4320?e[4320]:n>=2160?e[2160]:n>=1440?e[1440]:n>=1080?e[1080]:n>=720?e[720]:""):""}function Bk(e){var t=Fx(e.menu);ps(e.menu),e.menu.appendChild(t),t=0,t=e.player.Ld()?function(e){var t=[];e.player.l==mp||e.player.Ea()||(t=e.player.Nb()||[]);var n=t.find(function(e){return e.active});n&&(t=t.filter(function(t){if(t.language!=n.language||e.controls.g.showAudioChannelCountVariants&&t.channelsCount&&n.channelsCount&&t.channelsCount!=n.channelsCount)return!1;var i=e.controls.g.trackLabelFormat;return!((1==i||2==i)&&JSON.stringify(t.audioRoles)!=JSON.stringify(n.audioRoles)||3==i&&t.label!=n.label||!t.bandwidth)})),t=t.filter(function(e,n){return t.findIndex(function(t){return t.bandwidth==e.bandwidth})==n}),t.sort(function(e,t){return t.bandwidth-e.bandwidth});for(var i=e.player.getConfiguration().abr.enabled,r=g(t),a=r.next(),o={};!a.done;o={Me:void 0},a=r.next()){o.Me=a.value,(a=cs()).classList.add("explicit-resolution"),e.eventManager.o(a,"click",function(t){return function(){var n=t.Me;e.player.configure({abr:{enabled:!1}}),e.player.Ie(n,e.controls.g.clearBufferOnQualityChange)}}(o));var s=us("span");s.textContent=o.Me.bandwidth?jk(e,o.Me,t):"Unknown",a.appendChild(s),i||o.Me!=n||(a.ariaSelected="true",a.appendChild(Hx()),s.classList.add("shaka-chosen-item"),e.currentSelection.textContent=s.textContent),e.menu.appendChild(a)}return t.length}(e):function(e){var t=e.player.getVideoTracks()||[],n=t.find(function(e){return e.active});t=t.filter(function(n,i){return t.findIndex(function(t){var i=t.height==n.height&&t.bandwidth==n.bandwidth&&t.frameRate==n.frameRate&&t.hdr==n.hdr&&t.videoLayout==n.videoLayout&&It(t.roles,n.roles);return i&&e.controls.g.showVideoCodec&&t.codecs&&n.codecs&&(i=Ri(t.codecs)==Ri(n.codecs)),i})==i}),t.sort(function(e,t){return t.height==e.height||null==e.height||null==t.height?t.bandwidth-e.bandwidth:t.height-e.height});for(var i=e.player.getConfiguration().abr.enabled,r=g(t),a=r.next(),o={};!a.done;o={nc:void 0},a=r.next()){o.nc=a.value,(a=cs()).classList.add("explicit-resolution"),e.eventManager.o(a,"click",function(t){return function(){var n=t.nc;e.player.configure({abr:{enabled:!1}}),e.player.Ij(n,e.controls.g.clearBufferOnQualityChange)}}(o));var s=us("span");s.textContent=o.nc.height&&o.nc.width?_k(e,o.nc,t):o.nc.bandwidth?qk(o.nc.bandwidth):"Unknown",a.appendChild(s);var u=Uk(e,o.nc.width,o.nc.height);if(""!==u){var l=us("sup");l.classList.add("shaka-quality-mark"),l.textContent=u,a.appendChild(l)}i||o.nc!=n||(a.ariaSelected="true",a.appendChild(Hx()),s.classList.add("shaka-chosen-item"),e.currentSelection.textContent=s.textContent),e.menu.appendChild(a)}return t.length}(e);var n=cs();n.classList.add("shaka-enable-abr-button"),e.eventManager.o(n,"click",function(){e.player.configure({abr:{enabled:!0}}),Bk(e)}),e.l=us("span"),e.l.textContent=e.localization.resolve("AUTO_QUALITY"),n.appendChild(e.l),e.player.getConfiguration().abr.enabled&&(n.ariaSelected="true",n.appendChild(Hx()),e.l.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),e.menu.appendChild(n),Gx(e.menu),e.controls.dispatchEvent(new H("resolutionselectionupdated")),Fk(e),zx(e.button,t>0)}function _k(e,t,n){function i(e,t){return e!=t&&e.height==t.height&&e.hdr==t.hdr&&r(e)==r(t)&&Math.round(e.frameRate||0)==Math.round(t.frameRate||0)}function r(e){return!!e.codecs&&Ri(e.codecs).startsWith("dovi-")}var a=t.height||0,o=t.width||0;a>o&&(o=(a=g([a,o])).next().value,a=a.next().value);var s=a;o/a>16/9&&(s=Math.round(9*o/16)),o=s+"p",a=new Set;for(var u=(s=g(n)).next();!u.done;u=s.next())(u=u.value).frameRate&&a.add(Math.round(u.frameRate));if(a.size>1&&(a=t.frameRate)&&(a>=50||a<=20)&&(o+=Math.round(t.frameRate)),"PQ"!=t.hdr&&"HLG"!=t.hdr||(o=r(t)?o+" Dolby Vision":o+" HDR"),(t.videoLayout||"").includes("CH-STEREO")&&(o+=" 3D"),n.some(function(e){return i(t,e)})&&(n.some(function(e){return i(t,e)&&e.bandwidth==t.bandwidth})||(o+=" ("+qk(t.bandwidth)+")"),e.controls.g.showVideoCodec)){var l=function(e){var t="";return e&&(t=Ri(e).toUpperCase()),t?" "+t:t};n.some(function(e){return i(t,e)&&l(e.codecs)!=l(t.codecs)})&&(o+=l(t.codecs))}return o}function jk(e,t,n){var i=qk(t.bandwidth);if(e.controls.g.showAudioCodec){var r=function(e){var t="";return e&&(t=Ri(e).toUpperCase()),t?" "+t:t};n.some(function(e){return r(e.codecs)!=r(t.codecs)})&&(i+=r(t.codecs))}return i}function qk(e){return e>=1e6?(e/1e6).toFixed(1).replace(".0","")+" Mbps":Math.floor(e/1e3)+" Kbps"}function Fk(e){var t=e.player.Ld()?"QUALITY":"RESOLUTION";e.button.ariaLabel=e.localization.resolve(t),e.backButton.ariaLabel=e.localization.resolve(t),e.backSpan.textContent=e.localization.resolve(t),e.nameSpan.textContent=e.localization.resolve(t),e.l.textContent=e.localization.resolve("AUTO_QUALITY"),e.player.getConfiguration().abr.enabled&&(e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY"))}function Vk(){}function Gk(e,t){jx.call(this,e,t);var n=this;this.g=cs(),this.g.classList.add("shaka-rewind-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status",this.localization.resolve("OFF")),new qx(this.g).use("M798-281 550-447q-9-6-13.5-14.5T532-480q0-10 4.5-18.5T550-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Zm-400 0L150-447q-9-6-13.5-14.5T132-480q0-10 4.5-18.5T150-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Z"),this.parent.appendChild(this.g),Hk(this),this.h=this.controls.g.rewindRates,this.eventManager.o(this.localization,"locale-updated",function(){Hk(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Hk(n)}),this.eventManager.o(this.g,"click",function(){if(n.controls.Da()&&n.video.duration){var e=n.h.indexOf(n.player.Za())+1;e=e!=n.h.length?n.h[e]:n.h[0],n.video.paused&&n.video.play(),n.player.sc(e),n.g.setAttribute("shaka-status",e+"x")}}),this.eventManager.o(this.player,"ratechange",function(){n.g.setAttribute("shaka-status",n.player.Za()+"x")})}function Hk(e){e.g.ariaLabel=e.localization.resolve("REWIND")}function zk(){}function Kk(e,t){jx.call(this,e,t);var n=this;this.j=this.controls.F,this.g=cs(),this.g.classList.add("shaka-save.video-frame-button"),this.g.classList.add("shaka-tooltip"),new qx(this.g,"M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z"),(e=us("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.h=us("span"),this.h.textContent=this.localization.resolve("DOWNLOAD_VIDEO_FRAME"),e.appendChild(this.h),this.i=us("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),Xk(this),this.parent.appendChild(this.g),this.eventManager.o(this.localization,"locale-updated",function(){Xk(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Xk(n)}),this.eventManager.o(this.g,"click",function(){var e=document.createElement("canvas"),t=e.getContext("2d"),i=n.controls.u;e.width=i.videoWidth,e.height=i.videoHeight,t.drawImage(i,0,0,e.width,e.height),e=e.toDataURL("image/png"),(t=document.createElement("a")).href=e,t.download="videoframe_"+i.currentTime.toFixed(3)+".png",t.click()}),this.eventManager.o(this.controls.D,"vrstatuschanged",function(){Wk(n)}),this.eventManager.o(this.adManager,"ad-started",function(){Wk(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){Wk(n)}),this.eventManager.o(this.player,"unloading",function(){Wk(n)}),this.eventManager.o(this.player,"loaded",function(){Wk(n)}),this.eventManager.o(this.video,"play",function(){Wk(n)}),this.eventManager.o(this.video,"pause",function(){Wk(n)}),this.eventManager.o(this.video,"seeking",function(){Wk(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){Wk(n)}),Wk(this)}function Wk(e){var t=!0;e.controls.Xb()&&(t=!1),t&&e.j.Qa()&&(t=!1),t&&(e.player.drmInfo()||e.player.Ld())&&(t=!1),t&&e.ad&&(t=!1),t&&e.video.remote&&"disconnected"!=e.video.remote.state&&(t=!1),zx(e.g,t)}function Xk(e){e.g.ariaLabel=e.localization.resolve("DOWNLOAD_VIDEO_FRAME"),e.h.textContent=e.localization.resolve("DOWNLOAD_VIDEO_FRAME")}function Yk(){}function Zk(e,t){jx.call(this,e,t);var n=this;(this.g=this.player.wf())&&(this.h=cs(),this.h.classList.add("shaka-skip-next-button"),this.h.classList.add("shaka-tooltip"),new qx(this.h).use("M660-280v-400q0-17 11.5-28.5T700-720q17 0 28.5 11.5T740-680v400q0 17-11.5 28.5T700-240q-17 0-28.5-11.5T660-280Zm-440-35v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T548-480q0 10-4.5 18.5T530-447L282-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Z"),this.parent.appendChild(this.h),Qk(this),Jk(this),this.eventManager.o(this.localization,"locale-updated",function(){Qk(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Qk(n)}),this.eventManager.o(this.h,"click",function(){n.controls.Da()&&n.g.playItem(n.g.getCurrentItemIndex()+1)}),this.eventManager.o(this.g,"currentitemchanged",function(){Jk(n)}),this.eventManager.o(this.g,"itemsinserted",function(){Jk(n)}),this.eventManager.o(this.g,"itemsremoved",function(){Jk(n)}),this.eventManager.o(this.player,"loading",function(){Jk(n)}))}function Qk(e){e.h.ariaLabel=e.localization.resolve("SKIP_NEXT")}function Jk(e){var t=e.g.getItems().length;t=t>1&&e.g.getCurrentItemIndex()+1<t,zx(e.h,t)}function $k(){}function eI(e,t){jx.call(this,e,t);var n=this;(this.g=this.player.wf())&&(this.h=cs(),this.h.classList.add("shaka-skip-previous-button"),this.h.classList.add("shaka-tooltip"),new qx(this.h).use("M220-280v-400q0-17 11.5-28.5T260-720q17 0 28.5 11.5T300-680v400q0 17-11.5 28.5T260-240q-17 0-28.5-11.5T220-280Zm458-1L430-447q-9-6-13.5-14.5T412-480q0-10 4.5-18.5T430-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Z"),this.parent.appendChild(this.h),tI(this),nI(this),this.eventManager.o(this.localization,"locale-updated",function(){tI(n)}),this.eventManager.o(this.localization,"locale-changed",function(){tI(n)}),this.eventManager.o(this.h,"click",function(){n.controls.Da()&&n.g.playItem(n.g.getCurrentItemIndex()-1)}),this.eventManager.o(this.g,"currentitemchanged",function(){nI(n)}),this.eventManager.o(this.g,"itemsinserted",function(){nI(n)}),this.eventManager.o(this.g,"itemsremoved",function(){nI(n)}),this.eventManager.o(this.player,"loading",function(){nI(n)}))}function tI(e){e.h.ariaLabel=e.localization.resolve("SKIP_PREVIOUS")}function nI(e){var t=e.g.getItems().length>1&&e.g.getCurrentItemIndex()>0;zx(e.h,t)}function iI(){}function rI(e,t){Qx.call(this,e,t),this.button.classList.add("shaka-small-play-button"),this.button.classList.add("shaka-tooltip")}function aI(){}function oI(e,t){jx.call(this,e,t),(e=us("div")).classList.add("shaka-spacer"),e.ariaHidden="true",this.parent.appendChild(e)}function sI(){}function uI(e,t){function n(e){return(e=parseInt(l.g[e],10))>2e9?(e/1e9).toFixed(2)+"GB":e>1e6?(e/1e6).toFixed(2)+"MB":e>1e3?(e/1e3).toFixed(2)+"KB":e+"B"}function i(e){return l.g[e]+" (gaps)"}function r(e){return Kx(l.g[e],!1)+" (m)"}function a(e){return Math.round(l.g[e]/1e3)+" (kbits/s)"}function o(e){return l.g[e].toFixed(2)+" (s)"}function s(e){return l.g[e]+" (frames)"}function u(e){return l.g[e]+" (px)"}jx.call(this,e,t);var l=this;this.i=cs(),this.i.classList.add("shaka-statistics-button"),this.u=new qx(this.i,"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),(e=us("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-simple-overflow-button-label-inline"),this.A=us("span"),e.appendChild(this.A),this.l=us("span"),this.l.classList.add("shaka-current-selection-span"),e.appendChild(this.l),this.i.appendChild(e),this.parent.appendChild(this.i),this.h=us("div"),this.h.classList.add("shaka-no-propagation"),this.h.classList.add("shaka-show-controls-on-mouse-over"),this.h.classList.add("shaka-statistics-container"),this.h.classList.add("shaka-hidden"),this.controls.i.appendChild(this.h),this.D=[],this.F=["stateHistory","switchHistory"],this.g=this.player.getStats(),this.m=new Map,this.C=(new Map).set("width",u).set("height",u).set("currentCodecs",function(e){return l.g[e]}).set("completionPercent",function(e){return l.g[e]+" (%)"}).set("bufferingTime",o).set("drmTimeSeconds",o).set("licenseTime",o).set("liveLatency",o).set("loadLatency",o).set("manifestTimeSeconds",o).set("estimatedBandwidth",a).set("streamBandwidth",a).set("maxSegmentDuration",o).set("pauseTime",r).set("playTime",r).set("corruptedFrames",s).set("decodedFrames",s).set("droppedFrames",s).set("stallsDetected",function(e){return l.g[e]+" (stalls)"}).set("gapsJumped",i).set("manifestSizeBytes",n).set("bytesDownloaded",n).set("nonFatalErrorCount",function(e){return l.g[e]+" (errors)"}).set("manifestPeriodCount",function(e){return l.g[e]+" (periods)"}).set("manifestGapCount",i),this.j=new Wi(function(){l.g=l.player.getStats();for(var e=g(l.D),t=e.next();!t.done;t=e.next()){var n=t.value;(t=l.m.get(n)).textContent=l.C.get(n)(n),t&&t.parentElement&&(n=l.g[n],zx(t.parentElement,"string"==typeof n?""!=n:!isNaN(n)))}}),cI(this),function(e){var t=us("div");t.classList.add("shaka-no-propagation"),t.classList.add("shaka-statistics-close");var n=new qx(t,"M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z").g;for(n.classList.add("material-icons","notranslate"),e.h.appendChild(t),e.eventManager.o(n,"click",function(){lI(e)}),t=g(e.controls.g.statisticsList),n=t.next();!n.done;n=t.next())if((n=n.value)in e.g&&!e.F.includes(n)){var i=dI(e,n);e.h.appendChild(i),e.D.push(n)}else Y("Unrecognized statistic element:",n)}(this),this.eventManager.o(this.localization,"locale-updated",function(){cI(l)}),this.eventManager.o(this.localization,"locale-changed",function(){cI(l)}),this.eventManager.o(this.i,"click",function(){lI(l),cI(l)})}function lI(e){e.h.classList.contains("shaka-hidden")?(e.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm120-440q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),e.j.xa(.1),zx(e.h,!0)):(e.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),e.j.stop(),zx(e.h,!1))}function cI(e){e.A.textContent=e.localization.resolve("STATISTICS"),e.i.ariaLabel=e.localization.resolve("STATISTICS"),e.l.textContent=e.localization.resolve(e.h.classList.contains("shaka-hidden")?"OFF":"ON")}function dI(e,t){var n=us("div"),i=us("label");return i.textContent=t+":",n.appendChild(i),(i=us("span")).textContent=e.C.get(t)(t),n.appendChild(i),e.m.set(t,i),n}function hI(){}function pI(e,t){NE.call(this,e,t,"M200-160q-33 0-56.5-23.5T120-240v-480q0-33 23.5-56.5T200-800h560q33 0 56.5 23.5T840-720v480q0 33-23.5 56.5T760-160H200Zm80-200h120q17 0 28.5-11.5T440-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T400-600H280q-17 0-28.5 11.5T240-560v160q0 17 11.5 28.5T280-360Zm400-240H560q-17 0-28.5 11.5T520-560v160q0 17 11.5 28.5T560-360h120q17 0 28.5-11.5T720-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T680-600Z");var n=this;this.button.classList.add("shaka-caption-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-text-languages"),this.player&&this.player.Wc()?this.button.ariaPressed="true":this.button.ariaPressed="false",function(e){var t=cs();t.ariaSelected="true",e.menu.appendChild(t),t.appendChild(Hx()),e.g=us("span"),t.appendChild(e.g)}(this),this.eventManager.o(this.localization,"locale-updated",function(){mI(n),gI(n)}),this.eventManager.o(this.localization,"locale-changed",function(){mI(n),gI(n)}),this.eventManager.o(this.player,"loading",function(){fI(n),gI(n)}),this.eventManager.o(this.player,"loaded",function(){fI(n),gI(n)}),this.eventManager.o(this.player,"unloading",function(){fI(n),gI(n)}),this.eventManager.o(this.player,"texttrackvisibility",function(){fI(n),gI(n)}),this.eventManager.o(this.player,"textchanged",function(){gI(n)}),this.eventManager.o(this.player,"trackschanged",function(){gI(n)}),fI(this),mI(this),gI(this)}function fI(e){e.player.Wc()?(e.icon.use("M200-160q-33 0-56.5-23.5T120-240v-480q0-33 23.5-56.5T200-800h560q33 0 56.5 23.5T840-720v480q0 33-23.5 56.5T760-160H200Zm80-200h120q17 0 28.5-11.5T440-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T400-600H280q-17 0-28.5 11.5T240-560v160q0 17 11.5 28.5T280-360Zm400-240H560q-17 0-28.5 11.5T520-560v160q0 17 11.5 28.5T560-360h120q17 0 28.5-11.5T720-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T680-600Z"),e.button.ariaPressed="true"):(e.icon.use("M791-57 687-160H200q-33 0-56.5-23.5T120-240v-487l-65-65q-12-12-12-28.5T55-849q12-12 28.5-12t28.5 12l736 736q12 12 12 28t-12 28q-12 12-28.5 12T791-57ZM280-360h120q17 0 28.5-11.5T440-400v-25q0-8-6-14t-14-6h-20q-8 0-14 6t-6 14v5h-80v-127l-45-45v1q-7 5-11 13t-4 18v160q0 17 11.5 28.5T280-360Zm560-360v388q0 27-24.5 37.5T772-303l-66-66q7-5 10.5-13.5T720-400v-20q0-8-6-14t-14-6h-20q-8 0-14 6t-6 14h-5l-75-75v-45h80v5q0 8 6 14t14 6h20q8 0 14-6t6-14v-25q0-17-11.5-28.5T680-600H560q-17 0-28.5 11.5T520-560v5L343-732q-19-19-8.5-43.5T372-800h388q33 0 56.5 23.5T840-720Z"),e.button.ariaPressed="false"),e.controls.dispatchEvent(new H("captionselectionupdated"))}function gI(e){var t=e.player.yc()||[];!function(e,t,n,i,r,a,o){function s(e,t,n){return e=[e,t],n&&3==o&&e.push(n),e.join(": ")}var u=e.find(function(e){return 1==e.active}),l=Fx(t);ps(t),t.appendChild(l),l=new Set,u=u?s(u.language,u.roles.join(", "),u.label):"";for(var c=(e=g(e)).next(),d={};!c.done;d={dd:void 0},c=e.next()){d.dd=c.value,c=d.dd.language;var h=d.dd.forced,p=a.resolve("SUBTITLE_FORCED"),f=d.dd.roles.join(", "),m=d.dd.label,v=s(c,f,m);if(!l.has(v)){l.add(v);var y=cs();y.addEventListener("click",function(e){return function(){n(e.dd)}}(d));var A=us("span");switch(y.appendChild(A),A.textContent=OE(c,a),o){case LE:h&&(A.textContent+=" ("+p+")");break;case 1:f?A.textContent=f:(Y("Track #"+d.dd.id+" does not have a role, but the UI is configured to only show role."),A.textContent="?"),h&&(A.textContent+=" ("+p+")");break;case 2:f&&(A.textContent+=": "+f),h&&(A.textContent+=" ("+p+")");break;case 3:m?A.textContent=m:(Y("Track #"+d.dd.id+" does not have a label, but the UI is configured to only show labels."),A.textContent="?")}i&&v==u&&(y.appendChild(Hx()),A.classList.add("shaka-chosen-item"),y.ariaSelected="true",r.textContent=A.textContent),t.appendChild(y)}}}(t,e.menu,function(t){return function(e,t){return D(function(n){if(1==n.g)return e.player.fg(t),T(n,e.player.Zd(!0),2);e.player.configure({preferredTextLanguage:t.language,preferForcedSubs:t.forced}),C(n)})}(e,t)},e.player.Wc(),e.currentSelection,e.localization,e.controls.g.textTrackLabelFormat);var n=cs();n.classList.add("shaka-turn-captions-off-button"),e.eventManager.o(n,"click",function(){e.player.Zd(!1),gI(e)}),n.appendChild(e.g),e.menu.appendChild(n),e.player.Wc()?e.g.classList.remove("shaka-chosen-item"):(n.ariaSelected="true",n.appendChild(Hx()),e.g.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("OFF")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),Gx(e.menu),e.controls.dispatchEvent(new H("captionselectionupdated")),zx(e.button,t.length>0)}function mI(e){e.button.ariaLabel=e.localization.resolve("CAPTIONS"),e.backButton.ariaLabel=e.localization.resolve("BACK"),e.nameSpan.textContent=e.localization.resolve("CAPTIONS"),e.backSpan.textContent=e.localization.resolve("CAPTIONS"),e.g.textContent=e.localization.resolve("OFF")}function vI(){}function yI(e,t){jx.call(this,e,t);var n=this;this.g=cs(),this.g.classList.add("shaka-toggle-stereoscopic-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",new qx(this.g,"M620-360H520q-8 0-14-6t-6-14v-200q0-8 6-14t14-6h100q17 0 28.5 11.5T660-560v160q0 17-11.5 28.5T620-360Zm-200 0h-90q-13 0-21.5-8.5T300-390q0-13 8.5-21.5T330-420h70v-40h-40q-8 0-14-6t-6-14q0-8 6-14t14-6h40v-40h-70q-13 0-21.5-8.5T300-570q0-13 8.5-21.5T330-600h90q17 0 28.5 11.5T460-560v160q0 17-11.5 28.5T420-360Zm140-60h40v-120h-40v120Zm280-20q-17 0-28.5-11.5T800-480q0-115-72.5-203T542-794l30 30q11 11 11 28t-11 28q-11 11-28 11t-28-11L387-837q-8-8-4.5-20t14.5-15q20-5 41-6.5t42-1.5q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 17-11.5 28.5T840-440ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-17 11.5-28.5T120-520q17 0 28.5 11.5T160-480q0 115 72.5 203T418-166l-30-30q-11-11-11-28t11-28q11-11 28-11t28 11l129 129q8 8 4.5 20T563-88q-20 5-41 6.5T480-80Z"),(e=us("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.i=us("span"),e.appendChild(this.i),this.h=us("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),this.parent.appendChild(this.g),AI(this),this.eventManager.o(this.localization,"locale-updated",function(){AI(n)}),this.eventManager.o(this.localization,"locale-changed",function(){AI(n)});var i=this.controls.D;this.eventManager.o(this.g,"click",function(){n.controls.Da()&&i.$d()}),this.eventManager.o(i,"vrstatuschanged",function(){zx(n.g,n.controls.Xb())}),zx(this.g,this.controls.Xb())}function AI(e){e.g.ariaLabel=e.localization.resolve("TOGGLE_STEREOSCOPIC"),e.i.textContent=e.localization.resolve("TOGGLE_STEREOSCOPIC")}function bI(){}function TI(e,t){iS.call(this,e,t,["shaka-volume-bar-container"],["shaka-volume-bar"]);var n=this;this.g=this.controls.g,this.g.alwaysShowVolumeBar||this.container.classList.add("shaka-volume-bar-container-allow-hiding"),this.setRange(0,100),this.eventManager.o(this.video,"volumechange",function(){return CI(n)}),this.eventManager.o(this.player,"loading",function(){return CI(n)}),this.eventManager.o(this.player,"loaded",function(){return EI(n)}),this.eventManager.o(this.player,"unloading",function(){return EI(n)}),this.eventManager.o(this.player,"trackschanged",function(){return EI(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){return CI(n)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){return wI(n)}),this.eventManager.o(this.adManager,"ad-muted",function(){return wI(n)}),this.eventManager.o(this.adManager,"ad-started",function(){return EI(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){EI(n),CI(n)}),this.eventManager.o(this.localization,"locale-updated",function(){return SI(n)}),this.eventManager.o(this.localization,"locale-changed",function(){return SI(n)}),CI(this),SI(this),this.ad&&this.onChange(),EI(this)}function CI(e){e.video.muted?e.setValue(0):e.setValue(100*e.video.volume),xI(e)}function wI(e){var t=e.ad.getVolume();e.setValue(100*t),xI(e)}function xI(e){var t=e.g.volumeBarColors,n=["to right"];n.push(t.level+e.getValue()+"%"),n.push(t.base+e.getValue()+"%"),n.push(t.base+"100%"),e.container.style.background="linear-gradient("+n.join(",")+")"}function SI(e){e.bar.ariaLabel=e.localization.resolve("VOLUME")}function EI(e){var t=!0;e.ad&&e.ad.isLinear()?t=!0:e.player.Gh()&&(t=!1),zx(e.container,t)}function kI(){}xE.FailReasonCode={NO_BROWSER_SUPPORT:RE,PLAYER_FAILED_TO_LOAD:PE},"complete"==document.readyState?D(function(e){if(1==e.g)return T(e,Promise.resolve(),2);EE(),C(e)}):e.addEventListener("load",EE),p(NE,jx),NE.prototype.release=function(){this.j&&(this.j.disconnect(),this.j=null),jx.prototype.release.call(this)},G("shaka.ui.SettingsMenu",NE),p(BE,NE),G("shaka.ui.AudioLanguageSelection",BE),qE.prototype.create=function(e,t){return new BE(e,t)},sE("language",new qE),VS("language",new qE),p(FE,jx),G("shaka.ui.CastButton",FE),zE.prototype.create=function(e,t){return new FE(e,t)},sE("cast",new zE),VS("cast",new zE),p(KE,NE),G("shaka.ui.ChapterSelection",KE),ZE.prototype.create=function(e,t){return new KE(e,t)},sE("chapter",new ZE),VS("chapter",new ZE),p(QE,jx),G("shaka.ui.FastForwardButton",QE),$E.prototype.create=function(e,t){return new QE(e,t)},VS("fast_forward",new $E),p(ek,jx),G("shaka.ui.FullscreenButton",ek),ik.prototype.create=function(e,t){return new ek(e,t)},VS("fullscreen",new ik),p(rk,jx),rk.prototype.release=function(){this.h.stop(),this.h=null,jx.prototype.release.call(this)},G("shaka.ui.LoopButton",rk),sk.prototype.create=function(e,t){return new rk(e,t)},sE("loop",new sk),VS("loop",new sk),Yx("loop",new sk),p(uk,jx),G("shaka.ui.MuteButton",uk),hk.prototype.create=function(e,t){return new uk(e,t)},sE("mute",new hk),VS("mute",new hk),Yx("mute",new hk),p(pk,jx),G("shaka.ui.PipButton",pk),yk.prototype.create=function(e,t){return new pk(e,t)},sE("picture_in_picture",new yk),VS("picture_in_picture",new yk),Yx("picture_in_picture",new yk),p(Ak,NE),G("shaka.ui.PlaybackRateSelection",Ak),Ck.prototype.create=function(e,t){return new Ak(e,t)},sE("playback_rate",new Ck),VS("playback_rate",new Ck),p(wk,jx),G("shaka.ui.PresentationTimeTracker",wk),Sk.prototype.create=function(e,t){return new wk(e,t)},VS("time_and_duration",new Sk),p(Ek,jx),G("shaka.ui.RecenterVRButton",Ek),Ik.prototype.create=function(e,t){return new Ek(e,t)},sE("recenter_vr",new Ik),VS("recenter_vr",new Ik),p(Mk,jx),Mk.prototype.release=function(){this.video.remote&&-1!=this.h&&this.video.remote.cancelWatchAvailability(this.h).catch(function(){}),jx.prototype.release.call(this)},G("shaka.ui.RemoteButton",Mk),Dk.prototype.create=function(e,t){return new Mk(e,t)},sE("remote",new Dk),VS("remote",new Dk),p(Ok,NE),G("shaka.ui.ResolutionSelection",Ok),Vk.prototype.create=function(e,t){return new Ok(e,t)},sE("quality",new Vk),VS("quality",new Vk),p(Gk,jx),G("shaka.ui.RewindButton",Gk),zk.prototype.create=function(e,t){return new Gk(e,t)},VS("rewind",new zk),p(Kk,jx),G("shaka.ui.SaveVideoFrameButton",Kk),Yk.prototype.create=function(e,t){return new Kk(e,t)},sE("save_video_frame",new Yk),Yx("save_video_frame",new Yk),p(Zk,jx),G("shaka.ui.SkipNextButton",Zk),$k.prototype.create=function(e,t){return new Zk(e,t)},VS("skip_next",new $k),p(eI,jx),G("shaka.ui.SkipPreviousButton",eI),iI.prototype.create=function(e,t){return new eI(e,t)},VS("skip_previous",new iI),p(rI,Qx),G("shaka.ui.SmallPlayButton",rI),aI.prototype.create=function(e,t){return new rI(e,t)},VS("play_pause",new aI),p(oI,jx),G("shaka.ui.Spacer",oI),sI.prototype.create=function(e,t){return new oI(e,t)},VS("spacer",new sI),p(uI,jx),uI.prototype.release=function(){this.j.stop(),this.j=null,jx.prototype.release.call(this)},G("shaka.ui.StatisticsButton",uI),hI.prototype.create=function(e,t){return new uI(e,t)},sE("statistics",new hI),Yx("statistics",new hI),p(pI,NE),G("shaka.ui.TextSelection",pI),vI.prototype.create=function(e,t){return new pI(e,t)},sE("captions",new vI),VS("captions",new vI),p(yI,jx),G("shaka.ui.ToggleStereoscopicButton",yI),bI.prototype.create=function(e,t){return new yI(e,t)},sE("toggle_stereoscopic",new bI),VS("toggle_stereoscopic",new bI),p(TI,iS),TI.prototype.onChange=function(){this.ad&&this.ad.isLinear()?this.ad.setVolume(this.getValue()/100):(this.video.volume=this.getValue()/100,this.video.volume>0&&(this.video.muted=!1))},G("shaka.ui.VolumeBar",TI),kI.prototype.create=function(e,t){return new TI(e,t)},VS("volume",new kI)}.call(r,e,e,void 0),r.shaka)t[a]=r.shaka[a]}()},3379:function(e,t,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function s(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},i=[],r=0;r<e.length;r++){var a=e[r],u=t.base?a[0]+t.base:a[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var d=s(c),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:c,updater:m(h,t),references:1}),i.push(c)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function p(e,t,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,g=0;function m(e,t){var n,i,r;if(t.singleton){var a=g++;n=f||(f=l(t)),i=h.bind(null,n,a,!1),r=h.bind(null,n,a,!0)}else n=l(t),i=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=s(n[i]);o[r].references--}for(var a=u(e,t),l=0;l<n.length;l++){var c=s(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=a}}}},384:function(e){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},5955:function(e,t,n){"use strict";var i=n(2584),r=n(8662),a=n(6430),o=n(5692);function s(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,l="undefined"!=typeof Symbol,c=s(Object.prototype.toString),d=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(u)var f=s(BigInt.prototype.valueOf);if(l)var g=s(Symbol.prototype.valueOf);function m(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function v(e){return"[object Map]"===c(e)}function y(e){return"[object Set]"===c(e)}function A(e){return"[object WeakMap]"===c(e)}function b(e){return"[object WeakSet]"===c(e)}function T(e){return"[object ArrayBuffer]"===c(e)}function C(e){return"undefined"!=typeof ArrayBuffer&&(T.working?T(e):e instanceof ArrayBuffer)}function w(e){return"[object DataView]"===c(e)}function x(e){return"undefined"!=typeof DataView&&(w.working?w(e):e instanceof DataView)}t.isArgumentsObject=i,t.isGeneratorFunction=r,t.isTypedArray=o,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||x(e)},t.isUint8Array=function(e){return"Uint8Array"===a(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===a(e)},t.isUint16Array=function(e){return"Uint16Array"===a(e)},t.isUint32Array=function(e){return"Uint32Array"===a(e)},t.isInt8Array=function(e){return"Int8Array"===a(e)},t.isInt16Array=function(e){return"Int16Array"===a(e)},t.isInt32Array=function(e){return"Int32Array"===a(e)},t.isFloat32Array=function(e){return"Float32Array"===a(e)},t.isFloat64Array=function(e){return"Float64Array"===a(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===a(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===a(e)},v.working="undefined"!=typeof Map&&v(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(v.working?v(e):e instanceof Map)},y.working="undefined"!=typeof Set&&y(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(y.working?y(e):e instanceof Set)},A.working="undefined"!=typeof WeakMap&&A(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(A.working?A(e):e instanceof WeakMap)},b.working="undefined"!=typeof WeakSet&&b(new WeakSet),t.isWeakSet=function(e){return b(e)},T.working="undefined"!=typeof ArrayBuffer&&T(new ArrayBuffer),t.isArrayBuffer=C,w.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&w(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=x;var S="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function E(e){return"[object SharedArrayBuffer]"===c(e)}function k(e){return void 0!==S&&(void 0===E.working&&(E.working=E(new S)),E.working?E(e):e instanceof S)}function I(e){return m(e,d)}function M(e){return m(e,h)}function L(e){return m(e,p)}function R(e){return u&&m(e,f)}function P(e){return l&&m(e,g)}t.isSharedArrayBuffer=k,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},t.isGeneratorObject=function(e){return"[object Generator]"===c(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},t.isNumberObject=I,t.isStringObject=M,t.isBooleanObject=L,t.isBigIntObject=R,t.isSymbolObject=P,t.isBoxedPrimitive=function(e){return I(e)||M(e)||L(e)||R(e)||P(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(C(e)||k(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})},9539:function(e,t,n){var i=n(4155),r=n(5108),a=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},o=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,r=i.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),s=i[n];n<r;s=i[++n])y(s)||!w(s)?a+=" "+s:a+=" "+c(s);return a},t.deprecate=function(e,n){if(void 0!==i&&!0===i.noDeprecation)return e;if(void 0===i)return function(){return t.deprecate(e,n).apply(this,arguments)};var a=!1;return function(){if(!a){if(i.throwDeprecation)throw new Error(n);i.traceDeprecation?r.trace(n):r.error(n),a=!0}return e.apply(this,arguments)}};var s={},u=/^$/;if(i.env.NODE_DEBUG){var l=i.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+l+"$","i")}function c(e,n){var i={seen:[],stylize:h};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),v(n)?i.showHidden=n:n&&t._extend(i,n),T(i.showHidden)&&(i.showHidden=!1),T(i.depth)&&(i.depth=2),T(i.colors)&&(i.colors=!1),T(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=d),p(i,e,i.depth)}function d(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function h(e,t){return e}function p(e,n,i){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return b(r)||(r=p(e,r,i)),r}var a=function(e,t){if(T(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(A(t))return e.stylize(""+t,"number");if(v(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),S(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(n);if(0===o.length){if(E(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(C(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return f(n)}var l,c="",d=!1,h=["{","}"];(m(n)&&(d=!0,h=["[","]"]),E(n))&&(c=" [Function"+(n.name?": "+n.name:"")+"]");return C(n)&&(c=" "+RegExp.prototype.toString.call(n)),x(n)&&(c=" "+Date.prototype.toUTCString.call(n)),S(n)&&(c=" "+f(n)),0!==o.length||d&&0!=n.length?i<0?C(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=d?function(e,t,n,i,r){for(var a=[],o=0,s=t.length;o<s;++o)L(t,String(o))?a.push(g(e,t,n,i,String(o),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(g(e,t,n,i,r,!0))}),a}(e,n,i,s,o):o.map(function(t){return g(e,n,i,s,t,d)}),e.seen.pop(),function(e,t,n){var i=e.reduce(function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,c,h)):h[0]+c+h[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,n,i,r,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),L(i,r)||(o="["+r+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(n)?p(e,u.value,null):p(e,u.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),T(o)){if(a&&r.match(/^\d+$/))return s;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function m(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function y(e){return null===e}function A(e){return"number"==typeof e}function b(e){return"string"==typeof e}function T(e){return void 0===e}function C(e){return w(e)&&"[object RegExp]"===k(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===k(e)}function S(e){return w(e)&&("[object Error]"===k(e)||e instanceof Error)}function E(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(u.test(e)){var n=i.pid;s[e]=function(){var i=t.format.apply(t,arguments);r.error("%s %d: %s",e,n,i)}}else s[e]=function(){};return s[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(5955),t.isArray=m,t.isBoolean=v,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=A,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=T,t.isRegExp=C,t.types.isRegExp=C,t.isObject=w,t.isDate=x,t.types.isDate=x,t.isError=S,t.types.isNativeError=S,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(384);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;r.log("%s - %s",(e=new Date,n=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":"),[e.getDate(),M[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(5717),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(R&&e[R]){var t;if("function"!=typeof(t=e[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise(function(e,i){t=e,n=i}),r=[],a=0;a<arguments.length;a++)r.push(arguments[a]);r.push(function(e,i){e?n(e):t(i)});try{e.apply(this,r)}catch(e){n(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,a(e))},t.promisify.custom=R,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return r.apply(a,arguments)};e.apply(this,t).then(function(e){i.nextTick(o.bind(null,null,e))},function(e){i.nextTick(P.bind(null,e,o))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,a(e)),t}},6430:function(e,t,n){"use strict";var i=n(9804),r=n(6314),a=n(1924),o=a("Object.prototype.toString"),s=n(1405)()&&"symbol"==typeof Symbol.toStringTag,u=r(),l=a("String.prototype.slice"),c={},d=n(4079),h=Object.getPrototypeOf;s&&d&&h&&i(u,function(e){if("function"==typeof n.g[e]){var t=new n.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var i=h(t),r=d(i,Symbol.toStringTag);if(!r){var a=h(i);r=d(a,Symbol.toStringTag)}c[e]=r.get}});var p=n(5692);e.exports=function(e){return!!p(e)&&(s?function(e){var t=!1;return i(c,function(n,i){if(!t)try{var r=n.call(e);r===i&&(t=r)}catch(e){}}),t}(e):l(o(e),8,-1))}}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={id:t,exports:{}};return e[t](a,a.exports,i),a.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=i(3379),n=i.n(e),r=i(3934),a={insert:"head",singleton:!1},o=(n()(r.Z,a),r.Z.locals,i(3480)),s=i.n(o),u=i(3342),l={insert:"head",singleton:!1},c=(n()(u.Z,l),u.Z.locals,'\x3c!-- Video Player Container (Shaka Player will be attached here) --\x3e\n<div id="video-player-container" style="\n\tposition: relative; width: min(90vw, 1200px); height: min(70vh, 600px);\n\tbackground: #000; border-radius: 8px 8px 0 0; overflow: visible; padding-bottom: 50px;\n">\n\t\x3c!-- Navigation Arrows (Desktop only) --\x3e\n\t<button id="prev-video-btn" class="nav-arrow prev-arrow" style="\n\t\tposition: absolute; left: 10px; top: 50%; transform: translateY(-50%);\n\t\twidth: 50px; height: 50px; border-radius: 50%; border: none;\n\t\tbackground: rgba(0,0,0,0.6); color: white; font-size: 24px;\n\t\tcursor: pointer; z-index: 1000; display: flex; align-items: center; justify-content: center;\n\t\topacity: 0; transition: opacity 0.3s, background 0.2s;\n\t" title="Previous video (Shift+Left)">‹</button>\n\t\n\t<button id="next-video-btn" class="nav-arrow next-arrow" style="\n\t\tposition: absolute; right: 10px; top: 50%; transform: translateY(-50%);\n\t\twidth: 50px; height: 50px; border-radius: 50%; border: none;\n\t\tbackground: rgba(0,0,0,0.6); color: white; font-size: 24px;\n\t\tcursor: pointer; z-index: 1000; display: flex; align-items: center; justify-content: center;\n\t\topacity: 0; transition: opacity 0.3s, background 0.2s;\n\t" title="Next video (Shift+Right)">›</button>\n\t\n\t<video id="${videoId}" autoplay style="\n\t\twidth: 100%; height: calc(100% - 50px); object-fit: contain; background: #000;\n\t"></video>\n</div>\n\n\x3c!-- Clipping Controls Panel (Outside Shaka Player scope) --\x3e\n<div id="clipping-panel" style="\n\twidth: min(90vw, 1200px); background: rgba(20,20,20,0.95); border-radius: 0 0 8px 8px;\n\tpadding: 15px; display: none; border-top: 1px solid #444; position: relative; z-index: 10002;\n">\n\t\x3c!-- Clip Mode Toggle --\x3e\n\t<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">\n\t\t<h3 style="color: white; margin: 0; font-size: 16px;">📹 Video Clipping Mode</h3>\n\t\t<button id="exit-clip-mode" style="\n\t\t\tbackground: #666; border: none; color: white; padding: 6px 12px; \n\t\t\tborder-radius: 4px; cursor: pointer; font-size: 12px;">Exit Clip Mode</button>\n\t</div>\n\t\n\t\x3c!-- Timeline with Clip Markers --\x3e\n\t<div style="margin-bottom: 20px;">\n\t\t<div style="display: flex; justify-content: space-between; color: #ccc; font-size: 12px; margin-bottom: 5px;">\n\t\t\t<span>Timeline</span>\n\t\t\t<span id="clip-duration">Clip Duration: 0:00</span>\n\t\t</div>\n\t\t<div id="timeline-container" style="position: relative; height: 40px; background: #333; border-radius: 4px; overflow: hidden; cursor: pointer;">\n\t\t\t<div id="timeline-progress" style="height: 100%; background: #555; width: 0%; transition: width 0.1s;"></div>\n\t\t\t<div id="clip-range" style="\n\t\t\t\tposition: absolute; top: 0; left: 0%; right: 0%; height: 100%; \n\t\t\t\tbackground: rgba(76, 175, 80, 0.2); z-index: 1;\n\t\t\t"></div>\n\t\t\t<div id="playback-cursor" style="\n\t\t\t\tposition: absolute; top: 0; left: 0%; width: 2px; height: 100%; \n\t\t\t\tbackground: #fff; box-shadow: 0 0 4px rgba(255,255,255,0.8); z-index: 4;\n\t\t\t"></div>\n\t\t\t<div id="start-marker" style="\n\t\t\t\tposition: absolute; top: -2px; left: 0%; width: 12px; height: 44px; \n\t\t\t\tbackground: #4CAF50; cursor: ew-resize; z-index: 3; border-radius: 2px;\n\t\t\t\tdisplay: flex; align-items: center; justify-content: center; color: white; font-size: 8px;\n\t\t\t" title="Start time">\n\t\t\t\tS\n\t\t\t\t<div id="start-marker-tooltip" style="\n\t\t\t\t\tposition: absolute; bottom: 50px; left: 50%; transform: translateX(-50%);\n\t\t\t\t\tbackground: rgba(0,0,0,0.9); color: white; padding: 4px 8px; border-radius: 4px;\n\t\t\t\t\tfont-size: 11px; white-space: nowrap; pointer-events: none; display: none;\n\t\t\t\t">0:00.000</div>\n\t\t\t</div>\n\t\t\t<div id="end-marker" style="\n\t\t\t\tposition: absolute; top: -2px; right: 0%; width: 12px; height: 44px; \n\t\t\t\tbackground: #f44336; cursor: ew-resize; z-index: 3; border-radius: 2px;\n\t\t\t\tdisplay: flex; align-items: center; justify-content: center; color: white; font-size: 8px;\n\t\t\t" title="End time">\n\t\t\t\tE\n\t\t\t\t<div id="end-marker-tooltip" style="\n\t\t\t\t\tposition: absolute; bottom: 50px; left: 50%; transform: translateX(-50%);\n\t\t\t\t\tbackground: rgba(0,0,0,0.9); color: white; padding: 4px 8px; border-radius: 4px;\n\t\t\t\t\tfont-size: 11px; white-space: nowrap; pointer-events: none; display: none;\n\t\t\t\t">0:00.000</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\n\t\x3c!-- Frame-Accurate Controls --\x3e\n\t<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">\n\t\t\x3c!-- Start Time Controls --\x3e\n\t\t<div style="background: rgba(76, 175, 80, 0.1); padding: 12px; border-radius: 6px; border: 1px solid #4CAF50;">\n\t\t\t<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">\n\t\t\t\t<label style="color: #4CAF50; font-weight: bold; font-size: 14px;">🟢 Start Time</label>\n\t\t\t\t<span id="start-time-display" style="color: white; font-family: monospace;">0:00.000</span>\n\t\t\t</div>\n\t\t\t<div style="display: flex; gap: 8px; align-items: center;">\n\t\t\t\t<button id="start-frame-back" style="background: #4CAF50; border: none; color: white; padding: 6px 8px; border-radius: 3px; cursor: pointer; font-size: 11px;">⏪ -1f</button>\n\t\t\t\t<button id="start-set-current" style="background: #4CAF50; border: none; color: white; padding: 6px 12px; border-radius: 3px; cursor: pointer; font-size: 11px;">Set Current</button>\n\t\t\t\t<button id="start-frame-forward" style="background: #4CAF50; border: none; color: white; padding: 6px 8px; border-radius: 3px; cursor: pointer; font-size: 11px;">+1f ⏩</button>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t\x3c!-- End Time Controls --\x3e\n\t\t<div style="background: rgba(244, 67, 54, 0.1); padding: 12px; border-radius: 6px; border: 1px solid #f44336;">\n\t\t\t<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">\n\t\t\t\t<label style="color: #f44336; font-weight: bold; font-size: 14px;">🔴 End Time</label>\n\t\t\t\t<span id="end-time-display" style="color: white; font-family: monospace;">0:00.000</span>\n\t\t\t</div>\n\t\t\t<div style="display: flex; gap: 8px; align-items: center;">\n\t\t\t\t<button id="end-frame-back" style="background: #f44336; border: none; color: white; padding: 6px 8px; border-radius: 3px; cursor: pointer; font-size: 11px;">⏪ -1f</button>\n\t\t\t\t<button id="end-set-current" style="background: #f44336; border: none; color: white; padding: 6px 12px; border-radius: 3px; cursor: pointer; font-size: 11px;">Set Current</button>\n\t\t\t\t<button id="end-frame-forward" style="background: #f44336; border: none; color: white; padding: 6px 8px; border-radius: 3px; cursor: pointer; font-size: 11px;">+1f ⏩</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\n\t\x3c!-- Preview and Export Controls --\x3e\n\t<div style="display: flex; justify-content: space-between; align-items: center;">\n\t\t<div style="display: flex; gap: 10px;">\n\t\t\t<button id="preview-clip" style="\n\t\t\t\tbackground: #2196F3; border: none; color: white; padding: 8px 16px; \n\t\t\t\tborder-radius: 4px; cursor: pointer; font-size: 14px;">🎬 Preview Clip</button>\n\t\t\t<button id="reset-markers" style="\n\t\t\t\tbackground: #666; border: none; color: white; padding: 8px 16px; \n\t\t\t\tborder-radius: 4px; cursor: pointer; font-size: 14px;">🔄 Reset</button>\n\t\t</div>\n\t\t<button id="export-clip" style="\n\t\t\tbackground: #FF9800; border: none; color: white; padding: 10px 20px; \n\t\t\tborder-radius: 4px; cursor: pointer; font-size: 14px; font-weight: bold;">📤 Export Clip</button>\n\t</div>\n</div>\n\n\x3c!-- Top Controls (Over video player) --\x3e\n<div style="position: absolute; top: 20px; left: 20px; z-index: 10003;">\n\t<div class="hls-player-badge" style="\n\t\tbackground: rgba(60, 60, 60, 0.9); color: #FF9800; \n\t\tpadding: 6px 12px; border-radius: 4px; font-size: 11px; font-weight: bold;\n\t\tletter-spacing: 0.5px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n\t\tbackdrop-filter: blur(4px); display: flex; align-items: center; gap: 6px;">\n\t\t<span style="font-size: 14px;">📡</span> HLS STREAMING\n\t</div>\n</div>\n\n<div style="position: absolute; top: 20px; right: 20px; display: flex; gap: 10px; z-index: 10003;">\n\t<button id="toggle-clip-mode" style="\n\t\tbackground: rgba(255, 152, 0, 0.9); border: none; color: white; \n\t\tpadding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">✂️ Clip Video</button>\n\t<button id="open-default-player" style="\n\t\tbackground: rgba(33, 150, 243, 0.9); border: none; color: white; \n\t\tpadding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; \n\t\tdisplay: flex; align-items: center; gap: 5px;" title="Open with default Nextcloud player">🎬 Default Player</button>\n\t<button class="close-btn" style="\n\t\tbackground: rgba(0,0,0,0.7); border: none; color: white; \n\t\twidth: 40px; height: 40px; border-radius: 50%; font-size: 18px; cursor: pointer;">✕</button>\n</div>\n'),d='<div style="\n\tbackground: #2a2a2a; border-radius: 8px; padding: 24px; max-width: 400px; width: 90%;\n\tcolor: white; box-shadow: 0 4px 20px rgba(0,0,0,0.5);\n">\n\t<h3 style="margin: 0 0 20px 0; color: #FF9800;">📤 Export Video Clip</h3>\n\t\n\t<div style="margin-bottom: 20px;">\n\t\t<label style="display: block; margin-bottom: 8px; font-weight: bold;">Export Location:</label>\n\t\t<input id="export-path" type="text" value="${defaultPath}" style="\n\t\t\twidth: 100%; padding: 12px; border: 1px solid #555; border-radius: 4px; \n\t\t\tbackground: #333; color: white; font-family: monospace; box-sizing: border-box;\n\t\t">\n\t\t<small style="color: #ccc; margin-top: 4px; display: block;">\n\t\t\tRelative to video location. Directory will be created if it doesn\'t exist.\n\t\t</small>\n\t</div>\n\t\n\t<div style="margin-bottom: 20px; padding: 12px; background: rgba(76, 175, 80, 0.1); border-radius: 4px; border: 1px solid #4CAF50;">\n\t\t<div style="font-size: 14px; margin-bottom: 8px;">📊 Clip Details:</div>\n\t\t<div style="font-family: monospace; font-size: 12px; color: #ccc;">\n\t\t\t<div>Start: ${formatTime(startTime)}</div>\n\t\t\t<div>End: ${formatTime(endTime)}</div>\n\t\t\t<div>Duration: ${formatTime(endTime - startTime)}</div>\n\t\t\t<div style="color: #4CAF50; margin-top: 8px;">✨ Original quality lossless cut</div>\n\t\t</div>\n\t</div>\n\t\n\t<div style="display: flex; justify-content: flex-end; gap: 12px;">\n\t\t<button id="cancel-export" style="\n\t\t\tbackground: #666; border: none; color: white; padding: 10px 16px; \n\t\t\tborder-radius: 4px; cursor: pointer;">Cancel</button>\n\t\t<button id="confirm-export" style="\n\t\t\tbackground: #FF9800; border: none; color: white; padding: 10px 16px; \n\t\t\tborder-radius: 4px; cursor: pointer; font-weight: bold;">🚀 Start Export</button>\n\t</div>\n</div>\n',h=i(5108);function p(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(i,r)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){p(a,i,r,o,s,"next",e)}function s(e){p(a,i,r,o,s,"throw",e)}o(void 0)})}}function g(e,t){return m.apply(this,arguments)}function m(){return(m=f(regeneratorRuntime.mark(function e(t,n){var i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(OC.generateUrl("/apps/hyperviewer/cache/check"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({filename:t,directory:n})});case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,e.abrupt("return",r.exists?r.cachePath:null);case 10:return e.prev=10,e.t0=e.catch(0),h.error("Failed to check HLS cache:",e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function v(e,t,n){return y.apply(this,arguments)}function y(){return(y=f(regeneratorRuntime.mark(function e(t,n,i){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.log("🎬 Smart play: Checking HLS cache for: ".concat(t)),e.prev=1,e.next=4,g(t,n);case 4:(r=e.sent)?(h.log("✅ HLS cache found, using Shaka Player"),b(t,r,i,n)):(h.log("ℹ️ No HLS cache, using default player"),A(t,n,i)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),h.error("Error checking HLS cache:",e.t0),A(t,n,i);case 12:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function A(e,t,n){h.log("🎥 Opening with default player: ".concat(e));try{var i,r,a,o,s,u=(null==n||null===(i=n.fileInfoModel)||void 0===i?void 0:i.fileList)||(null==n?void 0:n.fileList)||(null===(r=window.OCA)||void 0===r||null===(a=r.Files)||void 0===a||null===(o=a.App)||void 0===o?void 0:o.fileList);if(!u)return void h.error("No fileList available");if(!u.files.find(function(t){return t.name===e}))return void h.error("File not found in fileList: ".concat(e));h.log("🎬 Opening with Nextcloud Viewer");var l="/"===t?"/".concat(e):"".concat(t,"/").concat(e);null!==(s=window.OCA)&&void 0!==s&&s.Viewer?window.OCA.Viewer.open({path:l}):h.error("Viewer not available")}catch(e){h.error("Error opening with default player:",e)}}function b(e,t,n,i){var r,a="hyperVideo_".concat(Date.now());i||(i=(null==n?void 0:n.dir)||(null==n||null===(r=n.fileList)||void 0===r?void 0:r.getCurrentDirectory())||"/");var o=[],u=0;if(null!=n&&n.fileInfoModel||null!=n&&n.fileList){var l,p=(null===(l=n.fileInfoModel)||void 0===l?void 0:l.fileList)||n.fileList;if(p){var g=p.files||[];o=g.filter(function(e){return"video/quicktime"===e.mimetype||"video/mp4"===e.mimetype}).map(function(e){return e.name}).sort(),u=o.indexOf(e),h.log("📹 Video playlist: ".concat(o.length," videos, current index: ").concat(u))}}var m=document.createElement("div");m.style.cssText="\n        position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 10000;\n        background: rgba(0,0,0,0.9); display: flex; flex-direction: column; align-items: center; justify-content: center;\n        padding: 20px; box-sizing: border-box;\n    ",m.innerHTML=c.replace(/\$\{videoId\}/g,a);var y=function(){m.remove(),document.body.style.overflow="",document.removeEventListener("keydown",b)},b=function(e){"Escape"!==e.key&&"Backspace"!==e.key||y()};m.onclick=function(e){e.target===m&&y()},document.body.appendChild(m),document.body.style.overflow="hidden",document.addEventListener("keydown",b);var T=document.getElementById(a),C=!1,w=0,x=0,S=0,E=!1;m.querySelector(".close-btn").addEventListener("click",y),m.querySelector("#open-default-player").addEventListener("click",function(){y(),A(e,i,n)});var k=function(){var e=f(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o.length<=1)){e.next=2;break}return e.abrupt("return");case 2:return(r=u+t)<0&&(r=o.length-1),r>=o.length&&(r=0),a=o[r],h.log("🔄 Navigating to video ".concat(r+1,"/").concat(o.length,": ").concat(a)),y(),e.next=10,v(a,i,n);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),I=m.querySelector("#prev-video-btn"),M=m.querySelector("#next-video-btn"),L=m.querySelector("#video-player-container");function R(){return R=f(regeneratorRuntime.mark(function t(n){var r,a,o,s,u,l,c=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:T,t.prev=1,h.log("🖼️ Extracting frame at:",n),t.next=5,fetch(OC.generateUrl("/apps/hyperviewer/api/extract-frame"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({filename:e,directory:i,timestamp:n})});case 5:if(a=t.sent,h.log(a),!a.ok){t.next=22;break}return t.next=10,a.blob();case 10:o=t.sent,h.log("✅ Frame extracted, blob size:",o.size,"bytes"),s=URL.createObjectURL(o),(u=document.createElement("img")).src=s,u.style.cssText="\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tobject-fit: contain;\n\t\t\t\t\tbackground: #000;\n\t\t\t\t\tpointer-events: none;\n\t\t\t\t",u.id="pause-frame-display",L.appendChild(u),r._pauseFrameUrl=s,r._pauseFrameImg=u,t.next=26;break;case 22:return t.next=24,a.text();case 24:l=t.sent,h.error("❌ Frame extraction failed:",a.status,a.statusText,"Body:",l);case 26:t.next=31;break;case 28:t.prev=28,t.t0=t.catch(1),h.error("❌ Failed to extract frame:",t.t0);case 31:case"end":return t.stop()}},t,null,[[1,28]])})),R.apply(this,arguments)}if(o.length<=1)I.style.display="none",M.style.display="none";else{L.addEventListener("mouseenter",function(){window.innerWidth>768&&(I.style.opacity="0.7",M.style.opacity="0.7")}),L.addEventListener("mouseleave",function(){I.style.opacity="0",M.style.opacity="0"}),I.addEventListener("mouseenter",function(){I.style.opacity="1",I.style.background="rgba(0,0,0,0.8)"}),I.addEventListener("mouseleave",function(){I.style.background="rgba(0,0,0,0.6)"}),M.addEventListener("mouseenter",function(){M.style.opacity="1",M.style.background="rgba(0,0,0,0.8)"}),M.addEventListener("mouseleave",function(){M.style.background="rgba(0,0,0,0.6)"}),I.addEventListener("click",function(e){e.stopPropagation(),k(-1)}),M.addEventListener("click",function(e){e.stopPropagation(),k(1)});var P=0;L.addEventListener("touchstart",function(e){P=e.changedTouches[0].screenX}),L.addEventListener("touchend",function(e){var t=e.changedTouches[0].screenX-P;Math.abs(t)>50&&k(t>0?-1:1)})}if(s().polyfill.installAll(),s().Player.isBrowserSupported()){var D,O=new(s().Player)(T),N=new(s().ui.Overlay)(O,L,T);N.configure({controlPanelElements:["play_pause","time_and_duration","mute","volume","spacer","overflow_menu","fullscreen"],overflowMenuButtons:["picture_in_picture","quality","playback_rate","save_video_frame","statistics"],enableTooltips:!0,addSeekBar:!0,customContextMenu:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,2],seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(76, 175, 80, 0.4)",played:"rgb(255, 152, 0)"}});var U="function"==typeof N.getControls?N.getControls():null,B=(null==U||null===(D=U.getLocalVideo)||void 0===D?void 0:D.call(U))||T,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;e._pauseFrameImg&&(e._pauseFrameImg.remove(),e._pauseFrameImg=null),e._pauseFrameUrl&&(URL.revokeObjectURL(e._pauseFrameUrl),e._pauseFrameUrl=null)};setTimeout(function(){var t=L.querySelector('button[aria-label*="Save"]')||L.querySelector('button[title*="Save"]');t&&t.addEventListener("click",function(){var t=f(regeneratorRuntime.mark(function t(n){var r,a,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),n.stopPropagation(),t.prev=2,t.next=5,fetch(OC.generateUrl("/apps/hyperviewer/api/extract-frame"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({filename:e,directory:i,timestamp:T.currentTime})});case 5:if(!(r=t.sent).ok){t.next=18;break}return t.next=9,r.blob();case 9:a=t.sent,o=URL.createObjectURL(a),(s=document.createElement("a")).href=o,s.download="".concat(e.split(".")[0],"_frame_").concat(Math.floor(T.currentTime),"s.png"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o);case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),h.error("Failed to save frame:",t.t0);case 23:case"end":return t.stop()}},t,null,[[2,20]])}));return function(e){return t.apply(this,arguments)}}(),!0)},500);var j=encodeURIComponent(t),q="".concat(OC.generateUrl("/apps/hyperviewer/hls"),"/").concat(j,"/master.m3u8"),F="".concat(OC.generateUrl("/apps/hyperviewer/hls"),"/").concat(j,"/playlist.m3u8");O.load(q).catch(function(){return O.load(F)}),T.addEventListener("loadedmetadata",function(){S=T.duration,x=S,z(),H()}),T.addEventListener("timeupdate",function(){C&&function(){if(0===S)return;var e=T.currentTime/S*100;m.querySelector("#timeline-progress").style.width="".concat(e,"%"),m.querySelector("#playback-cursor").style.left="calc(".concat(e,"% - 1px)")}()}),B.addEventListener("pause",function(e){var t=e.currentTarget||B;h.log("🎬 Video paused at:",t.currentTime),_(t),function(e){R.apply(this,arguments)}(t.currentTime,t)},!1),B.addEventListener("play",function(e){var t=e.currentTarget||B;h.log("▶️ Video playing"),_(t)},!1)}function V(){C=!C;var e=m.querySelector("#clipping-panel"),t=m.querySelector("#toggle-clip-mode"),n=m.querySelector("#video-player-container");C?(e.style.display="block",n.style.borderRadius="8px 8px 0 0",t.textContent="✂️ Exit Clip Mode",t.style.background="rgba(244, 67, 54, 0.9)",w=0,x=S,z(),H()):(e.style.display="none",n.style.borderRadius="8px",t.textContent="✂️ Clip Video",t.style.background="rgba(255, 152, 0, 0.9)")}function G(e){var t=Math.floor(e/60),n=Math.floor(e%60),i=Math.floor(e%1*1e3);return"".concat(t,":").concat(n.toString().padStart(2,"0"),".").concat(i.toString().padStart(3,"0"))}function H(){m.querySelector("#start-time-display").textContent=G(w),m.querySelector("#end-time-display").textContent=G(x);var e=Math.max(0,x-w),t=Math.floor(e/60),n=Math.floor(e%60);m.querySelector("#clip-duration").textContent="Clip Duration: ".concat(t,":").concat(n.toString().padStart(2,"0"))}function z(){if(0!==S){var e=w/S*100,t=x/S*100;m.querySelector("#start-marker").style.left="calc(".concat(e,"% - 6px)"),m.querySelector("#end-marker").style.left="calc(".concat(t,"% - 6px)"),m.querySelector("#clip-range").style.left="".concat(e,"%"),m.querySelector("#clip-range").style.width="".concat(t-e,"%")}}function K(e){0;var t=m.querySelector("#start-time-display").closest("div").closest("div");"start"===e?(t.style.background="rgba(76, 175, 80, 0.3)",t.style.borderColor="#4CAF50",t.style.borderWidth="2px"):(t.style.background="rgba(76, 175, 80, 0.1)",t.style.borderColor="#4CAF50",t.style.borderWidth="1px");var n=m.querySelector("#end-time-display").closest("div").closest("div");"end"===e?(n.style.background="rgba(244, 67, 54, 0.3)",n.style.borderColor="#f44336",n.style.borderWidth="2px"):(n.style.background="rgba(244, 67, 54, 0.1)",n.style.borderColor="#f44336",n.style.borderWidth="1px")}function W(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(w=T.currentTime,K("start")):(x=T.currentTime,K("end")),w>=x&&(e?x=Math.min(S,w+1):w=Math.max(0,x-1)),z(),H()}function X(){"/"===n.dir||n.dir.startsWith("/home")||n.dir.startsWith("/Users");var e=document.createElement("div");e.style.cssText="\n\t\t\tposition: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 10002;\n\t\t\tbackground: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center;\n\t\t",e.innerHTML=d.replace(/\$\{defaultPath\}/g,"../exports").replace(/\$\{formatTime\(startTime\)\}/g,G(w)).replace(/\$\{formatTime\(endTime\)\}/g,G(x)).replace(/\$\{formatTime\(endTime - startTime\)\}/g,G(x-w)),document.body.appendChild(e);var t=e.querySelector("#export-path");t.focus(),t.select(),e.querySelector("#cancel-export").addEventListener("click",function(){e.remove()});var i=function(){var t=e.querySelector("#export-path").value.trim();t?(!function(e){Y.apply(this,arguments)}(t),e.remove()):OC.dialogs.alert("Please enter an export location.","Export Error")};e.querySelector("#confirm-export").addEventListener("click",i),t.addEventListener("keydown",function(e){"Enter"===e.key&&(e.preventDefault(),i())}),e.addEventListener("click",function(t){t.target===e&&e.remove()})}function Y(){return(Y=f(regeneratorRuntime.mark(function t(i){var r,a,o,s,u,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=(new Date).toISOString().replace(/[:.]/g,"-").slice(0,-5),a=e.replace(/\.[^/.]+$/,""),o=e.split(".").pop(),Z(s="".concat(a,"_clip_").concat(r,".").concat(o),i),u="/"===n.dir?"/".concat(e):"".concat(n.dir,"/").concat(e),t.next=9,fetch(OC.generateUrl("/apps/hyperviewer/api/export-clip"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({originalPath:u,startTime:w,endTime:x,exportPath:i,clipFilename:s})});case 9:return l=t.sent,t.next=12,l.json();case 12:if(c=t.sent,l.ok){t.next=15;break}throw new Error(c.error||"Export failed");case 15:h.log("✅ Export started successfully:",c),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),h.error("❌ Export failed:",t.t0),OC.dialogs.alert("Export failed: ".concat(t.t0.message),"Export Error");case 22:case"end":return t.stop()}},t,null,[[0,18]])}))).apply(this,arguments)}function Z(e,t){var n=document.createElement("div");n.style.cssText="\n\t\t\tposition: fixed; top: 20px; right: 20px; z-index: 10003;\n\t\t\tbackground: #4CAF50; color: white; padding: 16px 20px; border-radius: 8px;\n\t\t\tbox-shadow: 0 4px 12px rgba(0,0,0,0.3); max-width: 400px;\n\t\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n\t\t",n.innerHTML='\n\t\t\t<div style="display: flex; align-items: center; gap: 12px;">\n\t\t\t\t<div style="font-size: 20px;">✂️</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div style="font-weight: bold; margin-bottom: 4px;">Export Started</div>\n\t\t\t\t\t<div style="font-size: 13px; opacity: 0.9;">\n\t\t\t\t\t\tCreating: '.concat(e,"<br>\n\t\t\t\t\t\tLocation: ").concat(t,"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),document.body.appendChild(n),setTimeout(function(){n.parentNode&&(n.style.opacity="0",n.style.transform="translateX(100%)",n.style.transition="all 0.3s ease",setTimeout(function(){return n.remove()},300))},5e3)}function Q(e){var t=Math.max(0,Math.min(w+e,x-.1));w=t,T.currentTime=t,z(),H()}function J(e){var t=Math.max(w+.1,Math.min(x+e,S));x=t,T.currentTime=t,z(),H()}m.querySelector("#toggle-clip-mode").addEventListener("click",V),m.querySelector("#exit-clip-mode").addEventListener("click",V),m.querySelector("#start-frame-back").addEventListener("click",function(){return Q(-1/30)}),m.querySelector("#start-frame-forward").addEventListener("click",function(){return Q(1/30)}),m.querySelector("#start-set-current").addEventListener("click",function(){return W(!0)}),m.querySelector("#end-frame-back").addEventListener("click",function(){return J(-1/30)}),m.querySelector("#end-frame-forward").addEventListener("click",function(){return J(1/30)}),m.querySelector("#end-set-current").addEventListener("click",function(){return W(!1)}),m.querySelector("#preview-clip").addEventListener("click",function(){T.currentTime=w,T.play(),requestAnimationFrame(function e(){T.currentTime>=x?T.pause():requestAnimationFrame(e)})}),m.querySelector("#reset-markers").addEventListener("click",function(){w=0,x=S,z(),H()}),m.querySelector("#export-clip").addEventListener("click",X);var $=m.querySelector("#timeline-container"),ee=m.querySelector("#start-marker"),te=m.querySelector("#end-marker");function ne(e,t){e.addEventListener("mousedown",function(e){e.preventDefault(),e.stopPropagation(),E=!0,K(t?"start":"end");var n=function(e){if(E){var n=$.getBoundingClientRect(),i=e.clientX-n.left,r=Math.max(0,Math.min(1,i/n.width))*S;t?w=Math.min(r,x-.1):x=Math.max(r,w+.1),T.currentTime=r,z(),H()}};document.addEventListener("mousemove",n),document.addEventListener("mouseup",function e(){E=!1,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",e)})});var n=e.querySelector('div[id$="-tooltip"]');e.addEventListener("mouseenter",function(){E||(e.style.transform="scale(1.1)",e.style.boxShadow="0 0 8px rgba(255,255,255,0.5)",n&&(n.style.display="block",n.textContent=G(t?w:x)))}),e.addEventListener("mouseleave",function(){E||(e.style.transform="scale(1)",e.style.boxShadow="none",n&&(n.style.display="none"))})}function ie(e){if("Escape"===e.key)return e.preventDefault(),void y();if(" "===e.key||"Spacebar"===e.key)return e.preventDefault(),void(T.paused?T.play():T.pause());if(e.shiftKey&&"ArrowRight"===e.key&&!e.target.matches("input, textarea"))return e.preventDefault(),void(o.length>1&&k(1));if(e.shiftKey&&"ArrowLeft"===e.key&&!e.target.matches("input, textarea"))return e.preventDefault(),void(o.length>1&&k(-1));if(m.querySelector("#clipping-panel").style.display&&"none"!==m.querySelector("#clipping-panel").style.display){switch((["ArrowLeft","ArrowRight","Enter"].includes(e.key)||"Enter"===e.key&&(e.ctrlKey||e.metaKey))&&e.preventDefault(),e.key){case"ArrowLeft":T.currentTime>0&&(T.currentTime=Math.max(0,T.currentTime-1/30));break;case"ArrowRight":T.currentTime<T.duration&&(T.currentTime=Math.min(T.duration,T.currentTime+1/30));break;case"Enter":if(e.ctrlKey||e.metaKey)X();else{var t=document.querySelector("#confirm-export");t&&t.click()}}}}$.addEventListener("click",function(e){if(!E){var t=$.getBoundingClientRect(),n=e.clientX-t.left,i=Math.max(0,Math.min(1,n/t.width))*S;T.currentTime=i}}),ne(ee,!0),ne(te,!1),document.addEventListener("keydown",ie);var re=m.remove;m.remove=function(){document.removeEventListener("keydown",ie),re.call(this)}}var T=i(5108);function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function x(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(i,r)}function S(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function o(e){x(a,i,r,o,s,"next",e)}function s(e){x(a,i,r,o,s,"throw",e)}o(void 0)})}}function E(){window.OCA&&window.OCA.Files&&window.OCA.Files.fileActions?(T.log("✅ Files app detected, registering actions..."),OCA.Files.fileActions.registerAction({name:"generateHlsCacheMov",displayName:t("hyperviewer","Generate HLS Cache"),mime:"video/quicktime",permissions:OC.PERMISSION_UPDATE,iconClass:"icon-category-multimedia",actionHandler:function(e,t){T.log("🚀 Generate HLS Cache action triggered for MOV:",e),T.log("📁 Context:",t),k([{filename:e,context:t}])}}),OCA.Files.fileActions.registerAction({name:"playVideoSmart",displayName:t("hyperviewer","Play"),mime:"video/quicktime",permissions:OC.PERMISSION_READ,iconClass:"icon-play",order:-1,actionHandler:function(e,t){return S(regeneratorRuntime.mark(function n(){var i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return T.log("🎬 Smart play triggered for MOV:",e),r=(null==t?void 0:t.dir)||(null==t||null===(i=t.fileList)||void 0===i?void 0:i.getCurrentDirectory())||"/",n.next=4,v(e,r,t);case 4:case"end":return n.stop()}},n)}))()}}),OCA.Files.fileActions.setDefault("video/quicktime","playVideoSmart"),OCA.Files.fileActions.registerAction({name:"generateHlsCacheMp4",displayName:t("hyperviewer","Generate HLS Cache"),mime:"video/mp4",permissions:OC.PERMISSION_UPDATE,iconClass:"icon-category-multimedia",actionHandler:function(e,t){T.log("🚀 Generate HLS Cache action triggered for MP4:",e),T.log("📁 Context:",t),k([{filename:e,context:t}])}}),OCA.Files.fileActions.registerAction({name:"playVideoSmartMp4",displayName:t("hyperviewer","Play"),mime:"video/mp4",permissions:OC.PERMISSION_READ,iconClass:"icon-play",order:-1,actionHandler:function(e,t){return S(regeneratorRuntime.mark(function n(){var i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return T.log("🎬 Smart play triggered for MP4:",e),r=(null==t?void 0:t.dir)||(null==t||null===(i=t.fileList)||void 0===i?void 0:i.getCurrentDirectory())||"/",n.next=4,v(e,r,t);case 4:case"end":return n.stop()}},n)}))()}}),OCA.Files.fileActions.setDefault("video/mp4","playVideoSmartMp4"),OCA.Files.fileActions.registerAction({name:"generateHlsCacheDirectory",displayName:t("hyperviewer","Generate HLS Cache (Directory)"),mime:"httpd/unix-directory",permissions:OC.PERMISSION_UPDATE,iconClass:"icon-category-multimedia",actionHandler:function(e,t){T.log("🚀 Generate HLS Cache action triggered for directory:",e),T.log("📁 Context:",t),function(e,t){L.apply(this,arguments)}(e,t)}}),T.log("✅ Hyper Viewer Files integration registered!"),function(){var e,t,n;T.log("🎨 Initializing HLS badges for file list...");var i=document.createElement("style");function r(){return a.apply(this,arguments)}function a(){return(a=S(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s,u,l,c,d,h,p,f,g,m,v,y,A,b,w,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.log("🔍 Checking for videos to badge..."),u=(null===(t=window.OCA)||void 0===t||null===(n=t.Files)||void 0===n||null===(i=n.App)||void 0===i||null===(r=i.fileList)||void 0===r?void 0:r.getCurrentDirectory())||"/",(l=null===(a=window.OCA)||void 0===a||null===(o=a.Files)||void 0===o||null===(s=o.App)||void 0===s?void 0:s.fileList)&&l.files){e.next=6;break}return T.warn("⚠️ No fileList available"),e.abrupt("return");case 6:if(c=l.files.filter(function(e){return"video/quicktime"===e.mimetype||"video/mp4"===e.mimetype}),T.log("📹 Found ".concat(c.length," video files in fileList")),0!==c.length){e.next=10;break}return e.abrupt("return");case 10:return d=c.map(function(e){return e.name}),e.prev=11,e.next=14,fetch(OC.generateUrl("/apps/hyperviewer/cache/batch-check"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({directory:u,filenames:d})});case 14:if((h=e.sent).ok){e.next=18;break}return T.error("Batch check failed:",h.status),e.abrupt("return");case 18:return e.next=20,h.json();case 20:p=e.sent,f=new Set(p.cachedVideos||[]),T.log("✅ Batch check complete: ".concat(f.size,"/").concat(d.length," videos have HLS cache")),g=C(c),e.prev=24,g.s();case 26:if((m=g.n()).done){e.next=43;break}if(v=m.value,y=v.name,f.has(y)){e.next=31;break}return e.abrupt("continue",41);case 31:if(A=CSS.escape(y),(b=document.querySelector('tr[data-file="'.concat(A,'"]')))||(b=document.querySelector('[data-name="'.concat(A,'"]'))),b||(b=document.querySelector('tr[data-file="'.concat(y,'"]'))),b){e.next=37;break}return e.abrupt("continue",41);case 37:if(!b.querySelector(".hls-badge")){e.next=39;break}return e.abrupt("continue",41);case 39:(w=b.querySelector("td.filename .thumbnail")||b.querySelector(".thumbnail")||b.querySelector(".files-list__row-icon")||b.querySelector(".icon"))&&(w.style.position="relative",(x=document.createElement("div")).className="hls-badge",x.textContent="HLS",x.title="HLS cache available",w.appendChild(x),T.log("✅ Added HLS badge to: ".concat(y)));case 41:e.next=26;break;case 43:e.next=48;break;case 45:e.prev=45,e.t0=e.catch(24),g.e(e.t0);case 48:return e.prev=48,g.f(),e.finish(48);case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(11),T.error("Failed to batch check HLS cache:",e.t1);case 56:case"end":return e.stop()}},e,null,[[11,53],[24,45,48,51]])}))).apply(this,arguments)}i.textContent="\n\t\t/* HLS Badge styling */\n\t\t.hls-badge {\n\t\t\tposition: absolute;\n\t\t\ttop: 4px;\n\t\t\tright: 4px;\n\t\t\tbackground: rgba(60, 60, 60, 0.95);\n\t\t\tcolor: #FF9800;\n\t\t\tpadding: 2px 6px;\n\t\t\tborder-radius: 3px;\n\t\t\tfont-size: 9px;\n\t\t\tfont-weight: bold;\n\t\t\tletter-spacing: 0.5px;\n\t\t\tz-index: 1000;\n\t\t\tpointer-events: none;\n\t\t\tbox-shadow: 0 1px 3px rgba(0,0,0,0.4);\n\t\t\tbackdrop-filter: blur(4px);\n\t\t\tline-height: 1.2;\n\t\t}\n\t\t\n\t\t/* List view - make thumbnail container relative */\n\t\t.files-fileList tr[data-file] td.filename .thumbnail {\n\t\t\tposition: relative !important;\n\t\t}\n\t\t\n\t\t/* Grid view - make thumbnail container relative */\n\t\t.files-fileList .files-filestable .filename .thumbnail,\n\t\t.files-fileList .grid-item .thumbnail,\n\t\tsection.files-grid .grid-item .thumbnail {\n\t\t\tposition: relative !important;\n\t\t}\n\t",document.head.appendChild(i),setTimeout(function(){T.log("🚀 Running initial badge update..."),r()},3e3),setInterval(r,3e4);var o=null,s=new MutationObserver(function(){o&&clearTimeout(o),o=setTimeout(r,1e3)});if(function e(){var t=document.querySelector("#filestable tbody.files-fileList");if(t){s.observe(t,{childList:true,subtree:true});T.log("👀 Observing list view for changes")}var n=document.querySelector("section.files-grid");if(n){s.observe(n,{childList:true,subtree:true});T.log("👀 Observing grid view for changes")}if(!t&&!n){setTimeout(e,1e3)}}(),null!==(e=window.OCA)&&void 0!==e&&null!==(t=e.Files)&&void 0!==t&&null!==(n=t.App)&&void 0!==n&&n.fileList){var u=window.OCA.Files.App.fileList.changeDirectory;window.OCA.Files.App.fileList.changeDirectory=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=u.apply(this,t);return setTimeout(function(){T.log("📂 Directory changed, updating badges..."),r()},1500),i}}T.log("✅ HLS badge system initialized")}()):setTimeout(E,2e3)}function k(e){I({type:"files",files:e})}function I(e){var t,n,i,r,a=e.type,o=e.files,s=e.directoryPath,u=e.videoFiles,l="directory"===a;l?(t="Generate HLS Cache (Directory)",i=u.length,r=u.map(function(e){return e.filename}).join(", "),n='\n\t\t\t<div class="directory-info-card">\n\t\t\t\t<div class="info-item">\n\t\t\t\t\t<strong>Directory:</strong> '.concat(s,'\n\t\t\t\t</div>\n\t\t\t\t<div class="info-item ').concat(0===i?"no-videos":"",'">\n\t\t\t\t\t<strong>Video files found:</strong> ').concat(i,"\n\t\t\t\t\t").concat(i>0?'<div class="file-list">'.concat(r,"</div>"):'<div class="no-videos-text">No videos currently, but auto-generation can monitor for new files</div>',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")):(t="Generate HLS Cache",r=o.map(function(e){return e.filename}).join(", "),n='\n\t\t\t<div class="directory-info-card">\n\t\t\t\t<div class="info-item">\n\t\t\t\t\t<strong>Files:</strong> '.concat(r,"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"));var c=document.createElement("div");c.className="hyper-viewer-cache-modal",c.innerHTML='\n\t\t<div class="hyper-viewer-overlay"></div>\n\t\t<div class="hyper-viewer-cache-container">\n\t\t\t<div class="hyper-viewer-cache-header">\n\t\t\t\t<h3 class="hyper-viewer-cache-title">'.concat(t,'</h3>\n\t\t\t\t<button class="hyper-viewer-close" aria-label="Close dialog">\n\t\t\t\t\t<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n\t\t\t\t\t\t<line x1="18" y1="6" x2="6" y2="18"></line>\n\t\t\t\t\t\t<line x1="6" y1="6" x2="18" y2="18"></line>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="hyper-viewer-cache-content">\n\t\t\t\t').concat(n,'\n\t\t\t\t\n\t\t\t\t<div class="form-section">\n\t\t\t\t\t<label class="section-title">Cache Location</label>\n\t\t\t\t\t<div class="option-group" id="cache-locations-container">\n\t\t\t\t\t\t<p style="color: #999; font-size: 13px;">Loading cache locations...</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="form-section">\n\t\t\t\t\t<label class="section-title">Resolution Renditions</label>\n\t\t\t\t\t<div class="resolution-grid">\n\t\t\t\t\t\t<label class="resolution-item">\n\t\t\t\t\t\t\t<input type="checkbox" name="resolution" value="720p" checked>\n\t\t\t\t\t\t\t<div class="resolution-content">\n\t\t\t\t\t\t\t\t<span class="resolution-name">720p</span>\n\t\t\t\t\t\t\t\t<span class="resolution-desc">HD Quality</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="resolution-item">\n\t\t\t\t\t\t\t<input type="checkbox" name="resolution" value="480p" checked>\n\t\t\t\t\t\t\t<div class="resolution-content">\n\t\t\t\t\t\t\t\t<span class="resolution-name">480p</span>\n\t\t\t\t\t\t\t\t<span class="resolution-desc">SD Quality</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="resolution-item">\n\t\t\t\t\t\t\t<input type="checkbox" name="resolution" value="360p">\n\t\t\t\t\t\t\t<div class="resolution-content">\n\t\t\t\t\t\t\t\t<span class="resolution-name">360p</span>\n\t\t\t\t\t\t\t\t<span class="resolution-desc">Low Quality</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="resolution-item">\n\t\t\t\t\t\t\t<input type="checkbox" name="resolution" value="240p" checked>\n\t\t\t\t\t\t\t<div class="resolution-content">\n\t\t\t\t\t\t\t\t<span class="resolution-name">240p</span>\n\t\t\t\t\t\t\t\t<span class="resolution-desc">Mobile</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="form-section">\n\t\t\t\t\t<label class="section-title">Options</label>\n\t\t\t\t\t<div class="option-group">\n\t\t\t\t\t\t<label class="option-item">\n\t\t\t\t\t\t\t<input type="checkbox" id="overwrite_existing">\n\t\t\t\t\t\t\t<div class="option-content">\n\t\t\t\t\t\t\t\t<span class="option-title">Overwrite existing cache</span>\n\t\t\t\t\t\t\t\t<span class="option-desc">Replace existing HLS files</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t').concat(l?'\n\t\t\t\t\t\t\t\t<label class="option-item highlight">\n\t\t\t\t\t\t\t\t\t<input type="checkbox" id="enable_auto_generation">\n\t\t\t\t\t\t\t\t\t<div class="option-content">\n\t\t\t\t\t\t\t\t\t\t<span class="option-title">Enable automatic generation</span>\n\t\t\t\t\t\t\t\t\t\t<span class="option-desc">Monitor directory for new videos and auto-generate HLS cache</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t':"",'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="dialog-actions">\n\t\t\t\t\t<button class="btn-cancel">Cancel</button>\n\t\t\t\t\t<button class="btn-confirm">Generate HLS Cache</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<style>\n\t\t\t.hyper-viewer-cache-modal {\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tz-index: 10001;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tpadding: 20px;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\topacity: 0;\n\t\t\t\tvisibility: hidden;\n\t\t\t\ttransition: opacity 0.3s ease, visibility 0.3s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-cache-modal.show {\n\t\t\t\topacity: 1;\n\t\t\t\tvisibility: visible;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-overlay {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tbackground: rgba(0, 0, 0, 0.7);\n\t\t\t\tbackdrop-filter: blur(4px);\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-cache-container {\n\t\t\t\tposition: relative;\n\t\t\t\tbackground: #1a1a1a;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tbox-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n\t\t\t\tmax-width: 600px;\n\t\t\t\twidth: 100%;\n\t\t\t\tmax-height: 90vh;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttransform: scale(0.95);\n\t\t\t\ttransition: transform 0.3s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-cache-modal.show .hyper-viewer-cache-container {\n\t\t\t\ttransform: scale(1);\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-cache-header {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 16px 20px;\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tborder-bottom: 1px solid #3a3a3a;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-cache-title {\n\t\t\t\tmargin: 0;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-cache-content {\n\t\t\t\tpadding: 20px;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\toverflow-y: auto;\n\t\t\t\tflex: 1;\n\t\t\t}\n\t\t\t\n\t\t\t.directory-info-card {\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tpadding: 16px;\n\t\t\t\tmargin-bottom: 24px;\n\t\t\t\tborder: 1px solid #3a3a3a;\n\t\t\t}\n\t\t\t\n\t\t\t.info-item {\n\t\t\t\tmargin-bottom: 12px;\n\t\t\t}\n\t\t\t\n\t\t\t.info-item:last-child {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}\n\t\t\t\n\t\t\t.file-list {\n\t\t\t\tmargin-top: 8px;\n\t\t\t\tpadding: 8px 12px;\n\t\t\t\tbackground: #1a1a1a;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #cccccc;\n\t\t\t\tmax-height: 80px;\n\t\t\t\toverflow-y: auto;\n\t\t\t}\n\t\t\t\n\t\t\t.no-videos-text {\n\t\t\t\tmargin-top: 8px;\n\t\t\t\tpadding: 8px 12px;\n\t\t\t\tbackground: #2d1b1b;\n\t\t\t\tborder: 1px solid #4a3333;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #ffcc99;\n\t\t\t}\n\t\t\t\n\t\t\t.form-section {\n\t\t\t\tmargin-bottom: 24px;\n\t\t\t}\n\t\t\t\n\t\t\t.section-title {\n\t\t\t\tdisplay: block;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tmargin-bottom: 12px;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 14px;\n\t\t\t}\n\t\t\t\n\t\t\t.option-group {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tgap: 8px;\n\t\t\t}\n\t\t\t\n\t\t\t.option-item {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: flex-start;\n\t\t\t\tgap: 12px;\n\t\t\t\tpadding: 12px;\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tborder: 1px solid #3a3a3a;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all 0.2s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.option-item:hover {\n\t\t\t\tbackground: #333333;\n\t\t\t\tborder-color: #4a4a4a;\n\t\t\t}\n\t\t\t\n\t\t\t.option-item.highlight {\n\t\t\t\tborder-color: #4a9eff;\n\t\t\t\tbackground: rgba(74, 158, 255, 0.1);\n\t\t\t}\n\t\t\t\n\t\t\t.option-content {\n\t\t\t\tflex: 1;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tgap: 4px;\n\t\t\t}\n\t\t\t\n\t\t\t.option-title {\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\t\t\t\n\t\t\t.option-desc {\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #999999;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-grid {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n\t\t\t\tgap: 8px;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-item {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tgap: 8px;\n\t\t\t\tpadding: 12px;\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tborder: 1px solid #3a3a3a;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all 0.2s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-item:hover {\n\t\t\t\tbackground: #333333;\n\t\t\t\tborder-color: #4a4a4a;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-content {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tgap: 2px;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-name {\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 14px;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-desc {\n\t\t\t\tfont-size: 12px;\n\t\t\t\tcolor: #999999;\n\t\t\t}\n\t\t\t\n\t\t\t.dialog-actions {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 12px;\n\t\t\t\tjustify-content: flex-end;\n\t\t\t\tmargin-top: 24px;\n\t\t\t\tpadding-top: 20px;\n\t\t\t\tborder-top: 1px solid #3a3a3a;\n\t\t\t}\n\t\t\t\n\t\t\t.btn-cancel, .btn-confirm {\n\t\t\t\tpadding: 10px 20px;\n\t\t\t\tborder: none;\n\t\t\t\tborder-radius: 6px;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all 0.2s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.btn-cancel {\n\t\t\t\tbackground: #3a3a3a;\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\t\t\t\n\t\t\t.btn-cancel:hover {\n\t\t\t\tbackground: #4a4a4a;\n\t\t\t}\n\t\t\t\n\t\t\t.btn-confirm {\n\t\t\t\tbackground: #4a9eff;\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\t\t\t\n\t\t\t.btn-confirm:hover {\n\t\t\t\tbackground: #0066cc;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-close {\n\t\t\t\tbackground: transparent;\n\t\t\t\tborder: none;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tcursor: pointer;\n\t\t\t\tpadding: 8px;\n\t\t\t\tborder-radius: 6px;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\ttransition: background-color 0.2s ease, color 0.2s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-close:hover {\n\t\t\t\tbackground: rgba(255, 255, 255, 0.1);\n\t\t\t\tcolor: #ff6b6b;\n\t\t\t}\n\t\t</style>\n\t'),document.body.appendChild(c),document.body.style.overflow="hidden",requestAnimationFrame(function(){c.classList.add("show")}),function(){return M.apply(this,arguments)}().then(function(e){var t=c.querySelector("#cache-locations-container");e&&e.length>0?t.innerHTML=e.map(function(e,t){return'\n\t\t\t\t<label class="option-item">\n\t\t\t\t\t<input type="radio" name="cache_location" data-path="'.concat(e,'" ').concat(0===t?"checked":"",'>\n\t\t\t\t\t<div class="option-content">\n\t\t\t\t\t\t<span class="option-title">').concat(e,"</span>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t")}).join(""):t.innerHTML='<p style="color: #ff6b6b;">No cache locations configured. Please configure in personal settings.</p>'});var d=function(e){"Escape"===e.key&&h()},h=function(){c.classList.remove("show"),document.removeEventListener("keydown",d),setTimeout(function(){document.body.style.overflow="",c.parentNode&&c.parentNode.removeChild(c)},300)};c.querySelector(".hyper-viewer-close").addEventListener("click",h),c.querySelector(".hyper-viewer-overlay").addEventListener("click",h),c.querySelector(".btn-cancel").addEventListener("click",h),c.querySelector(".btn-confirm").addEventListener("click",function(){l?function(e,t){D.apply(this,arguments)}(u,s):O(o),h()}),document.addEventListener("keydown",d)}function M(){return(M=S(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(OC.generateUrl("/apps/hyperviewer/settings/cache-locations"),{headers:{requesttoken:OC.requestToken}});case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n.locations||[]);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),T.error("Failed to fetch cache locations:",e.t0);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function L(){return(L=S(regeneratorRuntime.mark(function e(t,n){var i,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T.log("🔧 Opening directory cache generation dialog for:",t),r=(null==n?void 0:n.dir)||(null==n||null===(i=n.fileList)||void 0===i?void 0:i.getCurrentDirectory())||"/",a="/"===r?"/".concat(t):"".concat(r,"/").concat(t),T.log("🔍 Discovering video files in directory:",a),e.next=6,R(a);case 6:o=e.sent,I({type:"directory",directoryPath:a,videoFiles:o});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e){return P.apply(this,arguments)}function P(){return(P=S(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(OC.generateUrl("/apps/hyperviewer/cache/discover-videos"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({directory:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(!(i=e.sent).success){e.next=11;break}return e.abrupt("return",i.files||[]);case 11:throw new Error(i.error||"Failed to discover video files");case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(0),T.error("Failed to discover video files:",e.t0),OC.dialogs.alert("Failed to scan directory: ".concat(e.t0.message),"Discovery Error"),e.abrupt("return",[]);case 19:case"end":return e.stop()}},e,null,[[0,14]])}))).apply(this,arguments)}function D(){return D=S(regeneratorRuntime.mark(function e(t,n){var i,r,a,o,s,u,l,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.log("Starting directory HLS cache generation for:",n),a=document.querySelector('input[name="cache_location"]:checked')){e.next=5;break}return OC.dialogs.alert("Please select a cache location","Error"),e.abrupt("return");case 5:if(o=a.dataset.path){e.next=9;break}return OC.dialogs.alert("Invalid cache location selected","Error"),e.abrupt("return");case 9:if(s=(null===(i=document.getElementById("overwrite_existing"))||void 0===i?void 0:i.checked)||!1,u=(null===(r=document.getElementById("enable_auto_generation"))||void 0===r?void 0:r.checked)||!1,l=Array.from(document.querySelectorAll('input[name="resolution"]:checked')).map(function(e){return e.value}),c=l.length>0?l:["720p","480p","360p","240p"],d={cachePath:o,overwriteExisting:s,resolutions:c,enableAutoGeneration:u,directoryPath:n},T.log("Directory cache generation options:",d),e.prev=15,!(t.length>0)){e.next=19;break}return e.next=19,O(t);case 19:if(!u){e.next=30;break}return e.prev=20,e.next=23,fetch(OC.generateUrl("/apps/hyperviewer/cache/register-auto-generation"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({directory:n,options:d})});case 23:e.sent.ok?T.log("✅ Directory registered for auto-generation"):T.error("❌ Failed to register directory for auto-generation"),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(20),T.error("Error registering directory for auto-generation:",e.t0);case 30:t.length>0&&u?T.log("✅ Started processing ".concat(t.length," files and enabled auto-generation for ").concat(n)):t.length>0?T.log("✅ Started processing ".concat(t.length," files in ").concat(n)):u&&(T.log("✅ Auto-generation enabled for ".concat(n," - will monitor for new videos")),OC.dialogs.info('Auto-generation has been enabled for "'.concat(n,'".\n\nNew video files added to this directory will automatically have HLS cache generated.'),"Auto-Generation Enabled")),e.next=37;break;case 33:e.prev=33,e.t1=e.catch(15),T.error("Failed to start directory cache generation:",e.t1),OC.dialogs.alert("Failed to start directory processing: ".concat(e.t1.message),"Processing Error");case 37:case"end":return e.stop()}},e,null,[[15,33],[20,27]])})),D.apply(this,arguments)}function O(e){return N.apply(this,arguments)}function N(){return N=S(regeneratorRuntime.mark(function e(t){var n,i,r,a,o,s,u,l,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.log("Starting HLS cache generation for:",t.map(function(e){return e.filename})),i=document.querySelector('input[name="cache_location"]:checked')){e.next=5;break}return OC.dialogs.alert("Please select a cache location","Error"),e.abrupt("return");case 5:if(r=i.dataset.path){e.next=9;break}return OC.dialogs.alert("Invalid cache location selected","Error"),e.abrupt("return");case 9:return a=(null===(n=document.getElementById("overwrite_existing"))||void 0===n?void 0:n.checked)||!1,o=Array.from(document.querySelectorAll('input[name="resolution"]:checked')).map(function(e){return e.value}),s=o.length>0?o:["720p","480p","240p"],u={cachePath:r,overwriteExisting:a,resolutions:s},T.log("Cache generation options:",u),l=t.map(function(e){var t,n,i;return{filename:e.filename,directory:(null===(t=e.context)||void 0===t?void 0:t.dir)||(null===(n=e.context)||void 0===n||null===(i=n.fileList)||void 0===i?void 0:i.getCurrentDirectory())||"/"}}),e.prev=15,e.next=18,fetch(OC.generateUrl("/apps/hyperviewer/cache/generate"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({files:l,cachePath:u.cachePath,overwriteExisting:u.overwriteExisting,resolutions:u.resolutions})});case 18:return c=e.sent,e.next=21,c.json();case 21:if(!(d=e.sent).success){e.next=28;break}T.log("HLS cache generation started successfully",d),d.jobId&&T.log("📈 Tracking progress for job: ".concat(d.jobId)),OC.dialogs.info("Cache generation started for ".concat(t.length," file(s).\n\nCache location: ").concat(u.cachePath,"\n\nResolutions: ").concat(u.resolutions.join(", "),"\n\nProcessing will run in the background."),"HLS Cache Generation Started"),e.next=29;break;case 28:throw new Error(d.error||"Unknown error occurred");case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(15),T.error("Failed to start HLS cache generation:",e.t0),OC.dialogs.alert("Failed to start cache generation: ".concat(e.t0.message),"Error");case 35:case"end":return e.stop()}},e,null,[[15,31]])})),N.apply(this,arguments)}T.log("🎬 Hyper Viewer Files integration loading..."),document.addEventListener("DOMContentLoaded",function(){"body-user"!==document.body.id||!window.location.pathname.includes("/apps/files")&&null===document.querySelector("#app-content-files")&&null===document.querySelector(".files-filestable")?T.log("⏭️ Not in Files app, skipping integration"):setTimeout(E,1e3)})}()}();
//# sourceMappingURL=files-integration.js.map